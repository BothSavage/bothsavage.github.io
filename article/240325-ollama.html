<!DOCTYPE html><html lang="zh-CN"><head><title>mac体验ollama本地大模型 | Both Savage</title><meta name="theme-color" content="#000000"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0"/><meta name="robots" content="follow, index"/><meta charSet="UTF-8"/><meta name="keywords" content="工具,推荐,折腾"/><meta name="description" content="m1 pro芯片+32g体验了五种大模型本地部署"/><meta property="og:locale" content="en_US"/><meta property="og:title" content="mac体验ollama本地大模型 | Both Savage"/><meta property="og:description" content="m1 pro芯片+32g体验了五种大模型本地部署"/><meta property="og:url" content="https://bothsavage.github.io//article/240325-ollama"/><meta property="og:image" content="https://source.unsplash.com/random?t=e8fd9138-663d-415d-9684-24343fb3248f"/><meta property="og:site_name" content="Both Savage"/><meta property="og:type" content="Post"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:description" content="m1 pro芯片+32g体验了五种大模型本地部署"/><meta name="twitter:title" content="mac体验ollama本地大模型 | Both Savage"/><meta name="referrer" content="no-referrer-when-downgrade"/><meta property="article:published_time"/><meta property="article:author" content="Both Savage"/><meta property="article:section" content="技"/><meta property="article:publisher"/><meta name="next-head-count" content="22"/><link rel="icon" href="/favicon.ico"/><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" crossorigin="anonymous"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerPolicy="no-referrer"/><link rel="preload" as="font" type="font/woff2" data-href="https://fonts.googleapis.com/css?family=Bitter&amp;display=swap"/><link rel="preload" as="font" type="font/woff2" data-href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300&amp;display=swap"/><link rel="preload" as="font" type="font/woff2" data-href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300&amp;display=swap"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/06c69360ab4a808f.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/06c69360ab4a808f.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script defer="" src="/_next/static/chunks/3607272e.930e8446c6ba44e1.js" crossorigin=""></script><script defer="" src="/_next/static/chunks/85853.7b82235f14365c08.js" crossorigin=""></script><script src="/_next/static/chunks/webpack-3c2098fe4d6464d4.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-b7fa4bf8e1ae99a1.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-30e956e31ac22080.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-e7616ab64265e571.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/88495-859c98bd25cf70c4.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/%5Bprefix%5D/%5Bslug%5D-5b13cd8bd4bab6aa.js" defer="" crossorigin=""></script><script src="/_next/static/BXRCp25crm_MkH1v6tARN/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/BXRCp25crm_MkH1v6tARN/_ssgManifest.js" defer="" crossorigin=""></script><style id="__jsx-763a7ba965151bca">.dark body{background-color:black}</style></head><body class="font-sans font-light scroll-smooth"><div id="__next"><div id="theme-gitbook" class="bg-white dark:bg-hexo-black-gray w-full h-full min-h-screen justify-center dark:text-gray-300"><div id="top-nav" class="fixed top-0 w-full z-40 undefined"><div style="height:0px;will-change:height" class="md:hidden overflow-hidden duration-200 "><div class="bg-white dark:bg-hexo-black-gray pt-1 py-2 lg:hidden "><nav id="nav" class=" text-md"><div class="hover:text-green-600 px-7 w-full text-left duration-200 dark:bg-hexo-black-gray dark:border-black"><a target="_blank" class="py-2 w-full my-auto items-center justify-between flex  " href="https://github.com/BOTHSAVAGE"><div><div class="fab fa-github text-center w-4 mr-4"></div>Github</div></a></div><div class="hover:text-green-600 px-7 w-full text-left duration-200 dark:bg-hexo-black-gray dark:border-black"><div class="py-2 font-extralight flex justify-between cursor-pointer  dark:text-gray-200 no-underline tracking-widest"><div><div class="fas fa-archive text-center w-4 mr-4"></div>往期整理</div><div class="inline-flex items-center "><i class="px-2 fas fa-chevron-right transition-all duration-200 "></i></div></div></div><div style="height:0px;will-change:height" class=" overflow-hidden duration-200 "><div class=" not:last-child:border-b-0 border-b dark:border-gray-800 py-2 px-14 cursor-pointer hover:bg-gray-100 dark:text-gray-200 font-extralight dark:bg-black text-left justify-start text-gray-600 bg-gray-50 dark:hover:bg-gray-900 tracking-widest transition-all duration-200"><a target="_self" href="/archive"><div><div class="fas fa-clock-rotate-left text-center w-3 mr-3 text-xs"></div>历史归档</div></a></div><div class=" not:last-child:border-b-0 border-b dark:border-gray-800 py-2 px-14 cursor-pointer hover:bg-gray-100 dark:text-gray-200 font-extralight dark:bg-black text-left justify-start text-gray-600 bg-gray-50 dark:hover:bg-gray-900 tracking-widest transition-all duration-200"><a target="_self" href="/category"><div><div class="fas fa-th text-center w-3 mr-3 text-xs"></div>文章分类</div></a></div><div class=" not:last-child:border-b-0 border-b dark:border-gray-800 py-2 px-14 cursor-pointer hover:bg-gray-100 dark:text-gray-200 font-extralight dark:bg-black text-left justify-start text-gray-600 bg-gray-50 dark:hover:bg-gray-900 tracking-widest transition-all duration-200"><a target="_self" href="/tag"><div><div class="fas fa-tag text-center w-3 mr-3 text-xs"></div>文章标签</div></a></div></div></nav></div></div><div class="flex w-full h-14 shadow glassmorphism bg-white dark:bg-hexo-black-gray px-7 items-between"><div id="top-wrapper" class="w-full flex items-center"><div class="cursor-pointer md:hidden text-xl pr-3 hover:scale-110 duration-150"><i class="fa-solid fa-indent"></i></div><a class="flex text-md md:text-xl dark:text-gray-200" href="/"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Both Savage" width="24" height="24" class="mr-2 hidden md:block"/>Both Savage</a></div><div class="mr-1 flex md:hidden justify-end items-center space-x-4 font-serif dark:text-gray-200"><div class="flex text-md items-center h-full flex justify-center dark:text-gray-200 text-gray-800"><div id="darkModeButton" class=" hover:scale-110 cursor-pointer transform duration-200 w-5 h-5"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></div></div><div class="cursor-pointer text-lg hover:scale-110 duration-150"><i class="fa-solid fa-ellipsis-vertical"></i></div></div><div class="hidden md:flex"><li class="cursor-pointer list-none items-center flex mx-2"><div class="px-2 h-full whitespace-nowrap duration-300 text-sm justify-between dark:text-gray-300 cursor-pointer flex flex-nowrap items-center hover:text-green-600"><a target="_blank" href="https://github.com/BOTHSAVAGE"><i class="fab fa-github"></i> <!-- -->Github</a></div></li><li class="cursor-pointer list-none items-center flex mx-2"><div class="px-2 h-full whitespace-nowrap duration-300 text-sm justify-between dark:text-gray-300 cursor-pointer flex flex-nowrap items-center hover:text-green-600"><div><i class="fas fa-archive"></i> <!-- -->往期整理<i class="px-2 fas fa-chevron-down duration-500 transition-all "></i></div></div><ul class="invisible opacity-0 top-10  border-gray-100  bg-white  dark:bg-black dark:border-gray-800 transition-all duration-300 z-20 absolute block drop-shadow-lg "><li class="not:last-child:border-b-0 border-b text-gray-700 dark:text-gray-200  hover:bg-gray-50 dark:hover:bg-gray-900 tracking-widest transition-all duration-200  dark:border-gray-800 py-3 pr-6 pl-3"><a target="_self" href="/archive"><span class="text-xs font-extralight"><i class="fas fa-clock-rotate-left">   </i>历史归档</span></a></li><li class="not:last-child:border-b-0 border-b text-gray-700 dark:text-gray-200  hover:bg-gray-50 dark:hover:bg-gray-900 tracking-widest transition-all duration-200  dark:border-gray-800 py-3 pr-6 pl-3"><a target="_self" href="/category"><span class="text-xs font-extralight"><i class="fas fa-th">   </i>文章分类</span></a></li><li class="not:last-child:border-b-0 border-b text-gray-700 dark:text-gray-200  hover:bg-gray-50 dark:hover:bg-gray-900 tracking-widest transition-all duration-200  dark:border-gray-800 py-3 pr-6 pl-3"><a target="_self" href="/tag"><span class="text-xs font-extralight"><i class="fas fa-tag">   </i>文章标签</span></a></li></ul></li><div class="text-sm flex items-center h-full flex justify-center dark:text-gray-200 text-gray-800"><div id="darkModeButton" class=" hover:scale-110 cursor-pointer transform duration-200 w-5 h-5"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></div></div></div></div></div><main id="wrapper" class="relative flex justify-between w-full h-full mx-auto"><div class="font-sans hidden md:block border-r dark:border-transparent relative z-10 "><div class="w-72 py-14 px-6 sticky top-0 overflow-y-scroll h-screen scroll-hidden"><div class="flex w-full"><input type="text" class="my-3 rounded-md outline-none w-full text-sm pl-2 transition focus:shadow-lg font-light leading-10 text-black bg-gray-100 dark:bg-gray-900 dark:text-white"/><div class="flex -ml-8 cursor-pointer float-right items-center justify-center py-2"><i class="hover:text-black transform duration-200 text-gray-500  dark:hover:text-gray-300 cursor-pointer fas fa-search"></i></div></div><div class="mb-20"><div id="posts-wrapper" class="w-full flex-grow"><div class="select-none flex justify-between text-sm font-sans cursor-pointer p-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600"><span>技术分享</span><div class="inline-flex items-center select-none pointer-events-none "><i class="px-2 fas fa-chevron-left transition-all duration-200 -rotate-90"></i></div></div><div style="height:0px;will-change:height" class=" overflow-hidden duration-200 "><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  bg-green-50 text-green-500"><div class="flex flex-col w-full select-none"><a href="/article/240325-ollama">mac体验ollama本地大模型</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240320-arthas">Arthas简单使用备忘录</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240319-xmrig">Xmrig挖矿入侵服务器排查</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240124-deploy">Java部署脚本&amp;重启备份检查&amp;配置环境</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240121-skywaking">解决SkyWalking在gateway中logback链路丢失</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240119-notion">Notion文章自动同步GitPage</a></div></div></div></div><div class="select-none flex justify-between text-sm font-sans cursor-pointer p-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600"><span>心情随笔</span><div class="inline-flex items-center select-none pointer-events-none "><i class="px-2 fas fa-chevron-left transition-all duration-200 "></i></div></div><div style="height:0px;will-change:height" class=" overflow-hidden duration-200 "><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/example">示例文章</a></div></div></div></div><div class="select-none flex justify-between text-sm font-sans cursor-pointer p-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600"><span>知行合一</span><div class="inline-flex items-center select-none pointer-events-none "><i class="px-2 fas fa-chevron-left transition-all duration-200 "></i></div></div><div style="height:0px;will-change:height" class=" overflow-hidden duration-200 "><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/begin">开始</a></div></div></div></div></div></div></div><div class="w-72 fixed left-0 bottom-0 z-20 bg-white"><footer class="z-20 py-2 bg:white dark:bg-hexo-black-gray justify-center text-center w-full text-sm relative"><hr class="pb-2"/><div class="flex justify-center"><div><i class="mx-1 animate-pulse fas fa-heart"></i> <a href="https://bothsavage.github.io/" class="underline font-bold text-gray-500 dark:text-gray-300 ">Both Savage</a>.<br/></div>© <!-- -->2024</div><div class="text-xs font-serif">Powered By <a href="https://github.com/tangly1024/NotionNext" class="underline text-gray-500 dark:text-gray-300">NotionNext</a></div><span class="hidden busuanzi_container_site_pv"><i class="fas fa-eye"></i><span class="px-1 busuanzi_value_site_pv"> </span>  </span><span class="pl-2 hidden busuanzi_container_site_uv"><i class="fas fa-users"></i> <span class="px-1 busuanzi_value_site_uv"> </span> </span><h1 class="pt-1">Both Savage</h1></footer></div></div><div id="center-wrapper" class="flex flex-col justify-between w-full relative z-10 pt-14 min-h-screen"><div id="container-inner" class="w-full px-7 max-w-3xl justify-center mx-auto"><div class="transition ease-in-out duration-700 transform order-first opacity-0 translate-y-16"><div id="container"><h1 class="text-3xl pt-12  dark:text-gray-300">mac体验ollama本地大模型</h1><section id="article-wrapper" class="px-1"><div id="notion-article" class="mx-auto overflow-hidden "><main class="notion light-mode notion-page notion-block-e8fd9138663d415d968424343fb3248f"><div class="notion-viewport"></div><div class="notion-collection-page-properties"><div class="notion-collection-row"><div class="notion-collection-row-body"><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">type</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">status</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M10.889 5.5H3.11v1.556h7.778V5.5zm1.555-4.444h-.777V0H10.11v1.056H3.89V0H2.333v1.056h-.777c-.864 0-1.548.7-1.548 1.555L0 12.5c0 .856.692 1.5 1.556 1.5h10.888C13.3 14 14 13.356 14 12.5V2.611c0-.855-.7-1.555-1.556-1.555zm0 11.444H1.556V3.944h10.888V12.5zM8.556 8.611H3.11v1.556h5.445V8.61z"></path></svg><div class="notion-collection-column-title-body">date</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-date"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">slug</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">summary</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M4 3a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zM2 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2z"></path></svg><div class="notion-collection-column-title-body">tags</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-multi_select"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">category</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">icon</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">password</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text"></span></div></div></div></div></div><div class="notion-table-of-contents notion-gray notion-block-bc73e0a0094045959732ab9c28cd26a7"><a href="#ba4103b98a3f4c44bda847b3722d4e15" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">契机</span></a><a href="#2aa083b807264e50bd4df857b5dd0316" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">基础配置</span></a><a href="#45149c38559d414b830fc06c20da7dec" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">ollama</span></a><a href="#5ea402bc1e804e359b3343c347bda5e7" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">chatbox</span></a><a href="#d52f61a6953045cf8e555822170d7448" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">模型对比</span></a><a href="#5efbbd5123a04cc2b0343da0b79430f7" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">promot&amp;question</span></a><a href="#d47a618fcf904bc495576424452366d4" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">openai:3.5</span></a><a href="#c713c08c2d0b4eb1881771fec58212ef" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">mistral:7b</span></a><a href="#7e5fed0f7e6c4eb0957baf7e801e764e" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">llama2:4b</span></a><a href="#6e0e38e977744f499fbb67e52a21593d" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">starcoder2:15b</span></a><a href="#9d06ce11437e4aef8661c6551d358cf5" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">llama2:13b</span></a><a href="#440e5ba9230942239df250ca1b67e237" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">总结</span></a><a href="#e1da917bbb7142529f5fd1c997b18551" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">写到最后</span></a></div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-ba4103b98a3f4c44bda847b3722d4e15" data-id="ba4103b98a3f4c44bda847b3722d4e15"><span><div id="ba4103b98a3f4c44bda847b3722d4e15" class="notion-header-anchor"></div><a class="notion-hash-link" href="#ba4103b98a3f4c44bda847b3722d4e15" title="契机"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">契机</span></span></h2><div class="notion-callout notion-gray_background_co notion-block-e8405e2223194ec093b35a799df21fc4"><div class="notion-page-icon-inline notion-page-icon-span"><span class="notion-page-icon" role="img" aria-label="⚙">⚙</span></div><div class="notion-callout-text">最近发现了meta发布了llama2模型,搜索一圈发现使用ollama部署特别的方便</div></div><div class="notion-blank notion-block-7dfa62e308fb4a0daf59773b0f9f56dc"> </div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-2aa083b807264e50bd4df857b5dd0316" data-id="2aa083b807264e50bd4df857b5dd0316"><span><div id="2aa083b807264e50bd4df857b5dd0316" class="notion-header-anchor"></div><a class="notion-hash-link" href="#2aa083b807264e50bd4df857b5dd0316" title="基础配置"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">基础配置</span></span></h2><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-45149c38559d414b830fc06c20da7dec" data-id="45149c38559d414b830fc06c20da7dec"><span><div id="45149c38559d414b830fc06c20da7dec" class="notion-header-anchor"></div><a class="notion-hash-link" href="#45149c38559d414b830fc06c20da7dec" title="ollama"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">ollama</span></span></h3><ul class="notion-list notion-list-disc notion-block-281bb727bba84f6ea1ffb55b6f76b39c"><li>直接去官网下载：<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://ollama.com/">https://ollama.com/</a></li></ul><ul class="notion-list notion-list-disc notion-block-b64c746d9c8c458e92922e365dea363b"><li>命令行运行ollama -h查看命令集</li></ul><ul class="notion-list notion-list-disc notion-block-1b0d3b8dc1f04ca3907c1e34341d376b"><li>查看本地模型列表：ollama list</li></ul><ul class="notion-list notion-list-disc notion-block-db1102e6f11145af96a4db331284b95b"><li>下载并且运行模型：ollama run llama2:13b</li></ul><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-78995c5ea8424a30b1a93a93f7b37307"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:cover" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Feb3e1328-8f32-4ff5-8d18-8ea80020e175%2F0ed7329d-d7fd-4a94-b61c-b320abce770b%2FUntitled.png?table=block&amp;id=78995c5e-a842-4a30-b1a9-3a93f7b37307&amp;t=78995c5e-a842-4a30-b1a9-3a93f7b37307" alt="notion image" loading="lazy" decoding="async"/></div></figure><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-5ea402bc1e804e359b3343c347bda5e7" data-id="5ea402bc1e804e359b3343c347bda5e7"><span><div id="5ea402bc1e804e359b3343c347bda5e7" class="notion-header-anchor"></div><a class="notion-hash-link" href="#5ea402bc1e804e359b3343c347bda5e7" title="chatbox"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">chatbox</span></span></h3><ul class="notion-list notion-list-disc notion-block-90137cb747e442a8bd953be130d612a0"><li>gpt的client端,支持多种模型，包括ollama本地运行的模型</li></ul><ul class="notion-list notion-list-disc notion-block-5ed02535d8e346f58efb5e68003b6fec"><li>地址：<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://github.com/Bin-Huang/chatbox">https://github.com/Bin-Huang/chatbox</a></li></ul><ul class="notion-list notion-list-disc notion-block-426b70c6f0fe4849b277b986cc09a3eb"><li>内置了许多的promot,比如软件工程师，翻译助手，小红书标题生成器</li></ul><ul class="notion-list notion-list-disc notion-block-24e1ffffe99e4a8eb080f3948a289de8"><li>支持为每一个会话指定特殊的模型</li></ul><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-0b1e06e421a74f20b95cdd39c9232d8e"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:cover" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Feb3e1328-8f32-4ff5-8d18-8ea80020e175%2F57a953d1-aa3b-4836-b7de-fa0eb70300f9%2FUntitled.png?table=block&amp;id=0b1e06e4-21a7-4f20-b95c-dd39c9232d8e&amp;t=0b1e06e4-21a7-4f20-b95c-dd39c9232d8e" alt="notion image" loading="lazy" decoding="async"/></div></figure><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-d52f61a6953045cf8e555822170d7448" data-id="d52f61a6953045cf8e555822170d7448"><span><div id="d52f61a6953045cf8e555822170d7448" class="notion-header-anchor"></div><a class="notion-hash-link" href="#d52f61a6953045cf8e555822170d7448" title="模型对比"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">模型对比</span></span></h2><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-5efbbd5123a04cc2b0343da0b79430f7" data-id="5efbbd5123a04cc2b0343da0b79430f7"><span><div id="5efbbd5123a04cc2b0343da0b79430f7" class="notion-header-anchor"></div><a class="notion-hash-link" href="#5efbbd5123a04cc2b0343da0b79430f7" title="promot&amp;question"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">promot&amp;question</span></span></h3><blockquote class="notion-quote notion-block-3fee6369f3e14e3eb833b1f24a8acf97"><div>promot：</div><div class="notion-text notion-block-f8f42a19b2fc45dda16f7eb56a1f35e9">你是一个高级软件工程师，你需要帮我解答各种技术难题、设计技术方案以及编写代码。你编写的代码必须可以正常运行，而且没有任何 Bug 和其他问题。如果你的回答中用代码，请用 markdown 代码块，并且在代码块中标明使用的编程语言。

question：</div><div class="notion-text notion-block-3c5a4d3b35b445cd89a636019aef8fe9">select * from t where c=5 for update;</div><div class="notion-text notion-block-765c2ea538db401eb852a981010c0f96">but c not index,tell me the process of locking
and the time of release lock</div></blockquote><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-d47a618fcf904bc495576424452366d4" data-id="d47a618fcf904bc495576424452366d4"><span><div id="d47a618fcf904bc495576424452366d4" class="notion-header-anchor"></div><a class="notion-hash-link" href="#d47a618fcf904bc495576424452366d4" title="openai:3.5"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">openai:3.5</span></span></h3><div class="notion-text notion-block-3b8b9cc19b384a3eab5a56578873df3e">When you run a query like <code class="notion-inline-code">SELECT * FROM t WHERE c=5 FOR UPDATE;</code> in MySQL on a column <code class="notion-inline-code">c</code> that is not indexed, MySQL will perform a full table scan to find the rows that match the condition <code class="notion-inline-code">c=5</code>. During this process, MySQL will acquire a shared lock on all the rows it reads to prevent other transactions from modifying them.</div><div class="notion-text notion-block-74300add803e4d7c8304a821a5d5ab2c">Here is the general process of locking and the time of releasing the lock:</div><ol start="1" class="notion-list notion-list-numbered notion-block-8976a6ea02cb4bf3a518053203e7e9c1"><li><b>Shared (Read) Lock</b>: MySQL will acquire a shared (read) lock on the rows that match the condition <code class="notion-inline-code">c=5</code>. This lock allows other transactions to read the locked rows but prevents them from modifying them.</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-f5d8c5c41f5d4a4d8fd85c30e378c422"><li><b>Exclusive (Write) Lock</b>: When you use <code class="notion-inline-code">FOR UPDATE</code> in your query, MySQL will upgrade the shared lock to an exclusive (write) lock on the matched rows. This exclusive lock prevents other transactions from both reading and writing to the locked rows until the transaction is either committed or rolled back.</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-a97f0ddea2f14dfa8a56f27c4f9396fb"><li><b>Time of Releasing Lock</b>: The lock acquired using <code class="notion-inline-code">FOR UPDATE</code> will be released when the current transaction is either committed or rolled back. If the transaction is rolled back, the lock will be released immediately. If the transaction is committed, the exclusive locks will be released at the end of the transaction.</li></ol><div class="notion-text notion-block-eb3dc7f44bfd454fb935cde5ab908c41">It&#x27;s important to note that locking behavior can vary depending on the isolation level of the transaction and the specific MySQL configuration settings. Additionally, using <code class="notion-inline-code">FOR UPDATE</code> without an index on the column can lead to performance issues, especially on large tables, as it may result in full table scans and increased locking contention. Consider adding an index on column <code class="notion-inline-code">c</code> if this query is frequently used for better performance.</div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-c713c08c2d0b4eb1881771fec58212ef" data-id="c713c08c2d0b4eb1881771fec58212ef"><span><div id="c713c08c2d0b4eb1881771fec58212ef" class="notion-header-anchor"></div><a class="notion-hash-link" href="#c713c08c2d0b4eb1881771fec58212ef" title="mistral:7b"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">mistral:7b</span></span></h3><div class="notion-text notion-block-bbe523e153a145deaf5803a940f59e85">Based on your SQL query <code class="notion-inline-code">SELECT * FROM t WHERE c = 5 FOR UPDATE</code>, it seems you are working with MySQL or a similar database management system. In this context, let&#x27;s discuss the process of obtaining and releasing locks in relation to this query.</div><div class="notion-text notion-block-4bcc27a38629411bbe7a75aea797e1ed">When you execute the query <code class="notion-inline-code">SELECT * FROM t WHERE c = 5 FOR UPDATE</code>, the database engine acquires a lock on the record(s) with column &#x27;c&#x27; equal to 5, preventing other transactions from reading or updating those records until the current transaction is committed or rolled back. This process ensures data consistency and concurrency control.</div><div class="notion-text notion-block-9a6f775903314d6095e2dc10c6cb87bd">The actual time of obtaining a lock depends on various factors such as network latency, server workload, and database configuration. Generally, it&#x27;s considered to be an instantaneous operation once the query execution reaches that point. However, keep in mind that the actual query processing time and network transfer time might add significant delay.</div><div class="notion-text notion-block-da1b112d857e4b6fbf49b7f5208b24e4">As for releasing the lock, it happens automatically when the current transaction is committed or rolled back. Once the transaction has been finalized, the database engine releases the locks on the corresponding records, making them available to other transactions again.</div><div class="notion-text notion-block-87c6e6a2d2e34a188637efe4abd4560f">Here&#x27;s a simplified overview of the process:</div><ol start="1" class="notion-list notion-list-numbered notion-block-2c28bfdeeb254e7aa2c13c12dcb72f28"><li>The query <code class="notion-inline-code">SELECT * FROM t WHERE c = 5 FOR UPDATE</code> is executed.</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-9a7a68973dfa4aa89636234b3c0b6548"><li>The database engine locates the record(s) with &#x27;c&#x27; equal to 5 and acquires a lock on them.</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-58fecf876dcf43dba9c7538f413796f7"><li>Once the query has finished processing those records, the transaction is committed or rolled back.</li></ol><ol start="4" class="notion-list notion-list-numbered notion-block-68f363f2b18342809abbeab957c3db38"><li>If the transaction is committed, the locks are released and made available for other transactions.</li></ol><ol start="5" class="notion-list notion-list-numbered notion-block-412d0b21bcfe40d48fb7a69d9bdb7c91"><li>If the transaction is rolled back, the locks are also released but any changes made during the transaction are discarded.</li></ol><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-7e5fed0f7e6c4eb0957baf7e801e764e" data-id="7e5fed0f7e6c4eb0957baf7e801e764e"><span><div id="7e5fed0f7e6c4eb0957baf7e801e764e" class="notion-header-anchor"></div><a class="notion-hash-link" href="#7e5fed0f7e6c4eb0957baf7e801e764e" title="llama2:4b"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">llama2:4b</span></span></h3><div class="notion-text notion-block-f8a5c31eaaeb4215bece5545539ec80b">As a high-level software engineer, I&#x27;d be happy to help you with your question.</div><div class="notion-text notion-block-e2239195971a49858fac5b9ea90996c0">The query <code class="notion-inline-code">SELECT * FROM t WHERE c = 5 FOR UPDATE</code> is a common mechanism for acquiring a row-level lock on a table <code class="notion-inline-code">t</code> for the specified condition <code class="notion-inline-code">c = 5</code>. When this query is executed, it will acquire an exclusive lock on the rows that match the condition, preventing any other concurrent updates or reads from accessing those rows until the lock is released.</div><div class="notion-text notion-block-44061d98d405487ab2a4078279d3d999">The process of locking in this case involves the following steps:</div><ol start="1" class="notion-list notion-list-numbered notion-block-702ec273b84845ae9fab0e7e445b8470"><li>The query is executed and a lock is acquired on the relevant rows.</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-e8a8f50535494deda263991f5462efb2"><li>The lock is held by the thread that executed the query, preventing any other threads from acquiring the same lock until it is released.</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-42700ae9262740a29d1df9ed715ab0dc"><li>The lock is released when the thread that executed the query completes its work and no longer needs the lock.</li></ol><ol start="4" class="notion-list notion-list-numbered notion-block-a28dd66e5a774dfe815b474c1e36c0fb"><li>Other threads can then acquire the lock and update or read the rows that were previously locked.</li></ol><div class="notion-text notion-block-c48d061798e94c698225a3fc30c3d5b4">The time of release lock depends on various factors, including the operating system, hardware, and database configuration. In general, the lock is released when the thread that executed the query completes its work and no longer needs the lock. This can happen immediately after the query is executed, or it may take some time depending on the complexity of the task and the availability of resources.</div><div class="notion-text notion-block-97118fdd3e4d4a058d1fd4a942831683">In MySQL, the default isolation level is <code class="notion-inline-code">READ UNCOMMITTED</code>, which means that locks are acquired using the <code class="notion-inline-code">FOR UPDATE</code> clause. This allows other threads to read the rows while the first thread is updating them, but it does not guarantee that the second thread will see the updates made by the first thread before committing its changes.</div><div class="notion-text notion-block-29619cb810364c56ad1d44078669c26b">If you want to acquire a lock on a specific row or set of rows without using the <code class="notion-inline-code">FOR UPDATE</code> clause, you can use the <code class="notion-inline-code">LOCK TABLE</code> statement in MySQL. This statement allows you to acquire an exclusive lock on a table for a specified period of time, preventing any other threads from accessing the table during that time.</div><div class="notion-text notion-block-9b40075143424a08b4a4df5993d548f1">Here is an example of how to use <code class="notion-inline-code">LOCK TABLE</code> to acquire a lock on a specific row:</div><div class="notion-text notion-block-aac21867aa33403793e303b5f0ca84f9">This will acquire an exclusive lock on the row with <code class="notion-inline-code">id = 5</code> in the table <code class="notion-inline-code">t</code>, preventing any other threads from updating or reading that row until the lock is released.</div><div class="notion-text notion-block-2834c258d3b348ce9e958a21b18053f8">Note that the <code class="notion-inline-code">LOCK TABLE</code> statement can be used to acquire locks on multiple rows or tables, and it can also be used to acquire locks for longer periods of time than the default isolation level. However, it is important to use this statement judiciously and only when necessary to avoid contention and deadlocks.</div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-6e0e38e977744f499fbb67e52a21593d" data-id="6e0e38e977744f499fbb67e52a21593d"><span><div id="6e0e38e977744f499fbb67e52a21593d" class="notion-header-anchor"></div><a class="notion-hash-link" href="#6e0e38e977744f499fbb67e52a21593d" title="starcoder2:15b"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">starcoder2:15b</span></span></h3><div class="notion-text notion-block-61c6bed736e143d5bdc1c281e9fcbdb2">thank youusername_1: You are looking for a tool called <a target="_blank" rel="noopener noreferrer" class="notion-link" href="http://visualvm.java.net/">VisualVM</a>. It is part of the JDK and it allows you to connect to running java applications and view their memory consumption, threads etc.
Upvotes: 2 username_2: Have a look at the Eclipse Memory Analyzer (MAT) plugin (<a target="_blank" rel="noopener noreferrer" class="notion-link" href="http://www.eclipse.org/mat/">http://www.eclipse.org/mat/</a>), there&#x27;s a video that shows how to use it: <a target="_blank" rel="noopener noreferrer" class="notion-link" href="http://vimeo.com/7698540">http://vimeo.com/7698540</a>
Upvotes: 3 [selected_answer]username_3: I like JProfiler for this kind of thing. It has a very intuitive GUI and gives you the information you need in a way that makes sense.</div><div class="notion-text notion-block-926cfd3e8b8e4b25b7803aedf4064879"><a target="_blank" rel="noopener noreferrer" class="notion-link" href="http://www.ej-technologies.com/products/jprofiler/overview.html">http://www.ej-technologies.com/products/jprofiler/overview.html</a>
Upvotes: 1 username_4: I have found <a target="_blank" rel="noopener noreferrer" class="notion-link" href="http://www.ej-technologies.com/">JProfiler</a> to be very useful for this. It has a nice UI and is easy to use.
Upvotes: 0</div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-9d06ce11437e4aef8661c6551d358cf5" data-id="9d06ce11437e4aef8661c6551d358cf5"><span><div id="9d06ce11437e4aef8661c6551d358cf5" class="notion-header-anchor"></div><a class="notion-hash-link" href="#9d06ce11437e4aef8661c6551d358cf5" title="llama2:13b"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">llama2:13b</span></span></h3><div class="notion-text notion-block-eecdbd1419a74050ab78a5c5044e1336">Ah, I see! You&#x27;re trying to understand the locking mechanism in MySQL when using the <code class="notion-inline-code">FOR UPDATE</code> clause. 🔒</div><div class="notion-text notion-block-202e55b5762e4ef190b02cc0ae26a99b">When you execute a query like <code class="notion-inline-code">SELECT * FROM t WHERE c = 5 FOR UPDATE</code>, MySQL acquires a lock on the rows that match the condition <code class="notion-inline-code">c = 5</code>. This lock is called an &quot;X-lock&quot; or &quot;exclusive lock,&quot; which means that no other session can modify those rows until the current session releases the lock. 🔒</div><div class="notion-text notion-block-995338cf487448b5a462ea834bd6b31b">The locking mechanism in MySQL is based on the InnoDB storage engine, which uses a technique called &quot;pessimistic locking.&quot; This means that when a session wants to acquire a lock on a row, it first checks whether the row is already locked by another session. If the row is not locked, the session acquires the lock and prevents other sessions from acquiring the same lock until it releases the lock. 🔒</div><div class="notion-text notion-block-bd7b81b282bd4a81950c37ebef55f856">Now, to answer your questions:</div><ol start="1" class="notion-list notion-list-numbered notion-block-009e62c7e5134e3ea0bb731c95f0d22a"><li>The process of locking: When a session executes a query with the <code class="notion-inline-code">FOR UPDATE</code> clause, MySQL first checks whether the rows that match the condition are already locked by another session. If the rows are not locked, the current session acquires the lock and prevents other sessions from acquiring the same lock until it releases the lock.</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-8b44dcb2d94449839c68ff1d8e23825b"><li>The time of release lock: When a session releases the lock on a row or set of rows, the lock is immediately released, and other sessions can then acquire the lock again. There is no specific &quot;time of release&quot; for locks in MySQL; instead, the lock is released as soon as the current session commits or rolls back the transaction. 🔒</li></ol><div class="notion-text notion-block-f9d3a3939d764add88b53f03e58614af">I hope this helps clarify the locking mechanism in MySQL! Let me know if you have any other questions or concerns. 😊</div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-440e5ba9230942239df250ca1b67e237" data-id="440e5ba9230942239df250ca1b67e237"><span><div id="440e5ba9230942239df250ca1b67e237" class="notion-header-anchor"></div><a class="notion-hash-link" href="#440e5ba9230942239df250ca1b67e237" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h2><ul class="notion-list notion-list-disc notion-block-04273a5007524c70a1c5d63b004d565a"><li>llama2效果不错，starcoder2不知所云</li></ul><ul class="notion-list notion-list-disc notion-block-58f477d0e3384fe89cf2e0a3264bf5cf"><li>m1pro+32g环境下，4b模型在本地运行速度还可以，15b运行起来就特别吃力</li></ul><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-e1da917bbb7142529f5fd1c997b18551" data-id="e1da917bbb7142529f5fd1c997b18551"><span><div id="e1da917bbb7142529f5fd1c997b18551" class="notion-header-anchor"></div><a class="notion-hash-link" href="#e1da917bbb7142529f5fd1c997b18551" title="写到最后"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">写到最后</span></span></h2><div class="notion-row notion-block-9e9a91b148534e82be32ac8af17739b0"><div class="notion-column notion-block-efee572a8601404e9dfb74c4f2f669bc" style="width:calc((100% - (2 * min(32px, 4vw))) * 0.25)"><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-4d04175fa93b49b6a60974961770136f"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:cover" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Feb3e1328-8f32-4ff5-8d18-8ea80020e175%2Fe74a26b9-10d9-49f3-9ea7-bcb2a1438bd7%2Ffavicon.png?table=block&amp;id=4d04175f-a93b-49b6-a609-74961770136f&amp;t=4d04175f-a93b-49b6-a609-74961770136f" alt="notion image" loading="lazy" decoding="async"/></div></figure></div><div class="notion-spacer"></div><div class="notion-column notion-block-3147a22c843a46c3a4d089eb62b6bd7e" style="width:calc((100% - (2 * min(32px, 4vw))) * 0.34601449275362306)"><div class="notion-text notion-block-1fe1e95acd49421ab7a7916a18f2655d"><em>
</em><b><em>        是在往前走就好</em></b><em>
        </em><em><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://bothsavage.github.io/archive">bothsavage.github.io</a></em><em>
</em></div><div class="notion-blank notion-block-17ce2e3cf255464e8b1d64ab9c7648c3"> </div></div><div class="notion-spacer"></div><div class="notion-column notion-block-d81509458bbf4df18e0edea8d8f5e04e" style="width:calc((100% - (2 * min(32px, 4vw))) * 0.4039855072463767)"><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-57be63c688254b09ab163014cdee1119"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:315px"><img style="object-fit:cover" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Feb3e1328-8f32-4ff5-8d18-8ea80020e175%2F3436ffe0-3684-445a-824f-2fd9fa5ad2a6%2FUntitled.png?table=block&amp;id=57be63c6-8825-4b09-ab16-3014cdee1119&amp;t=57be63c6-8825-4b09-ab16-3014cdee1119" alt="notion image" loading="lazy" decoding="async"/></div></figure></div><div class="notion-spacer"></div></div><div class="notion-blank notion-block-189b1da9975a42daa70602494cb76d01"> </div></main></div><div class="m-1 overflow-x-auto"><div class="flex w-full md:justify-end"></div></div><div class="flex justify-between"><div></div></div><section class="text-gray-800 dark:text-gray-400 h-12 flex items-center justify-between space-x-5 my-4"><a class="text-sm cursor-pointer justify-start items-center flex hover:underline duration-300" href="/article/begin"><i class="mr-1 fas fa-angle-double-left"></i>开始</a><a class="text-sm cursor-pointer justify-end items-center flex hover:underline duration-300" href="/article/240320-arthas">Arthas简单使用备忘录<i class="ml-1 my-1 fas fa-angle-double-right"></i></a></section><div id="comment" class="comment mt-5 text-gray-800 dark:text-gray-300 "></div></section><div id="gitbook-toc-float" class="fixed top-0 right-0 z-40 md:hidden"><div class=" -mr-72 animate__slideOutRight overflow-y-hidden shadow-card w-60 duration-200 fixed right-1 bottom-16 rounded py-2 bg-white dark:bg-hexo-black-gray"><div class="dark:text-gray-400 text-gray-600 h-96 p-3"></div></div></div><div id="right-drawer-background" class="hidden fixed top-0 left-0 z-30 w-full h-full"></div></div></div><div id="jump-to-top" data-aos="fade-up" data-aos-duration="300" data-aos-once="false" data-aos-anchor-placement="top-center" class="fixed xl:right-80 right-2 mr-10 bottom-24 z-20"><i class="fas fa-chevron-up cursor-pointer p-2 rounded-full border bg-white dark:bg-hexo-black-gray"></i></div></div><div class="md:hidden"><footer class="z-20 py-2 bg:white dark:bg-hexo-black-gray justify-center text-center w-full text-sm relative"><hr class="pb-2"/><div class="flex justify-center"><div><i class="mx-1 animate-pulse fas fa-heart"></i> <a href="https://bothsavage.github.io/" class="underline font-bold text-gray-500 dark:text-gray-300 ">Both Savage</a>.<br/></div>© <!-- -->2024</div><div class="text-xs font-serif">Powered By <a href="https://github.com/tangly1024/NotionNext" class="underline text-gray-500 dark:text-gray-300">NotionNext</a></div><span class="hidden busuanzi_container_site_pv"><i class="fas fa-eye"></i><span class="px-1 busuanzi_value_site_pv"> </span>  </span><span class="pl-2 hidden busuanzi_container_site_uv"><i class="fas fa-users"></i> <span class="px-1 busuanzi_value_site_uv"> </span> </span><h1 class="pt-1">Both Savage</h1></footer></div></div><div style="width:32rem" class="hidden xl:block dark:border-transparent relative z-10 "><div class="py-14 px-6 sticky top-0"><div class="pt-10 pb-6 text-gray-400 text-sm border-b"><i class="fa-regular fa-clock mr-1"></i>Last update:  <!-- -->2024-03-25</div><div class="py-4"></div></div></div></main><div id="gitbook-left-float" class="fixed top-0 left-0 z-40 md:hidden"><div class="-ml-80 animate__slideOutLeft overflow-y-hidden shadow-card w-72 duration-200 fixed left-1 top-16 rounded py-2 bg-white dark:bg-gray-600"><div class="dark:text-gray-400 text-gray-600 h-96 overflow-y-scroll p-3"><div id="posts-wrapper" class="w-full flex-grow"><div class="select-none flex justify-between text-sm font-sans cursor-pointer p-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600"><span>技术分享</span><div class="inline-flex items-center select-none pointer-events-none "><i class="px-2 fas fa-chevron-left transition-all duration-200 -rotate-90"></i></div></div><div style="height:0px;will-change:height" class=" overflow-hidden duration-200 "><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  bg-green-50 text-green-500"><div class="flex flex-col w-full select-none"><a href="/article/240325-ollama">mac体验ollama本地大模型</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240320-arthas">Arthas简单使用备忘录</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240319-xmrig">Xmrig挖矿入侵服务器排查</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240124-deploy">Java部署脚本&amp;重启备份检查&amp;配置环境</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240121-skywaking">解决SkyWalking在gateway中logback链路丢失</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240119-notion">Notion文章自动同步GitPage</a></div></div></div></div><div class="select-none flex justify-between text-sm font-sans cursor-pointer p-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600"><span>心情随笔</span><div class="inline-flex items-center select-none pointer-events-none "><i class="px-2 fas fa-chevron-left transition-all duration-200 "></i></div></div><div style="height:0px;will-change:height" class=" overflow-hidden duration-200 "><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/example">示例文章</a></div></div></div></div><div class="select-none flex justify-between text-sm font-sans cursor-pointer p-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600"><span>知行合一</span><div class="inline-flex items-center select-none pointer-events-none "><i class="px-2 fas fa-chevron-left transition-all duration-200 "></i></div></div><div style="height:0px;will-change:height" class=" overflow-hidden duration-200 "><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/begin">开始</a></div></div></div></div></div></div></div></div><div id="left-drawer-background" class="hidden fixed top-0 left-0 z-30 w-full h-full"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-XT4YTFWNBG"></script><script async="">
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', 'G-XT4YTFWNBG', {
                  page_path: window.location.pathname,
                });
              </script></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"NOTION_CONFIG":{"AUTHOR":"Both Savage","BIO":"talk is cheap","TITLE":"Both Savage","DESCRIPTION":"talk is cheap","LINK":"https://bothsavage.github.io/","THEME":"gitbook","CAN_COPY":"true","SINCE":"2024","CONTACT_EMAIL":"bothsavage@163.com","CUSTOM_MENU":"true","CUSTOM_RIGHT_CLICK_CONTEXT_MENU":"false","LANG":"en-US","THEME_SWITCH":"true","POST_SHARE_BAR_ENABLE":"true"},"notice":null,"siteInfo":{"title":"Both Savage","description":"一个NotionNext搭建的博客","pageCover":"https://www.notion.so/images/page-cover/nasa_robert_stewart_spacewalk_2.jpg","icon":"https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Feb3e1328-8f32-4ff5-8d18-8ea80020e175%2Fc5ebdc5a-c3fd-403e-906b-17d64db6d01f%2Ffavicon.ico?table=collection\u0026id=3c6ddc29-47df-43f6-a375-de1c3a9cf466\u0026t=3c6ddc29-47df-43f6-a375-de1c3a9cf466\u0026width=800"},"allNavPages":[{"id":"e8fd9138-663d-415d-9684-24343fb3248f","title":"mac体验ollama本地大模型","pageCoverThumbnail":"https://source.unsplash.com/random?t=e8fd9138-663d-415d-9684-24343fb3248f","category":"技术分享","tags":["工具","推荐","折腾"],"summary":"m1 pro芯片+32g体验了五种大模型本地部署","slug":"article/240325-ollama","pageIcon":"🗒️","lastEditedDate":"2024-03-26T05:49:00.447Z"},{"id":"e013510c-b3a7-4907-b4cd-118b118d30db","title":"Arthas简单使用备忘录","pageCoverThumbnail":"https://source.unsplash.com/random?t=e013510c-b3a7-4907-b4cd-118b118d30db","category":"技术分享","tags":["工具","开发","推荐"],"summary":"Arthas在排查Java应用线上问题的时候有大用处，并且可以是热部署工具，这里我推荐几个我常用的方法","slug":"article/240320-arthas","pageIcon":"🗒️","lastEditedDate":"2024-03-20T04:52:10.213Z"},{"id":"7e13a286-a275-4f48-b9d0-416c9b1368ce","title":"Xmrig挖矿入侵服务器排查","pageCoverThumbnail":"https://source.unsplash.com/random?t=7e13a286-a275-4f48-b9d0-416c9b1368ce","category":"技术分享","tags":["建站","推荐","开发"],"summary":"叮咚！阿里云提示你，你的服务器正在被攻击！","slug":"article/240319-xmrig","pageIcon":"🗒️","lastEditedDate":"2024-03-19T17:15:42.884Z"},{"id":"38e3f997-dad9-46b8-99bb-d3042488821f","title":"Java部署脚本\u0026重启备份检查\u0026配置环境","pageCoverThumbnail":"https://source.unsplash.com/random?t=38e3f997-dad9-46b8-99bb-d3042488821f","category":"技术分享","tags":["推荐","工具","自动化","微服务"],"summary":"微服务jar包越来越多,每次手动上线的时候都要运行一大堆命令,并且每个人备份的jar包名称目录都不一样。故写了一个脚本规定死流程,并且把脚本配置到环境变量做自动补全。","slug":"article/240124-deploy","pageIcon":"🗒️","lastEditedDate":"2024-01-24T07:18:46.139Z"},{"id":"026c5c21-3604-4c0a-a13c-ccb9208e4815","title":"解决SkyWalking在gateway中logback链路丢失","pageCoverThumbnail":"https://source.unsplash.com/random?t=026c5c21-3604-4c0a-a13c-ccb9208e4815","category":"技术分享","tags":["推荐","开发","日志","微服务","spring","skywalking"],"summary":"一年半以前，公司就从单体应用逐步迁移到微服务管理。奈何业务绑定太深，一直在两边混合开发。由于迁移到微服务的进程完成了一大半了，之前在单体项目中打的链路追踪就不太好用了。随即想到了SkyWalking，随即发现了一个大坑，那就是在gateway组件中logback日志会丢失TraceId，网上搜了一圈都没有解决问题，我又跑到SkyWalking的issue中搜了一大圈，发现大佬以下回答，还是得自己想办法。","slug":"article/240121-skywaking","pageIcon":"🗒️","lastEditedDate":"2024-01-20T18:52:32.627Z"},{"id":"ce6b6618-a118-4ee9-b74c-33a848d0f0ed","title":"Notion文章自动同步GitPage","pageCoverThumbnail":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=50\u0026fm=webp\u0026crop=entropy\u0026cs=srgb\u0026t=ce6b6618-a118-4ee9-b74c-33a848d0f0ed\u0026width=800\u0026fmt=webp","category":"技术分享","tags":["建站","推荐","工具","docker","自动化","折腾","git"],"summary":"之前一直使用GitPage+typora+hexo来做文章分享管理，奈何真的麻烦坚持不下去了。Notion是我一直在使用的笔记软件，为了更好的使用Notion我还去看了许多文章。现在Notion已经是我生活的一部分了。最近发现NotionNext，但需要Vercel部署，还需要自己映射域名。所以想着用xx.github.io域名，优雅又方便","slug":"article/240119-notion","pageIcon":"📗","lastEditedDate":"2024-03-19T17:14:00.935Z"},{"id":"d3216be6-1b27-40e7-8677-7404896b7eb6","title":"示例文章","pageCoverThumbnail":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=50\u0026fm=webp\u0026crop=entropy\u0026cs=srgb\u0026t=d3216be6-1b27-40e7-8677-7404896b7eb6\u0026width=800\u0026fmt=webp","category":"心情随笔","tags":["建站","文字","推荐"],"summary":"这是示例的文章摘要，摘要内容可被用做搜索，预览。文章列表默认展示概要；若要在列表直接展示文章内容，可在blog.config.js中配置。","slug":"article/example","pageIcon":"🗓️","lastEditedDate":"2024-01-19T06:18:08.580Z"},{"id":"54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf","title":"开始","pageCoverThumbnail":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=50\u0026fm=webp\u0026crop=entropy\u0026cs=srgb\u0026t=54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf\u0026width=800\u0026fmt=webp","category":"知行合一","tags":["建站","文字","推荐"],"summary":"这是示例的文章摘要，摘要内容可被用做搜索，预览。文章列表默认展示概要；若要在列表直接展示文章内容，可在blog.config.js中配置。","slug":"article/begin","pageIcon":"🏐","lastEditedDate":"2024-01-19T09:15:24.923Z"}],"tagOptions":[{"id":"d9f66761-0396-4e80-be5c-2ab6c7f8ba86","name":"推荐","color":"red","count":8},{"id":"ee932bde-0023-446f-9bb4-17d2022121c9","name":"文字","color":"brown","count":2},{"id":"25b1074b-a3fa-49f5-82cd-a37d85c5666f","name":"工具","color":"pink","count":4},{"id":"1e90f00e-8f1b-4665-8e69-92f0791bde56","name":"开发","color":"pink","count":3},{"id":"2382b30f-9881-4a8b-ae7f-2d34979c4fb9","name":"建站","color":"brown","count":4},{"id":"50765df4-40d8-4098-a1b4-abf97b9ce1d2","name":"docker","color":"gray","count":1},{"id":"114a1313-d952-45e1-8bb5-8bf0b7d3c372","name":"自动化","color":"blue","count":2},{"id":"986f04d2-1cd1-4f47-84ba-2c692e069d93","name":"折腾","color":"purple","count":2},{"id":"88f6276a-b475-4a62-a2b6-438606516ec8","name":"git","color":"default","count":1},{"id":"11c42291-5274-44a7-94a3-f4af3382896b","name":"日志","color":"red","count":1},{"id":"e89abe8e-9228-48f8-8bb0-582d8343eb91","name":"微服务","color":"red","count":2},{"id":"c002f5d1-02d9-41b0-954e-6f6a5978b3e0","name":"spring","color":"purple","count":1},{"id":"9fb08037-26be-4513-a5b2-ada51bcfeb9c","name":"skywalking","color":"blue","count":1}],"categoryOptions":[{"id":"a4dcd33a-34a7-4c33-b9c2-92d3a5248f06","name":"知行合一","color":"pink","count":1},{"id":"8282ff59-f160-40c3-ab7e-6e970a0a64d5","name":"技术分享","color":"purple","count":6},{"id":"edd604ab-fda7-4d9b-964a-e7de536c05a0","name":"心情随笔","color":"orange","count":1}],"customNav":[{"icon":"fas fa-home","name":"主页","to":"//","target":"_self","show":true}],"customMenu":[{"id":"5263856d-837a-4f2d-bfc6-24cbff6c946c","icon":"fab fa-github","date":{"start_date":"2021-03-13"},"type":"Menu","slug":"https://github.com/BOTHSAVAGE","summary":"这是一个指向外部地址的单页","title":"Github","status":"Published","category":"","publishDate":1615593600000,"publishDay":"Mar 13, 2021","lastEditedDate":"2024-01-18T16:12:17.114Z","lastEditedDay":"Jan 18, 2024","fullWidth":false,"pageIcon":"","pageCover":"","pageCoverThumbnail":"","tagItems":[],"to":"https://github.com/BOTHSAVAGE","name":"Github","password":"","show":true,"target":"_blank"},{"id":"29e65d89-d04e-4ee3-9a9d-2f8856ed3055","icon":"fas fa-archive","date":{"start_date":"2023-03-23"},"type":"Menu","slug":"#","title":"往期整理","status":"Published","category":"","publishDate":1679529600000,"publishDay":"Mar 23, 2023","lastEditedDate":"2024-01-18T16:12:17.113Z","lastEditedDay":"Jan 18, 2024","fullWidth":false,"pageIcon":"","pageCover":"","pageCoverThumbnail":"","tagItems":[],"to":"#","name":"往期整理","password":"","show":true,"subMenus":[{"id":"d88da7cd-eebc-4c92-b9c3-53910376ab83","icon":"fas fa-clock-rotate-left","date":{"start_date":"2021-07-02"},"type":"SubMenu","slug":"/archive","title":"历史归档","status":"Published","category":"","publishDate":1625184000000,"publishDay":"Jul 2, 2021","lastEditedDate":"2024-01-18T16:12:17.115Z","lastEditedDay":"Jan 18, 2024","fullWidth":false,"pageIcon":"🗒️","pageCover":"","pageCoverThumbnail":"","tagItems":[],"to":"/archive","name":"历史归档","password":"","show":true},{"id":"7d039e15-c906-470d-b781-943032713368","icon":"fas fa-th","date":{"start_date":"2021-07-02"},"type":"SubMenu","slug":"/category","title":"文章分类","status":"Published","category":"","publishDate":1625184000000,"publishDay":"Jul 2, 2021","lastEditedDate":"2024-01-18T16:12:17.114Z","lastEditedDay":"Jan 18, 2024","fullWidth":false,"pageIcon":"🗒️","pageCover":"","pageCoverThumbnail":"","tagItems":[],"to":"/category","name":"文章分类","password":"","show":true},{"id":"e746c4ee-0327-4529-85ac-7059a10091d3","icon":"fas fa-tag","date":{"start_date":"2021-07-02"},"type":"SubMenu","slug":"/tag","title":"文章标签","status":"Published","category":"","publishDate":1625184000000,"publishDay":"Jul 2, 2021","lastEditedDate":"2024-01-18T16:12:17.115Z","lastEditedDay":"Jan 18, 2024","fullWidth":false,"pageIcon":"🗒️","pageCover":"","pageCoverThumbnail":"","tagItems":[],"to":"/tag","name":"文章标签","password":"","show":true}]}],"postCount":8,"latestPosts":[{"id":"e8fd9138-663d-415d-9684-24343fb3248f","date":{"start_date":"2024-03-25","date_format":"relative"},"type":"Post","category":"技术分享","slug":"article/240325-ollama","tags":["工具","推荐","折腾"],"summary":"m1 pro芯片+32g体验了五种大模型本地部署","title":"mac体验ollama本地大模型","status":"Published","publishDate":1711324800000,"publishDay":"Mar 25, 2024","lastEditedDate":"2024-03-26T05:49:00.447Z","lastEditedDay":"Mar 26, 2024","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://source.unsplash.com/random?t=e8fd9138-663d-415d-9684-24343fb3248f","pageCoverThumbnail":"https://source.unsplash.com/random?t=e8fd9138-663d-415d-9684-24343fb3248f","tagItems":[{"name":"工具","color":"pink"},{"name":"推荐","color":"red"},{"name":"折腾","color":"purple"}],"password":""},{"id":"e013510c-b3a7-4907-b4cd-118b118d30db","date":{"start_date":"2024-03-20","date_format":"relative"},"type":"Post","category":"技术分享","slug":"article/240320-arthas","tags":["工具","开发","推荐"],"summary":"Arthas在排查Java应用线上问题的时候有大用处，并且可以是热部署工具，这里我推荐几个我常用的方法","title":"Arthas简单使用备忘录","status":"Published","publishDate":1710892800000,"publishDay":"Mar 20, 2024","lastEditedDate":"2024-03-20T04:52:10.213Z","lastEditedDay":"Mar 20, 2024","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://source.unsplash.com/random?t=e013510c-b3a7-4907-b4cd-118b118d30db","pageCoverThumbnail":"https://source.unsplash.com/random?t=e013510c-b3a7-4907-b4cd-118b118d30db","tagItems":[{"name":"工具","color":"pink"},{"name":"开发","color":"pink"},{"name":"推荐","color":"red"}],"password":""},{"id":"7e13a286-a275-4f48-b9d0-416c9b1368ce","date":{"start_date":"2024-03-19","date_format":"relative"},"type":"Post","category":"技术分享","slug":"article/240319-xmrig","tags":["建站","推荐","开发"],"summary":"叮咚！阿里云提示你，你的服务器正在被攻击！","title":"Xmrig挖矿入侵服务器排查","status":"Published","publishDate":1710806400000,"publishDay":"Mar 19, 2024","lastEditedDate":"2024-03-19T17:15:42.884Z","lastEditedDay":"Mar 19, 2024","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://source.unsplash.com/random?t=7e13a286-a275-4f48-b9d0-416c9b1368ce","pageCoverThumbnail":"https://source.unsplash.com/random?t=7e13a286-a275-4f48-b9d0-416c9b1368ce","tagItems":[{"name":"建站","color":"brown"},{"name":"推荐","color":"red"},{"name":"开发","color":"pink"}],"password":""},{"id":"ce6b6618-a118-4ee9-b74c-33a848d0f0ed","date":{"time_zone":"Asia/Shanghai","start_date":"2024-01-19","start_time":"13:00"},"type":"Post","category":"技术分享","slug":"article/240119-notion","tags":["建站","推荐","工具","docker","自动化","折腾","git"],"summary":"之前一直使用GitPage+typora+hexo来做文章分享管理，奈何真的麻烦坚持不下去了。Notion是我一直在使用的笔记软件，为了更好的使用Notion我还去看了许多文章。现在Notion已经是我生活的一部分了。最近发现NotionNext，但需要Vercel部署，还需要自己映射域名。所以想着用xx.github.io域名，优雅又方便","title":"Notion文章自动同步GitPage","status":"Published","publishDate":1705622400000,"publishDay":"Jan 19, 2024","lastEditedDate":"2024-03-19T17:14:00.935Z","lastEditedDay":"Mar 19, 2024","fullWidth":false,"pageIcon":"📗","pageCover":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=85\u0026fm=jpg\u0026crop=entropy\u0026cs=srgb\u0026t=ce6b6618-a118-4ee9-b74c-33a848d0f0ed","pageCoverThumbnail":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=50\u0026fm=webp\u0026crop=entropy\u0026cs=srgb\u0026t=ce6b6618-a118-4ee9-b74c-33a848d0f0ed\u0026width=800\u0026fmt=webp","tagItems":[{"name":"建站","color":"brown"},{"name":"推荐","color":"red"},{"name":"工具","color":"pink"},{"name":"docker","color":"gray"},{"name":"自动化","color":"blue"},{"name":"折腾","color":"purple"},{"name":"git","color":"default"}],"password":""},{"id":"38e3f997-dad9-46b8-99bb-d3042488821f","date":{"start_date":"2024-01-24","date_format":"relative"},"type":"Post","category":"技术分享","slug":"article/240124-deploy","tags":["推荐","工具","自动化","微服务"],"summary":"微服务jar包越来越多,每次手动上线的时候都要运行一大堆命令,并且每个人备份的jar包名称目录都不一样。故写了一个脚本规定死流程,并且把脚本配置到环境变量做自动补全。","title":"Java部署脚本\u0026重启备份检查\u0026配置环境","status":"Published","publishDate":1706054400000,"publishDay":"Jan 24, 2024","lastEditedDate":"2024-01-24T07:18:46.139Z","lastEditedDay":"Jan 24, 2024","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://source.unsplash.com/random?t=38e3f997-dad9-46b8-99bb-d3042488821f","pageCoverThumbnail":"https://source.unsplash.com/random?t=38e3f997-dad9-46b8-99bb-d3042488821f","tagItems":[{"name":"推荐","color":"red"},{"name":"工具","color":"pink"},{"name":"自动化","color":"blue"},{"name":"微服务","color":"red"}],"password":""},{"id":"026c5c21-3604-4c0a-a13c-ccb9208e4815","date":{"start_date":"2024-01-21","date_format":"relative"},"type":"Post","category":"技术分享","slug":"article/240121-skywaking","tags":["推荐","开发","日志","微服务","spring","skywalking"],"summary":"一年半以前，公司就从单体应用逐步迁移到微服务管理。奈何业务绑定太深，一直在两边混合开发。由于迁移到微服务的进程完成了一大半了，之前在单体项目中打的链路追踪就不太好用了。随即想到了SkyWalking，随即发现了一个大坑，那就是在gateway组件中logback日志会丢失TraceId，网上搜了一圈都没有解决问题，我又跑到SkyWalking的issue中搜了一大圈，发现大佬以下回答，还是得自己想办法。","title":"解决SkyWalking在gateway中logback链路丢失","status":"Published","publishDate":1705795200000,"publishDay":"Jan 21, 2024","lastEditedDate":"2024-01-20T18:52:32.627Z","lastEditedDay":"Jan 20, 2024","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://source.unsplash.com/random?t=026c5c21-3604-4c0a-a13c-ccb9208e4815","pageCoverThumbnail":"https://source.unsplash.com/random?t=026c5c21-3604-4c0a-a13c-ccb9208e4815","tagItems":[{"name":"推荐","color":"red"},{"name":"开发","color":"pink"},{"name":"日志","color":"red"},{"name":"微服务","color":"red"},{"name":"spring","color":"purple"},{"name":"skywalking","color":"blue"}],"password":""}],"post":{"id":"e8fd9138-663d-415d-9684-24343fb3248f","date":{"start_date":"2024-03-25","date_format":"relative"},"type":"Post","category":"技术分享","slug":"article/240325-ollama","tags":["工具","推荐","折腾"],"summary":"m1 pro芯片+32g体验了五种大模型本地部署","title":"mac体验ollama本地大模型","status":"Published","publishDate":1711324800000,"publishDay":"Mar 25, 2024","lastEditedDate":"2024-03-26T05:49:00.447Z","lastEditedDay":"Mar 26, 2024","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://source.unsplash.com/random?t=e8fd9138-663d-415d-9684-24343fb3248f","pageCoverThumbnail":"https://source.unsplash.com/random?t=e8fd9138-663d-415d-9684-24343fb3248f","tagItems":[{"name":"工具","color":"pink"},{"name":"推荐","color":"red"},{"name":"折腾","color":"purple"}],"password":"","blockMap":{"block":{"e8fd9138-663d-415d-9684-24343fb3248f":{"value":{"id":"e8fd9138-663d-415d-9684-24343fb3248f","version":842,"type":"page","content":["bc73e0a0-0940-4595-9732-ab9c28cd26a7","ba4103b9-8a3f-4c44-bda8-47b3722d4e15","e8405e22-2319-4ec0-93b3-5a799df21fc4","7dfa62e3-08fb-4a0d-af59-773b0f9f56dc","2aa083b8-0726-4e50-bd4d-f857b5dd0316","45149c38-559d-414b-830f-c06c20da7dec","281bb727-bba8-4f6e-a1ff-b55b6f76b39c","b64c746d-9c8c-458e-9292-2e365dea363b","1b0d3b8d-c1f0-4ca3-907c-1e34341d376b","db1102e6-f111-45af-96a4-db331284b95b","78995c5e-a842-4a30-b1a9-3a93f7b37307","5ea402bc-1e80-4e35-9b33-43c347bda5e7","90137cb7-47e4-42a8-bd95-3be130d612a0","5ed02535-d8e3-46f5-8efb-5e68003b6fec","426b70c6-f0fe-4849-b277-b986cc09a3eb","24e1ffff-e99e-4a8e-b080-f3948a289de8","0b1e06e4-21a7-4f20-b95c-dd39c9232d8e","d52f61a6-9530-45cf-8e55-5822170d7448","5efbbd51-23a0-4cc2-b034-3da0b79430f7","3fee6369-f3e1-4e3e-b833-b1f24a8acf97","d47a618f-cf90-4bc4-9557-6424452366d4","3b8b9cc1-9b38-4a3e-ab5a-56578873df3e","74300add-803e-4d7c-8304-a821a5d5ab2c","8976a6ea-02cb-4bf3-a518-053203e7e9c1","f5d8c5c4-1f5d-4a4d-8fd8-5c30e378c422","a97f0dde-a2f1-4dfa-8a56-f27c4f9396fb","eb3dc7f4-4bfd-454f-b935-cde5ab908c41","c713c08c-2d0b-4eb1-8817-71fec58212ef","bbe523e1-53a1-45de-af58-03a940f59e85","4bcc27a3-8629-411b-be7a-75aea797e1ed","9a6f7759-0331-4d60-95e2-dc10c6cb87bd","da1b112d-857e-4b6f-bf49-b7f5208b24e4","87c6e6a2-d2e3-4a18-8637-efe4abd4560f","2c28bfde-eb25-4e7a-a2c1-3c12dcb72f28","9a7a6897-3dfa-4aa8-9636-234b3c0b6548","58fecf87-6dcf-43db-a9c7-538f413796f7","68f363f2-b183-4280-9abb-eab957c3db38","412d0b21-bcfe-40d4-8fb7-a69d9bdb7c91","7e5fed0f-7e6c-4eb0-957b-af7e801e764e","f8a5c31e-aaeb-4215-bece-5545539ec80b","e2239195-971a-4985-8fac-5b9ea90996c0","44061d98-d405-487a-b2a4-078279d3d999","702ec273-b848-45ae-9fab-0e7e445b8470","e8a8f505-3549-4ded-a263-991f5462efb2","42700ae9-2627-40a2-9d1d-f9ed715ab0dc","a28dd66e-5a77-4dfe-815b-474c1e36c0fb","c48d0617-98e9-4c69-8225-a3fc30c3d5b4","97118fdd-3e4d-4a05-8d1f-d4a942831683","29619cb8-1036-4c56-ad1d-44078669c26b","9b400751-4342-4a08-b4a4-df5993d548f1","36ff61ac-481c-4f1f-9f17-6966b6e9789e","aac21867-aa33-4037-93e3-03b5f0ca84f9","2834c258-d3b3-48ce-9e95-8a21b18053f8","6e0e38e9-7774-4f49-9fbb-67e52a21593d","61c6bed7-36e1-43d5-bdc1-c281e9fcbdb2","926cfd3e-8b8e-4b25-b780-3aedf4064879","9d06ce11-437e-4aef-8661-c6551d358cf5","eecdbd14-19a7-4050-ab78-a5c5044e1336","202e55b5-762e-4ef1-90b0-2cc0ae26a99b","995338cf-4874-48b5-a462-ea834bd6b31b","bd7b81b2-82bd-4a81-950c-37ebef55f856","009e62c7-e513-4e3e-a0bb-731c95f0d22a","8b44dcb2-d944-4983-9c68-ff1d8e23825b","f9d3a393-9d76-4add-88b5-3f03e58614af","440e5ba9-2309-4223-9df2-50ca1b67e237","04273a50-0752-4c70-a1c5-d63b004d565a","58f477d0-e338-4fe8-9cf2-e0a3264bf5cf","e1da917b-bb71-4252-9f5f-d1c997b18551","9e9a91b1-4853-4e82-be32-ac8af17739b0","189b1da9-975a-42da-a706-02494cb76d01"],"format":{"page_font":"mono","page_icon":"🗒️","page_cover":"https://source.unsplash.com/random","block_locked":false,"block_locked_by":"e3bce58f-88e9-475b-8d52-370cf8e95e16","copied_from_pointer":{"id":"77f4d759-8660-4888-8d35-4214be459ba1","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"page_cover_position":0.5},"created_time":1711360737075,"last_edited_time":1711432140447,"parent_id":"3c6ddc29-47df-43f6-a375-de1c3a9cf466","parent_table":"collection","alive":true,"copied_from":"77f4d759-8660-4888-8d35-4214be459ba1","created_by_table":"notion_user","created_by_id":"e3bce58f-88e9-475b-8d52-370cf8e95e16","last_edited_by_table":"notion_user","last_edited_by_id":"e3bce58f-88e9-475b-8d52-370cf8e95e16","space_id":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"role":"comment_only"},"87ff73a8-1273-4f5f-96c1-cd1becb07207":{"value":{"id":"87ff73a8-1273-4f5f-96c1-cd1becb07207","type":"collection_view_page","content":["50fa88a0-6936-488c-8abc-b558b6a7b0d6"],"view_ids":["8e40545c-4d1c-4299-8605-c04d7ab6872f","818d9fe2-a27d-40ec-b827-614939109ca4","ad494b39-a38c-415e-9221-325f0f9be280","58c6fb90-5030-4627-8bad-38b57c3253cd"],"collection_id":"3c6ddc29-47df-43f6-a375-de1c3a9cf466","format":{"block_locked":false,"block_locked_by":"27074aef-7216-41ed-baef-d9b53addd870","collection_pointer":{"id":"3c6ddc29-47df-43f6-a375-de1c3a9cf466","table":"collection","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"copied_from_pointer":{"id":"19c33d8c-a320-4635-ab97-ddf00a96c478","table":"block","spaceId":"2a229231-539e-420a-9652-17ba8be4cd18"},"page_cover_position":0.6},"permissions":[{"role":"editor","type":"user_permission","user_id":"e3bce58f-88e9-475b-8d52-370cf8e95e16"},{"role":"comment_only","type":"public_permission","added_timestamp":1705594424869,"allow_duplicate":false,"allow_search_engine_indexing":true}],"created_time":1705594337173,"last_edited_time":1711431614088,"parent_id":"eb3e1328-8f32-4ff5-8d18-8ea80020e175","parent_table":"space","alive":true,"copied_from":"19c33d8c-a320-4635-ab97-ddf00a96c478"}},"bc73e0a0-0940-4595-9732-ab9c28cd26a7":{"value":{"id":"bc73e0a0-0940-4595-9732-ab9c28cd26a7","type":"table_of_contents","format":{"block_color":"gray","copied_from_pointer":{"id":"be61f37e-3882-4318-ad2b-2c61e18b529f","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1711360833152,"last_edited_time":1711360833152,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true,"copied_from":"be61f37e-3882-4318-ad2b-2c61e18b529f"}},"ba4103b9-8a3f-4c44-bda8-47b3722d4e15":{"value":{"id":"ba4103b9-8a3f-4c44-bda8-47b3722d4e15","type":"header","properties":{"title":[["契机"]]},"format":{"copied_from_pointer":{"id":"39f8a9bd-9efd-414b-a3ad-d588e49686b1","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1711360833151,"last_edited_time":1711360833151,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true,"copied_from":"39f8a9bd-9efd-414b-a3ad-d588e49686b1"}},"e8405e22-2319-4ec0-93b3-5a799df21fc4":{"value":{"id":"e8405e22-2319-4ec0-93b3-5a799df21fc4","type":"callout","properties":{"title":[["最近发现了meta发布了llama2模型,搜索一圈发现使用ollama部署特别的方便"]]},"format":{"page_icon":"⚙","block_color":"gray_background","copied_from_pointer":{"id":"0f651cbe-3b3d-4c6b-9341-9409d13cdc9f","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1711360833151,"last_edited_time":1711360921658,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true,"copied_from":"0f651cbe-3b3d-4c6b-9341-9409d13cdc9f"}},"7dfa62e3-08fb-4a0d-af59-773b0f9f56dc":{"value":{"id":"7dfa62e3-08fb-4a0d-af59-773b0f9f56dc","type":"text","format":{"copied_from_pointer":{"id":"4b7fd301-ccb3-49e5-a655-951a4373ac77","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1711431632221,"last_edited_time":1711431632221,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"2aa083b8-0726-4e50-bd4d-f857b5dd0316":{"value":{"id":"2aa083b8-0726-4e50-bd4d-f857b5dd0316","type":"header","properties":{"title":[["基础配置"]]},"format":{"copied_from_pointer":{"id":"4b7fd301-ccb3-49e5-a655-951a4373ac77","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1711431632800,"last_edited_time":1711431645914,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"45149c38-559d-414b-830f-c06c20da7dec":{"value":{"id":"45149c38-559d-414b-830f-c06c20da7dec","type":"sub_header","properties":{"title":[["ollama"]]},"created_time":1711431646306,"last_edited_time":1711431652969,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"281bb727-bba8-4f6e-a1ff-b55b6f76b39c":{"value":{"id":"281bb727-bba8-4f6e-a1ff-b55b6f76b39c","type":"bulleted_list","properties":{"title":[["直接去官网下载："],["https://ollama.com/",[["a","https://ollama.com/"]]]]},"created_time":1711431759881,"last_edited_time":1711431794946,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"b64c746d-9c8c-458e-9292-2e365dea363b":{"value":{"id":"b64c746d-9c8c-458e-9292-2e365dea363b","type":"bulleted_list","properties":{"title":[["命令行运行ollama -h查看命令集"]]},"created_time":1711431795269,"last_edited_time":1711431821182,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"1b0d3b8d-c1f0-4ca3-907c-1e34341d376b":{"value":{"id":"1b0d3b8d-c1f0-4ca3-907c-1e34341d376b","type":"bulleted_list","properties":{"title":[["查看本地模型列表：ollama list"]]},"created_time":1711431821391,"last_edited_time":1711431848208,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"db1102e6-f111-45af-96a4-db331284b95b":{"value":{"id":"db1102e6-f111-45af-96a4-db331284b95b","type":"bulleted_list","properties":{"title":[["下载并且运行模型：ollama run llama2:13b"]]},"created_time":1711431849867,"last_edited_time":1711431874747,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"78995c5e-a842-4a30-b1a9-3a93f7b37307":{"value":{"id":"78995c5e-a842-4a30-b1a9-3a93f7b37307","type":"image","properties":{"size":[["22.2KB"]],"title":[["Untitled"]],"source":[["https://prod-files-secure.s3.us-west-2.amazonaws.com/eb3e1328-8f32-4ff5-8d18-8ea80020e175/0ed7329d-d7fd-4a94-b61c-b320abce770b/Untitled.png"]]},"format":{"block_width":708,"display_source":"https://prod-files-secure.s3.us-west-2.amazonaws.com/eb3e1328-8f32-4ff5-8d18-8ea80020e175/0ed7329d-d7fd-4a94-b61c-b320abce770b/Untitled.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.14055299539170507,"block_preserve_scale":true},"created_time":1711431901576,"last_edited_time":1711431905393,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true,"file_ids":["0ed7329d-d7fd-4a94-b61c-b320abce770b"]}},"5ea402bc-1e80-4e35-9b33-43c347bda5e7":{"value":{"id":"5ea402bc-1e80-4e35-9b33-43c347bda5e7","type":"sub_header","properties":{"title":[["chatbox"]]},"created_time":1711431654467,"last_edited_time":1711431658645,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"90137cb7-47e4-42a8-bd95-3be130d612a0":{"value":{"id":"90137cb7-47e4-42a8-bd95-3be130d612a0","type":"bulleted_list","properties":{"title":[["gpt的client端,支持多种模型，包括ollama本地运行的模型"]]},"created_time":1711431904161,"last_edited_time":1711431959299,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"5ed02535-d8e3-46f5-8efb-5e68003b6fec":{"value":{"id":"5ed02535-d8e3-46f5-8efb-5e68003b6fec","type":"bulleted_list","properties":{"title":[["地址："],["https://github.com/Bin-Huang/chatbox",[["a","https://github.com/Bin-Huang/chatbox"]]]]},"created_time":1711431959516,"last_edited_time":1711431968578,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"426b70c6-f0fe-4849-b277-b986cc09a3eb":{"value":{"id":"426b70c6-f0fe-4849-b277-b986cc09a3eb","type":"bulleted_list","properties":{"title":[["内置了许多的promot,比如软件工程师，翻译助手，小红书标题生成器"]]},"created_time":1711432015229,"last_edited_time":1711432060152,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"24e1ffff-e99e-4a8e-b080-f3948a289de8":{"value":{"id":"24e1ffff-e99e-4a8e-b080-f3948a289de8","type":"bulleted_list","properties":{"title":[["支持为每一个会话指定特殊的模型"]]},"created_time":1711431972909,"last_edited_time":1711431999240,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"0b1e06e4-21a7-4f20-b95c-dd39c9232d8e":{"value":{"id":"0b1e06e4-21a7-4f20-b95c-dd39c9232d8e","type":"image","properties":{"size":[["55.3KB"]],"title":[["Untitled"]],"source":[["https://prod-files-secure.s3.us-west-2.amazonaws.com/eb3e1328-8f32-4ff5-8d18-8ea80020e175/57a953d1-aa3b-4836-b7de-fa0eb70300f9/Untitled.png"]]},"format":{"block_width":708,"display_source":"https://prod-files-secure.s3.us-west-2.amazonaws.com/eb3e1328-8f32-4ff5-8d18-8ea80020e175/57a953d1-aa3b-4836-b7de-fa0eb70300f9/Untitled.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.6438709677419355,"block_preserve_scale":true},"created_time":1711432011414,"last_edited_time":1711432015041,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true,"file_ids":["57a953d1-aa3b-4836-b7de-fa0eb70300f9"]}},"d52f61a6-9530-45cf-8e55-5822170d7448":{"value":{"id":"d52f61a6-9530-45cf-8e55-5822170d7448","type":"header","properties":{"title":[["模型对比"]]},"format":{"copied_from_pointer":{"id":"4b7fd301-ccb3-49e5-a655-951a4373ac77","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1711360833152,"last_edited_time":1711431627441,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true,"copied_from":"4b7fd301-ccb3-49e5-a655-951a4373ac77"}},"5efbbd51-23a0-4cc2-b034-3da0b79430f7":{"value":{"id":"5efbbd51-23a0-4cc2-b034-3da0b79430f7","type":"sub_header","properties":{"title":[["promot\u0026question"]]},"created_time":1711431666810,"last_edited_time":1711431693171,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"3fee6369-f3e1-4e3e-b833-b1f24a8acf97":{"value":{"id":"3fee6369-f3e1-4e3e-b833-b1f24a8acf97","type":"quote","properties":{"title":[["promot："]]},"content":["f8f42a19-b2fc-45dd-a16f-7eb56a1f35e9","3c5a4d3b-35b4-45cd-89a6-36019aef8fe9","765c2ea5-38db-401e-b852-a981010c0f96"],"created_time":1711432078852,"last_edited_time":1711432097278,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"f8f42a19-b2fc-45dd-a16f-7eb56a1f35e9":{"value":{"id":"f8f42a19-b2fc-45dd-a16f-7eb56a1f35e9","type":"text","properties":{"title":[["你是一个高级软件工程师，你需要帮我解答各种技术难题、设计技术方案以及编写代码。你编写的代码必须可以正常运行，而且没有任何 Bug 和其他问题。如果你的回答中用代码，请用 markdown 代码块，并且在代码块中标明使用的编程语言。\n\nquestion："]]},"created_time":1711432082528,"last_edited_time":1711432099043,"parent_id":"3fee6369-f3e1-4e3e-b833-b1f24a8acf97","parent_table":"block","alive":true}},"3c5a4d3b-35b4-45cd-89a6-36019aef8fe9":{"value":{"id":"3c5a4d3b-35b4-45cd-89a6-36019aef8fe9","type":"text","properties":{"title":[["select * from t where c=5 for update;"]]},"created_time":1711432097276,"last_edited_time":1711432097278,"parent_id":"3fee6369-f3e1-4e3e-b833-b1f24a8acf97","parent_table":"block","alive":true}},"765c2ea5-38db-401e-b852-a981010c0f96":{"value":{"id":"765c2ea5-38db-401e-b852-a981010c0f96","type":"text","properties":{"title":[["but c not index,tell me the process of locking\nand the time of release lock"]]},"created_time":1711432097276,"last_edited_time":1711432097278,"parent_id":"3fee6369-f3e1-4e3e-b833-b1f24a8acf97","parent_table":"block","alive":true}},"d47a618f-cf90-4bc4-9557-6424452366d4":{"value":{"id":"d47a618f-cf90-4bc4-9557-6424452366d4","type":"sub_header","properties":{"title":[["openai:3.5"]]},"created_time":1711361547854,"last_edited_time":1711431700585,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"3b8b9cc1-9b38-4a3e-ab5a-56578873df3e":{"value":{"id":"3b8b9cc1-9b38-4a3e-ab5a-56578873df3e","type":"text","properties":{"title":[["When you run a query like "],["SELECT * FROM t WHERE c=5 FOR UPDATE;",[["c"]]],[" in MySQL on a column "],["c",[["c"]]],[" that is not indexed, MySQL will perform a full table scan to find the rows that match the condition "],["c=5",[["c"]]],[". During this process, MySQL will acquire a shared lock on all the rows it reads to prevent other transactions from modifying them."]]},"created_time":1711361625622,"last_edited_time":1711361625643,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"74300add-803e-4d7c-8304-a821a5d5ab2c":{"value":{"id":"74300add-803e-4d7c-8304-a821a5d5ab2c","type":"text","properties":{"title":[["Here is the general process of locking and the time of releasing the lock:"]]},"created_time":1711361625624,"last_edited_time":1711361625643,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"8976a6ea-02cb-4bf3-a518-053203e7e9c1":{"value":{"id":"8976a6ea-02cb-4bf3-a518-053203e7e9c1","type":"numbered_list","properties":{"title":[["Shared (Read) Lock",[["b"]]],[": MySQL will acquire a shared (read) lock on the rows that match the condition "],["c=5",[["c"]]],[". This lock allows other transactions to read the locked rows but prevents them from modifying them."]]},"created_time":1711361625625,"last_edited_time":1711361625643,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"f5d8c5c4-1f5d-4a4d-8fd8-5c30e378c422":{"value":{"id":"f5d8c5c4-1f5d-4a4d-8fd8-5c30e378c422","type":"numbered_list","properties":{"title":[["Exclusive (Write) Lock",[["b"]]],[": When you use "],["FOR UPDATE",[["c"]]],[" in your query, MySQL will upgrade the shared lock to an exclusive (write) lock on the matched rows. This exclusive lock prevents other transactions from both reading and writing to the locked rows until the transaction is either committed or rolled back."]]},"created_time":1711361625626,"last_edited_time":1711361625643,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"a97f0dde-a2f1-4dfa-8a56-f27c4f9396fb":{"value":{"id":"a97f0dde-a2f1-4dfa-8a56-f27c4f9396fb","type":"numbered_list","properties":{"title":[["Time of Releasing Lock",[["b"]]],[": The lock acquired using "],["FOR UPDATE",[["c"]]],[" will be released when the current transaction is either committed or rolled back. If the transaction is rolled back, the lock will be released immediately. If the transaction is committed, the exclusive locks will be released at the end of the transaction."]]},"created_time":1711361625627,"last_edited_time":1711361625643,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"eb3dc7f4-4bfd-454f-b935-cde5ab908c41":{"value":{"id":"eb3dc7f4-4bfd-454f-b935-cde5ab908c41","type":"text","properties":{"title":[["It's important to note that locking behavior can vary depending on the isolation level of the transaction and the specific MySQL configuration settings. Additionally, using "],["FOR UPDATE",[["c"]]],[" without an index on the column can lead to performance issues, especially on large tables, as it may result in full table scans and increased locking contention. Consider adding an index on column "],["c",[["c"]]],[" if this query is frequently used for better performance."]]},"created_time":1711361625627,"last_edited_time":1711361625643,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"c713c08c-2d0b-4eb1-8817-71fec58212ef":{"value":{"id":"c713c08c-2d0b-4eb1-8817-71fec58212ef","type":"sub_header","properties":{"title":[["mistral:7b"]]},"format":{"copied_from_pointer":{"id":"5832d8e8-8c18-4555-b18e-c744f75a7347","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1711360833152,"last_edited_time":1711431703334,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true,"copied_from":"5832d8e8-8c18-4555-b18e-c744f75a7347"}},"bbe523e1-53a1-45de-af58-03a940f59e85":{"value":{"id":"bbe523e1-53a1-45de-af58-03a940f59e85","type":"text","properties":{"title":[["Based on your SQL query "],["SELECT * FROM t WHERE c = 5 FOR UPDATE",[["c"]]],[", it seems you are working with MySQL or a similar database management system. In this context, let's discuss the process of obtaining and releasing locks in relation to this query."]]},"created_time":1711431477509,"last_edited_time":1711431477515,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"4bcc27a3-8629-411b-be7a-75aea797e1ed":{"value":{"id":"4bcc27a3-8629-411b-be7a-75aea797e1ed","type":"text","properties":{"title":[["When you execute the query "],["SELECT * FROM t WHERE c = 5 FOR UPDATE",[["c"]]],[", the database engine acquires a lock on the record(s) with column 'c' equal to 5, preventing other transactions from reading or updating those records until the current transaction is committed or rolled back. This process ensures data consistency and concurrency control."]]},"created_time":1711431477509,"last_edited_time":1711431477515,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"9a6f7759-0331-4d60-95e2-dc10c6cb87bd":{"value":{"id":"9a6f7759-0331-4d60-95e2-dc10c6cb87bd","type":"text","properties":{"title":[["The actual time of obtaining a lock depends on various factors such as network latency, server workload, and database configuration. Generally, it's considered to be an instantaneous operation once the query execution reaches that point. However, keep in mind that the actual query processing time and network transfer time might add significant delay."]]},"created_time":1711431477509,"last_edited_time":1711431477515,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"da1b112d-857e-4b6f-bf49-b7f5208b24e4":{"value":{"id":"da1b112d-857e-4b6f-bf49-b7f5208b24e4","type":"text","properties":{"title":[["As for releasing the lock, it happens automatically when the current transaction is committed or rolled back. Once the transaction has been finalized, the database engine releases the locks on the corresponding records, making them available to other transactions again."]]},"created_time":1711431477509,"last_edited_time":1711431477515,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"87c6e6a2-d2e3-4a18-8637-efe4abd4560f":{"value":{"id":"87c6e6a2-d2e3-4a18-8637-efe4abd4560f","type":"text","properties":{"title":[["Here's a simplified overview of the process:"]]},"created_time":1711431477509,"last_edited_time":1711431477515,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"2c28bfde-eb25-4e7a-a2c1-3c12dcb72f28":{"value":{"id":"2c28bfde-eb25-4e7a-a2c1-3c12dcb72f28","type":"numbered_list","properties":{"title":[["The query "],["SELECT * FROM t WHERE c = 5 FOR UPDATE",[["c"]]],[" is executed."]]},"created_time":1711431477509,"last_edited_time":1711431477515,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"9a7a6897-3dfa-4aa8-9636-234b3c0b6548":{"value":{"id":"9a7a6897-3dfa-4aa8-9636-234b3c0b6548","type":"numbered_list","properties":{"title":[["The database engine locates the record(s) with 'c' equal to 5 and acquires a lock on them."]]},"created_time":1711431477509,"last_edited_time":1711431477515,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"58fecf87-6dcf-43db-a9c7-538f413796f7":{"value":{"id":"58fecf87-6dcf-43db-a9c7-538f413796f7","type":"numbered_list","properties":{"title":[["Once the query has finished processing those records, the transaction is committed or rolled back."]]},"created_time":1711431477509,"last_edited_time":1711431477515,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"68f363f2-b183-4280-9abb-eab957c3db38":{"value":{"id":"68f363f2-b183-4280-9abb-eab957c3db38","type":"numbered_list","properties":{"title":[["If the transaction is committed, the locks are released and made available for other transactions."]]},"created_time":1711431477509,"last_edited_time":1711431477515,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"412d0b21-bcfe-40d4-8fb7-a69d9bdb7c91":{"value":{"id":"412d0b21-bcfe-40d4-8fb7-a69d9bdb7c91","type":"numbered_list","properties":{"title":[["If the transaction is rolled back, the locks are also released but any changes made during the transaction are discarded."]]},"created_time":1711431477509,"last_edited_time":1711431477515,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"7e5fed0f-7e6c-4eb0-957b-af7e801e764e":{"value":{"id":"7e5fed0f-7e6c-4eb0-957b-af7e801e764e","type":"sub_header","properties":{"title":[["llama2:4b"]]},"format":{"copied_from_pointer":{"id":"2a4bed21-5134-4768-b685-1e2970694950","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1711361049479,"last_edited_time":1711361567824,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"f8a5c31e-aaeb-4215-bece-5545539ec80b":{"value":{"id":"f8a5c31e-aaeb-4215-bece-5545539ec80b","type":"text","properties":{"title":[["As a high-level software engineer, I'd be happy to help you with your question."]]},"created_time":1711431486623,"last_edited_time":1711431486635,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"e2239195-971a-4985-8fac-5b9ea90996c0":{"value":{"id":"e2239195-971a-4985-8fac-5b9ea90996c0","type":"text","properties":{"title":[["The query "],["SELECT * FROM t WHERE c = 5 FOR UPDATE",[["c"]]],[" is a common mechanism for acquiring a row-level lock on a table "],["t",[["c"]]],[" for the specified condition "],["c = 5",[["c"]]],[". When this query is executed, it will acquire an exclusive lock on the rows that match the condition, preventing any other concurrent updates or reads from accessing those rows until the lock is released."]]},"created_time":1711431486623,"last_edited_time":1711431486635,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"44061d98-d405-487a-b2a4-078279d3d999":{"value":{"id":"44061d98-d405-487a-b2a4-078279d3d999","type":"text","properties":{"title":[["The process of locking in this case involves the following steps:"]]},"created_time":1711431486623,"last_edited_time":1711431486635,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"702ec273-b848-45ae-9fab-0e7e445b8470":{"value":{"id":"702ec273-b848-45ae-9fab-0e7e445b8470","type":"numbered_list","properties":{"title":[["The query is executed and a lock is acquired on the relevant rows."]]},"created_time":1711431486623,"last_edited_time":1711431486635,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"e8a8f505-3549-4ded-a263-991f5462efb2":{"value":{"id":"e8a8f505-3549-4ded-a263-991f5462efb2","type":"numbered_list","properties":{"title":[["The lock is held by the thread that executed the query, preventing any other threads from acquiring the same lock until it is released."]]},"created_time":1711431486623,"last_edited_time":1711431486635,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"42700ae9-2627-40a2-9d1d-f9ed715ab0dc":{"value":{"id":"42700ae9-2627-40a2-9d1d-f9ed715ab0dc","type":"numbered_list","properties":{"title":[["The lock is released when the thread that executed the query completes its work and no longer needs the lock."]]},"created_time":1711431486623,"last_edited_time":1711431486635,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"a28dd66e-5a77-4dfe-815b-474c1e36c0fb":{"value":{"id":"a28dd66e-5a77-4dfe-815b-474c1e36c0fb","type":"numbered_list","properties":{"title":[["Other threads can then acquire the lock and update or read the rows that were previously locked."]]},"created_time":1711431486624,"last_edited_time":1711431486635,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"c48d0617-98e9-4c69-8225-a3fc30c3d5b4":{"value":{"id":"c48d0617-98e9-4c69-8225-a3fc30c3d5b4","type":"text","properties":{"title":[["The time of release lock depends on various factors, including the operating system, hardware, and database configuration. In general, the lock is released when the thread that executed the query completes its work and no longer needs the lock. This can happen immediately after the query is executed, or it may take some time depending on the complexity of the task and the availability of resources."]]},"created_time":1711431486624,"last_edited_time":1711431486635,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"97118fdd-3e4d-4a05-8d1f-d4a942831683":{"value":{"id":"97118fdd-3e4d-4a05-8d1f-d4a942831683","type":"text","properties":{"title":[["In MySQL, the default isolation level is "],["READ UNCOMMITTED",[["c"]]],[", which means that locks are acquired using the "],["FOR UPDATE",[["c"]]],[" clause. This allows other threads to read the rows while the first thread is updating them, but it does not guarantee that the second thread will see the updates made by the first thread before committing its changes."]]},"created_time":1711431486624,"last_edited_time":1711431486635,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"29619cb8-1036-4c56-ad1d-44078669c26b":{"value":{"id":"29619cb8-1036-4c56-ad1d-44078669c26b","type":"text","properties":{"title":[["If you want to acquire a lock on a specific row or set of rows without using the "],["FOR UPDATE",[["c"]]],[" clause, you can use the "],["LOCK TABLE",[["c"]]],[" statement in MySQL. This statement allows you to acquire an exclusive lock on a table for a specified period of time, preventing any other threads from accessing the table during that time."]]},"created_time":1711431486624,"last_edited_time":1711431486635,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"9b400751-4342-4a08-b4a4-df5993d548f1":{"value":{"id":"9b400751-4342-4a08-b4a4-df5993d548f1","type":"text","properties":{"title":[["Here is an example of how to use "],["LOCK TABLE",[["c"]]],[" to acquire a lock on a specific row:"]]},"created_time":1711431486624,"last_edited_time":1711431486635,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"36ff61ac-481c-4f1f-9f17-6966b6e9789e":{"value":{"id":"36ff61ac-481c-4f1f-9f17-6966b6e9789e","type":"code","properties":{"title":[["LOCK TABLE t FOR UPDATE OF c WHERE id = 5;\n"]],"language":[["SQL"]]},"format":{"code_wrap":true},"created_time":1711431486631,"last_edited_time":1711431486635,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"aac21867-aa33-4037-93e3-03b5f0ca84f9":{"value":{"id":"aac21867-aa33-4037-93e3-03b5f0ca84f9","type":"text","properties":{"title":[["This will acquire an exclusive lock on the row with "],["id = 5",[["c"]]],[" in the table "],["t",[["c"]]],[", preventing any other threads from updating or reading that row until the lock is released."]]},"created_time":1711431486631,"last_edited_time":1711431486635,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"2834c258-d3b3-48ce-9e95-8a21b18053f8":{"value":{"id":"2834c258-d3b3-48ce-9e95-8a21b18053f8","type":"text","properties":{"title":[["Note that the "],["LOCK TABLE",[["c"]]],[" statement can be used to acquire locks on multiple rows or tables, and it can also be used to acquire locks for longer periods of time than the default isolation level. However, it is important to use this statement judiciously and only when necessary to avoid contention and deadlocks."]]},"created_time":1711431486631,"last_edited_time":1711431486635,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"6e0e38e9-7774-4f49-9fbb-67e52a21593d":{"value":{"id":"6e0e38e9-7774-4f49-9fbb-67e52a21593d","type":"sub_header","properties":{"title":[["starcoder2:15b"]]},"format":{"copied_from_pointer":{"id":"2a4bed21-5134-4768-b685-1e2970694950","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1711361049703,"last_edited_time":1711431711891,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"61c6bed7-36e1-43d5-bdc1-c281e9fcbdb2":{"value":{"id":"61c6bed7-36e1-43d5-bdc1-c281e9fcbdb2","type":"text","properties":{"title":[["thank youusername_1: You are looking for a tool called "],["VisualVM",[["a","http://visualvm.java.net/"]]],[". It is part of the JDK and it allows you to connect to running java applications and view their memory consumption, threads etc.\nUpvotes: 2 username_2: Have a look at the Eclipse Memory Analyzer (MAT) plugin ("],["http://www.eclipse.org/mat/",[["a","http://www.eclipse.org/mat/"]]],["), there's a video that shows how to use it: "],["http://vimeo.com/7698540",[["a","http://vimeo.com/7698540"]]],["\nUpvotes: 3 [selected_answer]username_3: I like JProfiler for this kind of thing. It has a very intuitive GUI and gives you the information you need in a way that makes sense."]]},"created_time":1711431499545,"last_edited_time":1711431499547,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"926cfd3e-8b8e-4b25-b780-3aedf4064879":{"value":{"id":"926cfd3e-8b8e-4b25-b780-3aedf4064879","type":"text","properties":{"title":[["http://www.ej-technologies.com/products/jprofiler/overview.html",[["a","http://www.ej-technologies.com/products/jprofiler/overview.html"]]],["\nUpvotes: 1 username_4: I have found "],["JProfiler",[["a","http://www.ej-technologies.com/"]]],[" to be very useful for this. It has a nice UI and is easy to use.\nUpvotes: 0"]]},"created_time":1711431499545,"last_edited_time":1711431499547,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"9d06ce11-437e-4aef-8661-c6551d358cf5":{"value":{"id":"9d06ce11-437e-4aef-8661-c6551d358cf5","type":"sub_header","properties":{"title":[["llama2:13b"]]},"created_time":1711361530044,"last_edited_time":1711431714948,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"eecdbd14-19a7-4050-ab78-a5c5044e1336":{"value":{"id":"eecdbd14-19a7-4050-ab78-a5c5044e1336","type":"text","properties":{"title":[["Ah, I see! You're trying to understand the locking mechanism in MySQL when using the "],["FOR UPDATE",[["c"]]],[" clause. 🔒"]]},"created_time":1711431505871,"last_edited_time":1711431505874,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"202e55b5-762e-4ef1-90b0-2cc0ae26a99b":{"value":{"id":"202e55b5-762e-4ef1-90b0-2cc0ae26a99b","type":"text","properties":{"title":[["When you execute a query like "],["SELECT * FROM t WHERE c = 5 FOR UPDATE",[["c"]]],[", MySQL acquires a lock on the rows that match the condition "],["c = 5",[["c"]]],[". This lock is called an \"X-lock\" or \"exclusive lock,\" which means that no other session can modify those rows until the current session releases the lock. 🔒"]]},"created_time":1711431505871,"last_edited_time":1711431505874,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"995338cf-4874-48b5-a462-ea834bd6b31b":{"value":{"id":"995338cf-4874-48b5-a462-ea834bd6b31b","type":"text","properties":{"title":[["The locking mechanism in MySQL is based on the InnoDB storage engine, which uses a technique called \"pessimistic locking.\" This means that when a session wants to acquire a lock on a row, it first checks whether the row is already locked by another session. If the row is not locked, the session acquires the lock and prevents other sessions from acquiring the same lock until it releases the lock. 🔒"]]},"created_time":1711431505871,"last_edited_time":1711431505874,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"bd7b81b2-82bd-4a81-950c-37ebef55f856":{"value":{"id":"bd7b81b2-82bd-4a81-950c-37ebef55f856","type":"text","properties":{"title":[["Now, to answer your questions:"]]},"created_time":1711431505871,"last_edited_time":1711431505874,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"009e62c7-e513-4e3e-a0bb-731c95f0d22a":{"value":{"id":"009e62c7-e513-4e3e-a0bb-731c95f0d22a","type":"numbered_list","properties":{"title":[["The process of locking: When a session executes a query with the "],["FOR UPDATE",[["c"]]],[" clause, MySQL first checks whether the rows that match the condition are already locked by another session. If the rows are not locked, the current session acquires the lock and prevents other sessions from acquiring the same lock until it releases the lock."]]},"created_time":1711431505871,"last_edited_time":1711431505874,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"8b44dcb2-d944-4983-9c68-ff1d8e23825b":{"value":{"id":"8b44dcb2-d944-4983-9c68-ff1d8e23825b","type":"numbered_list","properties":{"title":[["The time of release lock: When a session releases the lock on a row or set of rows, the lock is immediately released, and other sessions can then acquire the lock again. There is no specific \"time of release\" for locks in MySQL; instead, the lock is released as soon as the current session commits or rolls back the transaction. 🔒"]]},"created_time":1711431505872,"last_edited_time":1711431505874,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"f9d3a393-9d76-4add-88b5-3f03e58614af":{"value":{"id":"f9d3a393-9d76-4add-88b5-3f03e58614af","type":"text","properties":{"title":[["I hope this helps clarify the locking mechanism in MySQL! Let me know if you have any other questions or concerns. 😊"]]},"created_time":1711431505872,"last_edited_time":1711431505874,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"440e5ba9-2309-4223-9df2-50ca1b67e237":{"value":{"id":"440e5ba9-2309-4223-9df2-50ca1b67e237","type":"header","properties":{"title":[["总结"]]},"format":{"copied_from_pointer":{"id":"2a4bed21-5134-4768-b685-1e2970694950","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1711360833151,"last_edited_time":1711360982676,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true,"copied_from":"2a4bed21-5134-4768-b685-1e2970694950"}},"04273a50-0752-4c70-a1c5-d63b004d565a":{"value":{"id":"04273a50-0752-4c70-a1c5-d63b004d565a","type":"bulleted_list","properties":{"title":[["llama2效果不错，starcoder2不知所云"]]},"format":{"copied_from_pointer":{"id":"329c1926-8152-47e6-ab18-8817f4ee4d09","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1711360833151,"last_edited_time":1711431747530,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true,"copied_from":"329c1926-8152-47e6-ab18-8817f4ee4d09"}},"58f477d0-e338-4fe8-9cf2-e0a3264bf5cf":{"value":{"id":"58f477d0-e338-4fe8-9cf2-e0a3264bf5cf","type":"bulleted_list","properties":{"title":[["m1pro+32g环境下，4b模型在本地运行速度还可以，15b运行起来就特别吃力"]]},"created_time":1711432113232,"last_edited_time":1711432147190,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true}},"e1da917b-bb71-4252-9f5f-d1c997b18551":{"value":{"id":"e1da917b-bb71-4252-9f5f-d1c997b18551","type":"header","properties":{"title":[["写到最后"]]},"format":{"copied_from_pointer":{"id":"5cde9219-8710-4037-9848-8a1f37dc9ff6","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1711360833152,"last_edited_time":1711360833152,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true,"copied_from":"5cde9219-8710-4037-9848-8a1f37dc9ff6"}},"9e9a91b1-4853-4e82-be32-ac8af17739b0":{"value":{"id":"9e9a91b1-4853-4e82-be32-ac8af17739b0","type":"column_list","content":["efee572a-8601-404e-9dfb-74c4f2f669bc","3147a22c-843a-46c3-a4d0-89eb62b6bd7e","d8150945-8bbf-4df1-8e0e-dea8d8f5e04e"],"format":{"copied_from_pointer":{"id":"60dbcaaf-f103-4bb0-9be1-817671709d79","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1711360833152,"last_edited_time":1711360833152,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true,"copied_from":"60dbcaaf-f103-4bb0-9be1-817671709d79"}},"efee572a-8601-404e-9dfb-74c4f2f669bc":{"value":{"id":"efee572a-8601-404e-9dfb-74c4f2f669bc","type":"column","content":["4d04175f-a93b-49b6-a609-74961770136f"],"format":{"column_ratio":0.25,"copied_from_pointer":{"id":"235500f7-fd62-4fe9-b6d2-b67bac3f464d","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1711360833152,"last_edited_time":1711360833152,"parent_id":"9e9a91b1-4853-4e82-be32-ac8af17739b0","parent_table":"block","alive":true,"copied_from":"235500f7-fd62-4fe9-b6d2-b67bac3f464d"}},"3147a22c-843a-46c3-a4d0-89eb62b6bd7e":{"value":{"id":"3147a22c-843a-46c3-a4d0-89eb62b6bd7e","type":"column","content":["1fe1e95a-cd49-421a-b7a7-916a18f2655d","17ce2e3c-f255-464e-8b1d-64ab9c7648c3"],"format":{"column_ratio":0.34601449275362306,"copied_from_pointer":{"id":"0439e06e-c3f8-4170-ba05-29b7ff61d8a0","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1711360833152,"last_edited_time":1711360833152,"parent_id":"9e9a91b1-4853-4e82-be32-ac8af17739b0","parent_table":"block","alive":true,"copied_from":"0439e06e-c3f8-4170-ba05-29b7ff61d8a0"}},"d8150945-8bbf-4df1-8e0e-dea8d8f5e04e":{"value":{"id":"d8150945-8bbf-4df1-8e0e-dea8d8f5e04e","type":"column","content":["57be63c6-8825-4b09-ab16-3014cdee1119"],"format":{"column_ratio":0.4039855072463767,"copied_from_pointer":{"id":"2db937b6-5aae-440c-a285-8be50e3b5e55","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1711360833152,"last_edited_time":1711360833152,"parent_id":"9e9a91b1-4853-4e82-be32-ac8af17739b0","parent_table":"block","alive":true,"copied_from":"2db937b6-5aae-440c-a285-8be50e3b5e55"}},"4d04175f-a93b-49b6-a609-74961770136f":{"value":{"id":"4d04175f-a93b-49b6-a609-74961770136f","type":"image","properties":{"size":[["980.0KB"]],"title":[["favicon.png"]],"source":[["https://prod-files-secure.s3.us-west-2.amazonaws.com/eb3e1328-8f32-4ff5-8d18-8ea80020e175/e74a26b9-10d9-49f3-9ea7-bcb2a1438bd7/favicon.png"]]},"format":{"block_width":144,"display_source":"https://prod-files-secure.s3.us-west-2.amazonaws.com/eb3e1328-8f32-4ff5-8d18-8ea80020e175/e74a26b9-10d9-49f3-9ea7-bcb2a1438bd7/favicon.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":1,"copied_from_pointer":{"id":"97938c4a-3571-4bef-b055-178812ea72c6","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"block_preserve_scale":true},"created_time":1711360833152,"last_edited_time":1711360833152,"parent_id":"efee572a-8601-404e-9dfb-74c4f2f669bc","parent_table":"block","alive":true,"copied_from":"97938c4a-3571-4bef-b055-178812ea72c6","file_ids":["e74a26b9-10d9-49f3-9ea7-bcb2a1438bd7"]}},"1fe1e95a-cd49-421a-b7a7-916a18f2655d":{"value":{"id":"1fe1e95a-cd49-421a-b7a7-916a18f2655d","type":"text","properties":{"title":[["\n",[["i"]]],["        是在往前走就好",[["i"],["b"]]],["\n        ",[["i"]]],["bothsavage.github.io",[["a","https://bothsavage.github.io/archive"],["i"]]],["\n",[["i"]]]]},"format":{"copied_from_pointer":{"id":"01338c9e-9395-42fa-858b-73431aab37fa","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1711360833152,"last_edited_time":1711360833152,"parent_id":"3147a22c-843a-46c3-a4d0-89eb62b6bd7e","parent_table":"block","alive":true,"copied_from":"01338c9e-9395-42fa-858b-73431aab37fa"}},"57be63c6-8825-4b09-ab16-3014cdee1119":{"value":{"id":"57be63c6-8825-4b09-ab16-3014cdee1119","type":"image","properties":{"size":[["85.8KB"]],"title":[["Untitled"]],"source":[["https://prod-files-secure.s3.us-west-2.amazonaws.com/eb3e1328-8f32-4ff5-8d18-8ea80020e175/3436ffe0-3684-445a-824f-2fd9fa5ad2a6/Untitled.png"]]},"format":{"block_width":288,"block_height":315,"display_source":"https://prod-files-secure.s3.us-west-2.amazonaws.com/eb3e1328-8f32-4ff5-8d18-8ea80020e175/3436ffe0-3684-445a-824f-2fd9fa5ad2a6/Untitled.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.525,"copied_from_pointer":{"id":"4ac99a1d-7b5a-4420-a756-a9131f055bd0","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"block_preserve_scale":true},"created_time":1711360833153,"last_edited_time":1711360833153,"parent_id":"d8150945-8bbf-4df1-8e0e-dea8d8f5e04e","parent_table":"block","alive":true,"copied_from":"4ac99a1d-7b5a-4420-a756-a9131f055bd0","file_ids":["3436ffe0-3684-445a-824f-2fd9fa5ad2a6"]}},"17ce2e3c-f255-464e-8b1d-64ab9c7648c3":{"value":{"id":"17ce2e3c-f255-464e-8b1d-64ab9c7648c3","type":"text","format":{"copied_from_pointer":{"id":"5e9529ea-6019-4fc2-84b6-796d696ac4fd","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1711360833152,"last_edited_time":1711360833152,"parent_id":"3147a22c-843a-46c3-a4d0-89eb62b6bd7e","parent_table":"block","alive":true,"copied_from":"5e9529ea-6019-4fc2-84b6-796d696ac4fd"}},"189b1da9-975a-42da-a706-02494cb76d01":{"value":{"id":"189b1da9-975a-42da-a706-02494cb76d01","type":"text","format":{"copied_from_pointer":{"id":"d23c967c-579a-4a00-81be-5b5255a47a8a","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1711360833152,"last_edited_time":1711360833152,"parent_id":"e8fd9138-663d-415d-9684-24343fb3248f","parent_table":"block","alive":true,"copied_from":"d23c967c-579a-4a00-81be-5b5255a47a8a"}}},"collection":{"3c6ddc29-47df-43f6-a375-de1c3a9cf466":{"value":{"id":"3c6ddc29-47df-43f6-a375-de1c3a9cf466","version":13,"name":[["Both Savage"]],"description":[["一个NotionNext搭建的博客"]],"schema":{"@NcA":{"name":"password","type":"text"},"Dj]h":{"name":"icon","type":"text"},"NX\\Q":{"name":"date","type":"date","date_format":"YYYY/MM/DD"},"`gQ~":{"name":"type","type":"select","options":[{"id":"5aff2f95-fd1e-489b-8840-bf10bc9519cb","color":"purple","value":"Post"},{"id":"374d2bc6-a144-4832-8ca4-474aaae0ea1f","color":"orange","value":"Page"},{"id":"95b7fea5-98b3-476e-892f-79e8f36d0633","color":"brown","value":"Notice"},{"id":"2287395b-9f64-4852-b46f-ff3df4b4acef","color":"yellow","value":"Menu"},{"id":"50fefd65-c28e-4806-9183-aa12995f11f3","color":"pink","value":"SubMenu"},{"id":"b945f57d-dbcc-4603-9fab-5cfe447aad1b","color":"red","value":"CONFIG"}]},"bB{M":{"name":"category","type":"select","options":[{"id":"a4dcd33a-34a7-4c33-b9c2-92d3a5248f06","color":"pink","value":"知行合一"},{"id":"8282ff59-f160-40c3-ab7e-6e970a0a64d5","color":"purple","value":"技术分享"},{"id":"edd604ab-fda7-4d9b-964a-e7de536c05a0","color":"orange","value":"心情随笔"},{"id":"9b3140e8-d1e6-414f-b86f-04f85b811596","color":"red","value":"未发布"}]},"d]hq":{"name":"slug","type":"text"},"sD^m":{"name":"tags","type":"multi_select","options":[{"id":"d9f66761-0396-4e80-be5c-2ab6c7f8ba86","color":"red","value":"推荐"},{"id":"ee932bde-0023-446f-9bb4-17d2022121c9","color":"brown","value":"文字"},{"id":"438bae9c-df52-4fb0-8288-791c5ee8625c","color":"yellow","value":"思考"},{"id":"4ae52b3d-6ee9-4af5-9b79-0b7644adf259","color":"orange","value":"新闻"},{"id":"25b1074b-a3fa-49f5-82cd-a37d85c5666f","color":"pink","value":"工具"},{"id":"1e90f00e-8f1b-4665-8e69-92f0791bde56","color":"pink","value":"开发"},{"id":"2382b30f-9881-4a8b-ae7f-2d34979c4fb9","color":"brown","value":"建站"},{"id":"569a8035-8738-40e8-a317-d6a6375f0b35","color":"green","value":"金钱"},{"id":"b39c0d81-6d40-4474-83fe-d8f44746a2d1","color":"pink","value":"健康"},{"id":"50765df4-40d8-4098-a1b4-abf97b9ce1d2","color":"gray","value":"docker"},{"id":"114a1313-d952-45e1-8bb5-8bf0b7d3c372","color":"blue","value":"自动化"},{"id":"986f04d2-1cd1-4f47-84ba-2c692e069d93","color":"purple","value":"折腾"},{"id":"88f6276a-b475-4a62-a2b6-438606516ec8","color":"default","value":"git"},{"id":"11c42291-5274-44a7-94a3-f4af3382896b","color":"red","value":"日志"},{"id":"e89abe8e-9228-48f8-8bb0-582d8343eb91","color":"red","value":"微服务"},{"id":"c002f5d1-02d9-41b0-954e-6f6a5978b3e0","color":"purple","value":"spring"},{"id":"9fb08037-26be-4513-a5b2-ada51bcfeb9c","color":"blue","value":"skywalking"}]},"wz|S":{"name":"summary","type":"text"},"title":{"name":"title","type":"title"},"f211bdc0-ee00-4186-9a7d-f68c055ec2ee":{"name":"status","type":"select","options":[{"id":"7abc61d4-b405-480d-b699-12588755fa65","color":"red","value":"Published"},{"id":"d1242312-e0a8-456d-b8f0-6e998e2c4fb2","color":"orange","value":"Invisible"},{"id":"41d5f5c6-b53c-42bc-8e0f-fc9402048480","color":"yellow","value":"Draft"}]}},"icon":"https://prod-files-secure.s3.us-west-2.amazonaws.com/eb3e1328-8f32-4ff5-8d18-8ea80020e175/c5ebdc5a-c3fd-403e-906b-17d64db6d01f/favicon.ico","cover":"/images/page-cover/nasa_robert_stewart_spacewalk_2.jpg","format":{"copied_from_pointer":{"id":"9c953404-2685-4385-a433-b3ca351ebfbb","table":"collection","spaceId":"2a229231-539e-420a-9652-17ba8be4cd18"},"property_visibility":[{"property":"`gQ~","visibility":"show"},{"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee","visibility":"show"},{"property":"NX\\Q","visibility":"show"},{"property":"d]hq","visibility":"show"},{"property":"wz|S","visibility":"show"},{"property":"sD^m","visibility":"show"},{"property":"bB{M","visibility":"show"},{"property":"Dj]h","visibility":"hide_if_empty"},{"property":"uHoD","visibility":"show"},{"property":"kiCR","visibility":"hide"}],"collection_cover_position":0.3,"collection_page_properties":[{"visible":false,"property":"`gQ~"},{"visible":false,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"visible":false,"property":"NX\\Q"},{"visible":false,"property":"d]hq"},{"visible":false,"property":"wz|S"},{"visible":false,"property":"sD^m"},{"visible":true,"property":"bB{M"},{"visible":true,"property":"Dj]h"},{"visible":true,"property":"@NcA"},{"visible":true,"property":"ckw_"}],"collection_default_template":{"template_page_id":"77f4d759-8660-4888-8d35-4214be459ba1"}},"parent_id":"87ff73a8-1273-4f5f-96c1-cd1becb07207","parent_table":"block","alive":true,"file_ids":["6cf3dc36-2f98-4f0e-9679-1bdbb1485129","5520bd92-e709-4c0d-ad58-06923f23f7e9","624d393a-62e3-4464-a1bf-1c79ecd4fbda","d52f6766-3e32-4c3d-8529-46e1f214360f","abe3a0aa-2aff-4274-81bb-c2443d4ef9e2","a2a32795-101d-46aa-a7f6-eb35b8750166","ebb540b3-6c46-422b-b2ed-f834e98fa189","c5ebdc5a-c3fd-403e-906b-17d64db6d01f"],"copied_from":"9c953404-2685-4385-a433-b3ca351ebfbb","template_pages":["77f4d759-8660-4888-8d35-4214be459ba1"],"migrated":true,"space_id":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"role":"comment_only"}},"space":{},"collection_view":{"8e40545c-4d1c-4299-8605-c04d7ab6872f":{"value":{"id":"8e40545c-4d1c-4299-8605-c04d7ab6872f","version":18,"type":"table","name":"Table","format":{"table_properties":[{"width":219,"visible":true,"property":"title"},{"width":222,"visible":true,"property":"wz|S"},{"width":100,"visible":true,"property":"`gQ~"},{"width":116,"visible":true,"property":"bB{M"},{"width":142,"visible":true,"property":"sD^m"},{"width":100,"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"width":155,"visible":true,"property":"d]hq"},{"width":111,"visible":true,"property":"NX\\Q"},{"width":100,"visible":true,"property":"@NcA"},{"width":117,"visible":true,"property":"Dj]h"}],"table_frozen_column_index":-1,"collection_view_default_template":{"template_page_id":"77f4d759-8660-4888-8d35-4214be459ba1"}},"parent_id":"87ff73a8-1273-4f5f-96c1-cd1becb07207","parent_table":"block","alive":true,"page_sort":["cc459e5b-0f15-4a0c-83db-bb6bf2001aa3","a9bfecc8-9761-4987-9aca-af79d4ebbd0c","7aa40ad8-1e69-4d56-b245-d135d3101cec","e4eefa7d-e2f2-44ed-83f6-fd6951d50900","0f9b7a0d-ad15-4ece-8a8b-948d96b50ff7","58a216ce-4d8d-4b60-906c-6097c5fd8d41","b824f35b-aee9-4a22-81c9-d44b65f99f43","ba565c08-0d2f-46cb-9fcb-5eeface44dfb","560c76dd-c69f-429b-827d-7974407bb23f","0533a861-81cc-40fa-8ab8-5be721800b86","3578fa31-ea0a-4e07-82dc-28704e0dc685","f2625c60-ca69-493b-858c-bf38979f468c","96b14e20-e592-42f6-b7d2-357f4693f18c","fe8fafec-6d1b-4fbb-8a7a-fb079a6bb8e4","9345db3a-b8bd-4e02-b296-9734958eddb6","26e8ddc4-10b4-4765-a96d-e87290556164","840f0871-b58b-428d-8a28-0861947974b4","5787bc4f-06a4-4158-a27f-6c81fb9b1efe","e1bff221-486f-42c8-9cf3-6379f83f3510","2db01777-47d0-4230-bbe8-ef65ab694707","ab0d5acb-9230-4656-9c49-1aff13aba865","98330ff5-71d2-4ea9-945a-ba76fc282e9d","c555dc5f-766e-4b6d-8adc-711dda06ca9e","f53bfc30-59bb-4890-ba28-0b045040aa5e","4fae0653-be7f-4e10-91de-344f6c6d0a6b","62779828-3770-4944-923d-0e0a307d9cfe","e8fd9138-663d-415d-9684-24343fb3248f","e013510c-b3a7-4907-b4cd-118b118d30db","7e13a286-a275-4f48-b9d0-416c9b1368ce","38e3f997-dad9-46b8-99bb-d3042488821f","026c5c21-3604-4c0a-a13c-ccb9208e4815","ce6b6618-a118-4ee9-b74c-33a848d0f0ed","d3216be6-1b27-40e7-8677-7404896b7eb6","54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf","041a3743-f888-4476-b947-fff856745c02","47aba706-2cde-4eef-9fb8-0cdd0f7805c9","93032c73-435f-4a73-8087-b71ecff3a86b","973ede9c-1a10-4482-be06-324fd481d34f","163026f4-445a-4595-936d-c0df491c3776","d43cadd5-38cc-48ce-a44d-188a8215cd7d","b4a852c3-8bab-43ef-b748-8dec9d0940f9","463a12f0-d5d5-4492-bb0f-8058cea32a41","95ddf5c1-569e-4c61-a1e8-6507fe59fc97","e02c27c7-0d8f-4899-ac46-99fcbde4d8e2","bb12e5eb-3f93-4fc7-ba98-c634aeab570c","4194acae-3f4b-4c08-98b9-907a0b5bd4b9","7197aec6-6a63-4199-be46-fe41dbe963bc","5263856d-837a-4f2d-bfc6-24cbff6c946c","7d53a42d-ea99-435e-b34c-b08a4c1d5d8d","07268062-6524-4c7a-a123-1bf8f2b1dc97","7b6c5022-b0db-4dc3-a38e-47cefabe2caf","535eb3f6-3ba4-436a-bb1a-98afa49aca4a","f3550fb0-346c-4212-b57f-86433738b50b","61e7385c-af01-4fb5-a3d1-20604e42144e","2255c884-c803-463b-86ed-ac605dbdb20d","07ffc04a-9fef-4589-93f1-7999e2ac60ff","6010106b-54da-4540-8532-04f407ec4543","1ffb90ba-821d-4d16-8520-e46604a470d7","adc7c47b-6dd7-439f-9e06-6075256c91a7","29e65d89-d04e-4ee3-9a9d-2f8856ed3055","d88da7cd-eebc-4c92-b9c3-53910376ab83","7d039e15-c906-470d-b781-943032713368","e746c4ee-0327-4529-85ac-7059a10091d3","898cec8f-fd58-426a-9065-696d924d6dd6","69787376-afa9-4f5b-9230-dbfcde06209d","9e017f37-5917-4cda-afb8-92072abdbdba","8aafeb2c-85b4-4c4e-af36-3b9efacb167c","6d0e0705-57f3-4223-8745-a27295245029","dec89a30-7004-499f-a99e-05b2842cad2b","7efc83d4-2645-4578-b588-a9cffb15524a","1769e8de-bebe-4687-a28a-34c15859ed98","203f2c30-a3cd-4f70-95b3-07df9f996428","2a0b435c-6f77-4db8-be6b-831d177bd762","eac01009-c323-46fd-8339-09c282e6597e","c4b37f96-4ab0-4a0b-a16e-55bac3e32990","4ad5c69e-0dab-4d66-b548-360da7d53568","72d89744-ac04-4dd4-be8b-9d629acd7c11","32dc3358-e954-4934-9e71-cf1dfbca5b91","961e45bd-8bed-4ebc-b3d8-1f0e63736d04"],"query2":{"aggregations":[{"property":"title","aggregator":"count"}]},"space_id":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"role":"comment_only"},"818d9fe2-a27d-40ec-b827-614939109ca4":{"value":{"id":"818d9fe2-a27d-40ec-b827-614939109ca4","version":1,"type":"gallery","format":{"gallery_cover":{"type":"page_cover"},"table_properties":[{"width":100,"visible":true,"property":"`gQ~"},{"width":116,"visible":true,"property":"bB{M"},{"width":142,"visible":true,"property":"sD^m"},{"width":219,"visible":true,"property":"title"},{"width":100,"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"width":155,"visible":true,"property":"d]hq"},{"width":352,"visible":true,"property":"wz|S"},{"width":111,"visible":true,"property":"NX\\Q"},{"width":100,"visible":true,"property":"@NcA"},{"width":117,"visible":true,"property":"Dj]h"}],"collection_groups":[{"value":{"type":"select","value":"心情随笔"},"property":"bB{M"},{"value":{"type":"select","value":"技术分享"},"property":"bB{M"},{"value":{"type":"select","value":"知行合一"},"property":"bB{M"},{"value":{"type":"select"},"hidden":true,"property":"bB{M"}],"gallery_properties":[{"visible":true,"property":"title"},{"visible":true,"property":"NX\\Q"},{"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"visible":false,"property":"bB{M"},{"visible":false,"property":"Dj]h"},{"visible":false,"property":"@NcA"},{"visible":false,"property":"d]hq"},{"visible":false,"property":"wz|S"},{"visible":false,"property":"sD^m"},{"visible":false,"property":"`gQ~"}],"collection_group_by":{"sort":{"type":"manual"},"type":"select","property":"bB{M"},"table_subitem_toggle_column":"title"},"parent_id":"87ff73a8-1273-4f5f-96c1-cd1becb07207","parent_table":"block","alive":true,"space_id":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"role":"comment_only"},"ad494b39-a38c-415e-9221-325f0f9be280":{"value":{"id":"ad494b39-a38c-415e-9221-325f0f9be280","version":1,"type":"board","format":{"board_columns":[{"value":{"type":"select","value":"Draft"},"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"value":{"type":"select","value":"Invisible"},"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"value":{"type":"select","value":"Published"},"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"value":{"type":"select"},"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"}],"board_columns_by":{"sort":{"type":"manual"},"type":"select","property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},"board_properties":[{"visible":true,"property":"title"},{"visible":true,"property":"bB{M"},{"visible":true,"property":"sD^m"},{"visible":true,"property":"wz|S"},{"visible":false,"property":"NX\\Q"},{"visible":false,"property":"Dj]h"},{"visible":false,"property":"@NcA"},{"visible":false,"property":"d]hq"},{"visible":false,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"visible":false,"property":"`gQ~"}],"table_properties":[{"width":100,"visible":true,"property":"`gQ~"},{"width":116,"visible":true,"property":"bB{M"},{"width":142,"visible":true,"property":"sD^m"},{"width":219,"visible":true,"property":"title"},{"width":100,"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"width":155,"visible":true,"property":"d]hq"},{"width":352,"visible":true,"property":"wz|S"},{"width":111,"visible":true,"property":"NX\\Q"},{"width":100,"visible":true,"property":"@NcA"},{"width":117,"visible":true,"property":"Dj]h"}],"table_subitem_toggle_column":"title"},"parent_id":"87ff73a8-1273-4f5f-96c1-cd1becb07207","parent_table":"block","alive":true,"space_id":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"role":"comment_only"},"58c6fb90-5030-4627-8bad-38b57c3253cd":{"value":{"id":"58c6fb90-5030-4627-8bad-38b57c3253cd","version":25,"type":"list","name":"","format":{"list_properties":[{"visible":true,"property":"NX\\Q"},{"visible":true,"property":"d]hq"},{"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"visible":true,"property":"sD^m"},{"visible":true,"property":"`gQ~"},{"visible":false,"property":"wz|S"},{"visible":false,"property":"bB{M"},{"visible":false,"property":"Dj]h"},{"visible":false,"property":"@NcA"}],"table_properties":[{"width":100,"visible":true,"property":"`gQ~"},{"width":116,"visible":true,"property":"bB{M"},{"width":142,"visible":true,"property":"sD^m"},{"width":219,"visible":true,"property":"title"},{"width":100,"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"width":155,"visible":true,"property":"d]hq"},{"width":352,"visible":true,"property":"wz|S"},{"width":111,"visible":true,"property":"NX\\Q"},{"width":100,"visible":true,"property":"@NcA"},{"width":117,"visible":true,"property":"Dj]h"}],"collection_groups":[{"value":{"type":"select","value":"心情随笔"},"property":"bB{M"},{"value":{"type":"select","value":"技术分享"},"property":"bB{M"},{"value":{"type":"select","value":"知行合一"},"property":"bB{M"},{"value":{"type":"select"},"property":"bB{M"},{"value":{"type":"select","value":"未发布"},"hidden":false,"property":"bB{M"}],"collection_group_by":{"sort":{"type":"manual"},"type":"select","property":"bB{M"},"table_subitem_toggle_column":"title"},"parent_id":"87ff73a8-1273-4f5f-96c1-cd1becb07207","parent_table":"block","alive":true,"page_sort":["aac975a5-3e4f-4274-b064-aec9a24b48be","bb12e5eb-3f93-4fc7-ba98-c634aeab570c","69787376-afa9-4f5b-9230-dbfcde06209d","07268062-6524-4c7a-a123-1bf8f2b1dc97","4fae0653-be7f-4e10-91de-344f6c6d0a6b","163026f4-445a-4595-936d-c0df491c3776","973ede9c-1a10-4482-be06-324fd481d34f","47aba706-2cde-4eef-9fb8-0cdd0f7805c9","d43cadd5-38cc-48ce-a44d-188a8215cd7d","93032c73-435f-4a73-8087-b71ecff3a86b","041a3743-f888-4476-b947-fff856745c02","95ddf5c1-569e-4c61-a1e8-6507fe59fc97","463a12f0-d5d5-4492-bb0f-8058cea32a41","b4a852c3-8bab-43ef-b748-8dec9d0940f9","7d53a42d-ea99-435e-b34c-b08a4c1d5d8d","c555dc5f-766e-4b6d-8adc-711dda06ca9e","f53bfc30-59bb-4890-ba28-0b045040aa5e","5263856d-837a-4f2d-bfc6-24cbff6c946c","7b6c5022-b0db-4dc3-a38e-47cefabe2caf","d88da7cd-eebc-4c92-b9c3-53910376ab83","7d039e15-c906-470d-b781-943032713368","e746c4ee-0327-4529-85ac-7059a10091d3","29e65d89-d04e-4ee3-9a9d-2f8856ed3055","6234c1b0-c99f-4e13-892c-77dfbbb980dc","6619e16a-8a30-411e-a0d4-3fd724006c63","2e7ee7ca-e5f6-41ae-8886-cdcebbd52a5c","54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf","d3216be6-1b27-40e7-8677-7404896b7eb6","3505b511-076b-47a7-aa1a-95e702c54e6b","ce6b6618-a118-4ee9-b74c-33a848d0f0ed","f6073c5c-d5a8-464d-90e1-2b13358989d7","463a3c80-4e43-42d9-b436-1299d00df6b2","026c5c21-3604-4c0a-a13c-ccb9208e4815","38e3f997-dad9-46b8-99bb-d3042488821f","7e13a286-a275-4f48-b9d0-416c9b1368ce","c400684e-4c92-4f33-a95c-fa250a356d9b"],"space_id":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"role":"comment_only"}},"notion_user":{},"collection_query":{},"signed_urls":{}}},"prev":{"id":"54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf","date":{"start_date":"2024-01-01"},"type":"Post","category":"知行合一","slug":"article/begin","tags":["建站","文字","推荐"],"summary":"这是示例的文章摘要，摘要内容可被用做搜索，预览。文章列表默认展示概要；若要在列表直接展示文章内容，可在blog.config.js中配置。","title":"开始","status":"Published","publishDate":1704067200000,"publishDay":"Jan 1, 2024","lastEditedDate":"2024-01-19T09:15:24.923Z","lastEditedDay":"Jan 19, 2024","fullWidth":false,"pageIcon":"🏐","pageCover":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=85\u0026fm=jpg\u0026crop=entropy\u0026cs=srgb\u0026t=54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf","pageCoverThumbnail":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=50\u0026fm=webp\u0026crop=entropy\u0026cs=srgb\u0026t=54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf\u0026width=800\u0026fmt=webp","tagItems":[{"name":"建站","color":"brown"},{"name":"文字","color":"brown"},{"name":"推荐","color":"red"}],"password":""},"next":{"id":"e013510c-b3a7-4907-b4cd-118b118d30db","date":{"start_date":"2024-03-20","date_format":"relative"},"type":"Post","category":"技术分享","slug":"article/240320-arthas","tags":["工具","开发","推荐"],"summary":"Arthas在排查Java应用线上问题的时候有大用处，并且可以是热部署工具，这里我推荐几个我常用的方法","title":"Arthas简单使用备忘录","status":"Published","publishDate":1710892800000,"publishDay":"Mar 20, 2024","lastEditedDate":"2024-03-20T04:52:10.213Z","lastEditedDay":"Mar 20, 2024","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://source.unsplash.com/random?t=e013510c-b3a7-4907-b4cd-118b118d30db","pageCoverThumbnail":"https://source.unsplash.com/random?t=e013510c-b3a7-4907-b4cd-118b118d30db","tagItems":[{"name":"工具","color":"pink"},{"name":"开发","color":"pink"},{"name":"推荐","color":"red"}],"password":""},"recommendPosts":[{"id":"e013510c-b3a7-4907-b4cd-118b118d30db","date":{"start_date":"2024-03-20","date_format":"relative"},"type":"Post","category":"技术分享","slug":"article/240320-arthas","tags":["工具","开发","推荐"],"summary":"Arthas在排查Java应用线上问题的时候有大用处，并且可以是热部署工具，这里我推荐几个我常用的方法","title":"Arthas简单使用备忘录","status":"Published","publishDate":1710892800000,"publishDay":"Mar 20, 2024","lastEditedDate":"2024-03-20T04:52:10.213Z","lastEditedDay":"Mar 20, 2024","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://source.unsplash.com/random?t=e013510c-b3a7-4907-b4cd-118b118d30db","pageCoverThumbnail":"https://source.unsplash.com/random?t=e013510c-b3a7-4907-b4cd-118b118d30db","tagItems":[{"name":"工具","color":"pink"},{"name":"开发","color":"pink"},{"name":"推荐","color":"red"}],"password":""},{"id":"7e13a286-a275-4f48-b9d0-416c9b1368ce","date":{"start_date":"2024-03-19","date_format":"relative"},"type":"Post","category":"技术分享","slug":"article/240319-xmrig","tags":["建站","推荐","开发"],"summary":"叮咚！阿里云提示你，你的服务器正在被攻击！","title":"Xmrig挖矿入侵服务器排查","status":"Published","publishDate":1710806400000,"publishDay":"Mar 19, 2024","lastEditedDate":"2024-03-19T17:15:42.884Z","lastEditedDay":"Mar 19, 2024","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://source.unsplash.com/random?t=7e13a286-a275-4f48-b9d0-416c9b1368ce","pageCoverThumbnail":"https://source.unsplash.com/random?t=7e13a286-a275-4f48-b9d0-416c9b1368ce","tagItems":[{"name":"建站","color":"brown"},{"name":"推荐","color":"red"},{"name":"开发","color":"pink"}],"password":""},{"id":"38e3f997-dad9-46b8-99bb-d3042488821f","date":{"start_date":"2024-01-24","date_format":"relative"},"type":"Post","category":"技术分享","slug":"article/240124-deploy","tags":["推荐","工具","自动化","微服务"],"summary":"微服务jar包越来越多,每次手动上线的时候都要运行一大堆命令,并且每个人备份的jar包名称目录都不一样。故写了一个脚本规定死流程,并且把脚本配置到环境变量做自动补全。","title":"Java部署脚本\u0026重启备份检查\u0026配置环境","status":"Published","publishDate":1706054400000,"publishDay":"Jan 24, 2024","lastEditedDate":"2024-01-24T07:18:46.139Z","lastEditedDay":"Jan 24, 2024","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://source.unsplash.com/random?t=38e3f997-dad9-46b8-99bb-d3042488821f","pageCoverThumbnail":"https://source.unsplash.com/random?t=38e3f997-dad9-46b8-99bb-d3042488821f","tagItems":[{"name":"推荐","color":"red"},{"name":"工具","color":"pink"},{"name":"自动化","color":"blue"},{"name":"微服务","color":"red"}],"password":""},{"id":"026c5c21-3604-4c0a-a13c-ccb9208e4815","date":{"start_date":"2024-01-21","date_format":"relative"},"type":"Post","category":"技术分享","slug":"article/240121-skywaking","tags":["推荐","开发","日志","微服务","spring","skywalking"],"summary":"一年半以前，公司就从单体应用逐步迁移到微服务管理。奈何业务绑定太深，一直在两边混合开发。由于迁移到微服务的进程完成了一大半了，之前在单体项目中打的链路追踪就不太好用了。随即想到了SkyWalking，随即发现了一个大坑，那就是在gateway组件中logback日志会丢失TraceId，网上搜了一圈都没有解决问题，我又跑到SkyWalking的issue中搜了一大圈，发现大佬以下回答，还是得自己想办法。","title":"解决SkyWalking在gateway中logback链路丢失","status":"Published","publishDate":1705795200000,"publishDay":"Jan 21, 2024","lastEditedDate":"2024-01-20T18:52:32.627Z","lastEditedDay":"Jan 20, 2024","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://source.unsplash.com/random?t=026c5c21-3604-4c0a-a13c-ccb9208e4815","pageCoverThumbnail":"https://source.unsplash.com/random?t=026c5c21-3604-4c0a-a13c-ccb9208e4815","tagItems":[{"name":"推荐","color":"red"},{"name":"开发","color":"pink"},{"name":"日志","color":"red"},{"name":"微服务","color":"red"},{"name":"spring","color":"purple"},{"name":"skywalking","color":"blue"}],"password":""},{"id":"ce6b6618-a118-4ee9-b74c-33a848d0f0ed","date":{"time_zone":"Asia/Shanghai","start_date":"2024-01-19","start_time":"13:00"},"type":"Post","category":"技术分享","slug":"article/240119-notion","tags":["建站","推荐","工具","docker","自动化","折腾","git"],"summary":"之前一直使用GitPage+typora+hexo来做文章分享管理，奈何真的麻烦坚持不下去了。Notion是我一直在使用的笔记软件，为了更好的使用Notion我还去看了许多文章。现在Notion已经是我生活的一部分了。最近发现NotionNext，但需要Vercel部署，还需要自己映射域名。所以想着用xx.github.io域名，优雅又方便","title":"Notion文章自动同步GitPage","status":"Published","publishDate":1705622400000,"publishDay":"Jan 19, 2024","lastEditedDate":"2024-03-19T17:14:00.935Z","lastEditedDay":"Mar 19, 2024","fullWidth":false,"pageIcon":"📗","pageCover":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=85\u0026fm=jpg\u0026crop=entropy\u0026cs=srgb\u0026t=ce6b6618-a118-4ee9-b74c-33a848d0f0ed","pageCoverThumbnail":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=50\u0026fm=webp\u0026crop=entropy\u0026cs=srgb\u0026t=ce6b6618-a118-4ee9-b74c-33a848d0f0ed\u0026width=800\u0026fmt=webp","tagItems":[{"name":"建站","color":"brown"},{"name":"推荐","color":"red"},{"name":"工具","color":"pink"},{"name":"docker","color":"gray"},{"name":"自动化","color":"blue"},{"name":"折腾","color":"purple"},{"name":"git","color":"default"}],"password":""},{"id":"d3216be6-1b27-40e7-8677-7404896b7eb6","date":{"start_date":"2024-01-18"},"type":"Post","category":"心情随笔","slug":"article/example","tags":["建站","文字","推荐"],"summary":"这是示例的文章摘要，摘要内容可被用做搜索，预览。文章列表默认展示概要；若要在列表直接展示文章内容，可在blog.config.js中配置。","title":"示例文章","status":"Published","publishDate":1705536000000,"publishDay":"Jan 18, 2024","lastEditedDate":"2024-01-19T06:18:08.580Z","lastEditedDay":"Jan 19, 2024","fullWidth":false,"pageIcon":"🗓️","pageCover":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=85\u0026fm=jpg\u0026crop=entropy\u0026cs=srgb\u0026t=d3216be6-1b27-40e7-8677-7404896b7eb6","pageCoverThumbnail":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=50\u0026fm=webp\u0026crop=entropy\u0026cs=srgb\u0026t=d3216be6-1b27-40e7-8677-7404896b7eb6\u0026width=800\u0026fmt=webp","tagItems":[{"name":"建站","color":"brown"},{"name":"文字","color":"brown"},{"name":"推荐","color":"red"}],"password":""}]},"__N_SSG":true},"page":"/[prefix]/[slug]","query":{"prefix":"article","slug":"240325-ollama"},"buildId":"BXRCp25crm_MkH1v6tARN","runtimeConfig":{"NODE_ENV_API":"prod","THEMES":["example","fukasawa","gitbook","heo","hexo","matery","medium","nav","next","nobelium","plog","simple"]},"isFallback":false,"dynamicIds":[10635],"gsp":true,"scriptLoader":[]}</script></body></html>