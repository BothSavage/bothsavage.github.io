<!DOCTYPE html><html lang="zh-CN"><head><title>万里长征-02-跟谁学 | Both Savage</title><meta name="theme-color" content="#000000"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0"/><meta name="robots" content="follow, index"/><meta charSet="UTF-8"/><meta name="keywords" content="面试,文字"/><meta name="description" content="跟谁学面试题"/><meta property="og:locale" content="en_US"/><meta property="og:title" content="万里长征-02-跟谁学 | Both Savage"/><meta property="og:description" content="跟谁学面试题"/><meta property="og:url" content="https://bothsavage.github.io//article/240408-LM-02"/><meta property="og:image" content="https://source.unsplash.com/random?t=9a78ba09-76ce-4344-bad5-f6d60dc0680e"/><meta property="og:site_name" content="Both Savage"/><meta property="og:type" content="Post"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:description" content="跟谁学面试题"/><meta name="twitter:title" content="万里长征-02-跟谁学 | Both Savage"/><meta name="referrer" content="no-referrer-when-downgrade"/><meta property="article:published_time"/><meta property="article:author" content="Both Savage"/><meta property="article:section" content="万"/><meta property="article:publisher"/><meta name="next-head-count" content="22"/><link rel="icon" href="/favicon.ico"/><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" crossorigin="anonymous"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerPolicy="no-referrer"/><link rel="preload" as="font" type="font/woff2" data-href="https://fonts.googleapis.com/css?family=Bitter&amp;display=swap"/><link rel="preload" as="font" type="font/woff2" data-href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300&amp;display=swap"/><link rel="preload" as="font" type="font/woff2" data-href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300&amp;display=swap"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/06c69360ab4a808f.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/06c69360ab4a808f.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script defer="" src="/_next/static/chunks/3607272e.930e8446c6ba44e1.js" crossorigin=""></script><script defer="" src="/_next/static/chunks/85853.7b82235f14365c08.js" crossorigin=""></script><script src="/_next/static/chunks/webpack-3c2098fe4d6464d4.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-b7fa4bf8e1ae99a1.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-30e956e31ac22080.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-831ea3c2ed3221eb.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/88495-859c98bd25cf70c4.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/%5Bprefix%5D/%5Bslug%5D-5b13cd8bd4bab6aa.js" defer="" crossorigin=""></script><script src="/_next/static/9OvM5nJrj-_21T8ir_xc6/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/9OvM5nJrj-_21T8ir_xc6/_ssgManifest.js" defer="" crossorigin=""></script><style id="__jsx-763a7ba965151bca">.dark body{background-color:black}</style></head><body class="font-sans font-light scroll-smooth"><div id="__next"><div id="theme-gitbook" class="bg-white dark:bg-hexo-black-gray w-full h-full min-h-screen justify-center dark:text-gray-300"><div id="top-nav" class="fixed top-0 w-full z-40 undefined"><div style="height:0px;will-change:height" class="md:hidden overflow-hidden duration-200 "><div class="bg-white dark:bg-hexo-black-gray pt-1 py-2 lg:hidden "><nav id="nav" class=" text-md"><div class="hover:text-green-600 px-7 w-full text-left duration-200 dark:bg-hexo-black-gray dark:border-black"><a target="_blank" class="py-2 w-full my-auto items-center justify-between flex  " href="https://github.com/BOTHSAVAGE"><div><div class="fab fa-github text-center w-4 mr-4"></div>Github</div></a></div><div class="hover:text-green-600 px-7 w-full text-left duration-200 dark:bg-hexo-black-gray dark:border-black"><div class="py-2 font-extralight flex justify-between cursor-pointer  dark:text-gray-200 no-underline tracking-widest"><div><div class="fas fa-archive text-center w-4 mr-4"></div>往期整理</div><div class="inline-flex items-center "><i class="px-2 fas fa-chevron-right transition-all duration-200 "></i></div></div></div><div style="height:0px;will-change:height" class=" overflow-hidden duration-200 "><div class=" not:last-child:border-b-0 border-b dark:border-gray-800 py-2 px-14 cursor-pointer hover:bg-gray-100 dark:text-gray-200 font-extralight dark:bg-black text-left justify-start text-gray-600 bg-gray-50 dark:hover:bg-gray-900 tracking-widest transition-all duration-200"><a target="_self" href="/archive"><div><div class="fas fa-clock-rotate-left text-center w-3 mr-3 text-xs"></div>历史归档</div></a></div><div class=" not:last-child:border-b-0 border-b dark:border-gray-800 py-2 px-14 cursor-pointer hover:bg-gray-100 dark:text-gray-200 font-extralight dark:bg-black text-left justify-start text-gray-600 bg-gray-50 dark:hover:bg-gray-900 tracking-widest transition-all duration-200"><a target="_self" href="/category"><div><div class="fas fa-th text-center w-3 mr-3 text-xs"></div>文章分类</div></a></div><div class=" not:last-child:border-b-0 border-b dark:border-gray-800 py-2 px-14 cursor-pointer hover:bg-gray-100 dark:text-gray-200 font-extralight dark:bg-black text-left justify-start text-gray-600 bg-gray-50 dark:hover:bg-gray-900 tracking-widest transition-all duration-200"><a target="_self" href="/tag"><div><div class="fas fa-tag text-center w-3 mr-3 text-xs"></div>文章标签</div></a></div></div></nav></div></div><div class="flex w-full h-14 shadow glassmorphism bg-white dark:bg-hexo-black-gray px-7 items-between"><div id="top-wrapper" class="w-full flex items-center"><div class="cursor-pointer md:hidden text-xl pr-3 hover:scale-110 duration-150"><i class="fa-solid fa-indent"></i></div><a class="flex text-md md:text-xl dark:text-gray-200" href="/"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Both Savage" width="24" height="24" class="mr-2 hidden md:block"/>Both Savage</a></div><div class="mr-1 flex md:hidden justify-end items-center space-x-4 font-serif dark:text-gray-200"><div class="flex text-md items-center h-full flex justify-center dark:text-gray-200 text-gray-800"><div id="darkModeButton" class=" hover:scale-110 cursor-pointer transform duration-200 w-5 h-5"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></div></div><div class="cursor-pointer text-lg hover:scale-110 duration-150"><i class="fa-solid fa-ellipsis-vertical"></i></div></div><div class="hidden md:flex"><li class="cursor-pointer list-none items-center flex mx-2"><div class="px-2 h-full whitespace-nowrap duration-300 text-sm justify-between dark:text-gray-300 cursor-pointer flex flex-nowrap items-center hover:text-green-600"><a target="_blank" href="https://github.com/BOTHSAVAGE"><i class="fab fa-github"></i> <!-- -->Github</a></div></li><li class="cursor-pointer list-none items-center flex mx-2"><div class="px-2 h-full whitespace-nowrap duration-300 text-sm justify-between dark:text-gray-300 cursor-pointer flex flex-nowrap items-center hover:text-green-600"><div><i class="fas fa-archive"></i> <!-- -->往期整理<i class="px-2 fas fa-chevron-down duration-500 transition-all "></i></div></div><ul class="invisible opacity-0 top-10  border-gray-100  bg-white  dark:bg-black dark:border-gray-800 transition-all duration-300 z-20 absolute block drop-shadow-lg "><li class="not:last-child:border-b-0 border-b text-gray-700 dark:text-gray-200  hover:bg-gray-50 dark:hover:bg-gray-900 tracking-widest transition-all duration-200  dark:border-gray-800 py-3 pr-6 pl-3"><a target="_self" href="/archive"><span class="text-xs font-extralight"><i class="fas fa-clock-rotate-left">   </i>历史归档</span></a></li><li class="not:last-child:border-b-0 border-b text-gray-700 dark:text-gray-200  hover:bg-gray-50 dark:hover:bg-gray-900 tracking-widest transition-all duration-200  dark:border-gray-800 py-3 pr-6 pl-3"><a target="_self" href="/category"><span class="text-xs font-extralight"><i class="fas fa-th">   </i>文章分类</span></a></li><li class="not:last-child:border-b-0 border-b text-gray-700 dark:text-gray-200  hover:bg-gray-50 dark:hover:bg-gray-900 tracking-widest transition-all duration-200  dark:border-gray-800 py-3 pr-6 pl-3"><a target="_self" href="/tag"><span class="text-xs font-extralight"><i class="fas fa-tag">   </i>文章标签</span></a></li></ul></li><div class="text-sm flex items-center h-full flex justify-center dark:text-gray-200 text-gray-800"><div id="darkModeButton" class=" hover:scale-110 cursor-pointer transform duration-200 w-5 h-5"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></div></div></div></div></div><main id="wrapper" class="relative flex justify-between w-full h-full mx-auto"><div class="font-sans hidden md:block border-r dark:border-transparent relative z-10 "><div class="w-72 py-14 px-6 sticky top-0 overflow-y-scroll h-screen scroll-hidden"><div class="flex w-full"><input type="text" class="my-3 rounded-md outline-none w-full text-sm pl-2 transition focus:shadow-lg font-light leading-10 text-black bg-gray-100 dark:bg-gray-900 dark:text-white"/><div class="flex -ml-8 cursor-pointer float-right items-center justify-center py-2"><i class="hover:text-black transform duration-200 text-gray-500  dark:hover:text-gray-300 cursor-pointer fas fa-search"></i></div></div><div class="mb-20"><div id="posts-wrapper" class="w-full flex-grow"><div class="select-none flex justify-between text-sm font-sans cursor-pointer p-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600"><span>知行合一</span><div class="inline-flex items-center select-none pointer-events-none "><i class="px-2 fas fa-chevron-left transition-all duration-200 "></i></div></div><div style="height:0px;will-change:height" class=" overflow-hidden duration-200 "><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/begin">将进酒</a></div></div></div></div><div class="select-none flex justify-between text-sm font-sans cursor-pointer p-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600"><span>技术分享</span><div class="inline-flex items-center select-none pointer-events-none "><i class="px-2 fas fa-chevron-left transition-all duration-200 "></i></div></div><div style="height:0px;will-change:height" class=" overflow-hidden duration-200 "><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240405-cpu">Java程序CPU异常监控bash脚本</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240325-ollama">mac体验ollama本地大模型</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240320-arthas">Arthas简单使用备忘录</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240319-xmrig">Xmrig挖矿入侵服务器排查</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240124-deploy">Java部署脚本&amp;重启备份检查&amp;配置环境</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240121-skywaking">解决SkyWalking在gateway中logback链路丢失</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240119-notion">Notion文章自动同步GitPage</a></div></div></div></div><div class="select-none flex justify-between text-sm font-sans cursor-pointer p-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600"><span>万里长征</span><div class="inline-flex items-center select-none pointer-events-none "><i class="px-2 fas fa-chevron-left transition-all duration-200 -rotate-90"></i></div></div><div style="height:0px;will-change:height" class=" overflow-hidden duration-200 "><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  bg-green-50 text-green-500"><div class="flex flex-col w-full select-none"><a href="/article/240408-LM-02">万里长征-02-跟谁学</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240405-LM-01">万里长征-01-贝壳</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240405-LM">万里长征</a></div></div></div></div><div class="select-none flex justify-between text-sm font-sans cursor-pointer p-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600"><span>心情随笔</span><div class="inline-flex items-center select-none pointer-events-none "><i class="px-2 fas fa-chevron-left transition-all duration-200 "></i></div></div><div style="height:0px;will-change:height" class=" overflow-hidden duration-200 "><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/example">示例文章</a></div></div></div></div></div></div></div><div class="w-72 fixed left-0 bottom-0 z-20 bg-white"><footer class="z-20 py-2 bg:white dark:bg-hexo-black-gray justify-center text-center w-full text-sm relative"><hr class="pb-2"/><div class="flex justify-center"><div><i class="mx-1 animate-pulse fas fa-heart"></i> <a href="https://bothsavage.github.io/" class="underline font-bold text-gray-500 dark:text-gray-300 ">Both Savage</a>.<br/></div>© <!-- -->2024</div><div class="text-xs font-serif">Powered By <a href="https://github.com/tangly1024/NotionNext" class="underline text-gray-500 dark:text-gray-300">NotionNext</a></div><span class="hidden busuanzi_container_site_pv"><i class="fas fa-eye"></i><span class="px-1 busuanzi_value_site_pv"> </span>  </span><span class="pl-2 hidden busuanzi_container_site_uv"><i class="fas fa-users"></i> <span class="px-1 busuanzi_value_site_uv"> </span> </span><h1 class="pt-1">Both Savage</h1></footer></div></div><div id="center-wrapper" class="flex flex-col justify-between w-full relative z-10 pt-14 min-h-screen"><div id="container-inner" class="w-full px-7 max-w-3xl justify-center mx-auto"><div class="transition ease-in-out duration-700 transform order-first opacity-0 translate-y-16"><div id="container"><h1 class="text-3xl pt-12  dark:text-gray-300">万里长征-02-跟谁学</h1><section id="article-wrapper" class="px-1"><div id="notion-article" class="mx-auto overflow-hidden "><main class="notion light-mode notion-page notion-block-9a78ba0976ce4344bad5f6d60dc0680e"><div class="notion-viewport"></div><div class="notion-collection-page-properties"><div class="notion-collection-row"><div class="notion-collection-row-body"><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">type</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">status</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M10.889 5.5H3.11v1.556h7.778V5.5zm1.555-4.444h-.777V0H10.11v1.056H3.89V0H2.333v1.056h-.777c-.864 0-1.548.7-1.548 1.555L0 12.5c0 .856.692 1.5 1.556 1.5h10.888C13.3 14 14 13.356 14 12.5V2.611c0-.855-.7-1.555-1.556-1.555zm0 11.444H1.556V3.944h10.888V12.5zM8.556 8.611H3.11v1.556h5.445V8.61z"></path></svg><div class="notion-collection-column-title-body">date</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-date"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">slug</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">summary</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M4 3a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zM2 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2z"></path></svg><div class="notion-collection-column-title-body">tags</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-multi_select"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z"></path></svg><div class="notion-collection-column-title-body">category</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-select"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">icon</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text"></span></div></div><div class="notion-collection-row-property"><div class="notion-collection-column-title"><svg viewBox="0 0 14 14" class="notion-collection-column-title-icon"><path d="M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z"></path></svg><div class="notion-collection-column-title-body">password</div></div><div class="notion-collection-row-value"><span class="notion-property notion-property-text"></span></div></div></div></div></div><div class="notion-table-of-contents notion-gray notion-block-d3a0bda2a9664861aa0f7a641ec5b633"><a href="#a59214f9df564a939829367651e0dcb0" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">问题</span></a><a href="#80097f4c9b8648bd99362ec481b2c9ab" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">1.LeetCode662 二叉树最长直径</span></a><a href="#91b7ef81c28941fea8c95046d3f41923" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">2.LeetCode215 TOPK</span></a><a href="#ffa138763f064ee3ab91e5ce88d2b005" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">3.秒杀场景设计</span></a><a href="#c10c635e63084f80b0bc185f8a6c6096" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">GPT问答</span></a><a href="#0314958978ee44438f38ce653c7839e0" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">网上资料</span></a><a href="#c6eca5f6f31a474a8af5e9f2c1b09b79" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">总结</span></a><a href="#c6158c40db1044b08c86833a34f39b98" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">4.数据量并发度扩大十倍性能瓶颈</span></a><a href="#a4f29450cc0e4683a9dd1d0beddb1651" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">GPT问答</span></a><a href="#9abd68a0fd304736abc41349afa7f49e" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">总结</span></a><a href="#882a35800be940e682ac4bab27c43ba2" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">5.MQ保证不丢失kafka快重平衡</span></a><a href="#02309e5e08c34749858a8fa7c80d0dab" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">GPT问答</span></a><a href="#2e8129a2e97f4632a4fc12443036ef71" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">总结</span></a><a href="#c96bcf4d23f4499881ec80c85df71b91" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">6.SpringCloud</span></a><a href="#d85ef88a350b4e56b8a75e9f2f01cf4a" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">GPT问答</span></a><a href="#d8e91a74f393454185deb0d9994b8590" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">总结</span></a><a href="#065eeccdfa3d4cf5954f208414f1dd91" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">7.事务隔离级别MVCC三个日志文件</span></a><a href="#427d4469ee9449f49583fe087a99d192" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">GPT问答</span></a><a href="#9955cfbd48504ce7a7bdfc8299fd0619" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">总结</span></a><a href="#12d42d7085cd410da2a328ab6f8591ae" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">8.操作系统中的阻塞异步BIONIOAIO</span></a><a href="#471e2e8b290549ef8eec0c69adf417c2" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">GPT问答</span></a><a href="#93798a96651f4c538e4ffe95eb18029b" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">总结</span></a><a href="#9c2f64483dfd4228a8c048f5799b2cf4" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">9.Redis跟MySQL缓存一致性</span></a><a href="#55c4dd0a8dea4699ae95926bd9cab471" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">GPT问答</span></a><a href="#09b7a03242a44f07a749a178b90432c7" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">总结</span></a><a href="#a4a15b3a27154e448c7b8b6abbb59152" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">10.Dubbo底层理解</span></a><a href="#10d6f3e2726a4f7c8f2cd78b5a0bd9e3" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">GPT问答</span></a><a href="#a7455e626660482eba23e534b11c3008" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">总结</span></a><a href="#996704a5d3f24c148574d8078b218b30" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:24px">11.DDD的理解</span></a><a href="#7a9b4c3320e3458c9bb39b4210ede657" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">GPT问答</span></a><a href="#e9b2019d85bf4f22960339e9fb391ef3" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:48px">总结</span></a><a href="#0a7ed53b47d7436eabe8868de3d4ebbe" class="notion-table-of-contents-item"><span class="notion-table-of-contents-item-body" style="display:inline-block;margin-left:0">写到最后</span></a></div><div class="notion-callout notion-gray_background_co notion-block-1fe2c7b1d20044ebb5595a1f9ad1b765"><div class="notion-page-icon-inline notion-page-icon-span"><span class="notion-page-icon" role="img" aria-label="⚙">⚙</span></div><div class="notion-callout-text">以下内容基于GPT-4模型</div></div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-a59214f9df564a939829367651e0dcb0" data-id="a59214f9df564a939829367651e0dcb0"><span><div id="a59214f9df564a939829367651e0dcb0" class="notion-header-anchor"></div><a class="notion-hash-link" href="#a59214f9df564a939829367651e0dcb0" title="问题"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">问题</span></span></h2><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-80097f4c9b8648bd99362ec481b2c9ab" data-id="80097f4c9b8648bd99362ec481b2c9ab"><span><div id="80097f4c9b8648bd99362ec481b2c9ab" class="notion-header-anchor"></div><a class="notion-hash-link" href="#80097f4c9b8648bd99362ec481b2c9ab" title="1.LeetCode662 二叉树最长直径"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">1.LeetCode662 二叉树最长直径</span></span></h3><div class="notion-row"><a target="_blank" rel="noopener noreferrer" class="notion-bookmark notion-block-9fc5fcd63fb34c4cbce8af9b81641905" href="https://leetcode.cn/problems/maximum-width-of-binary-tree/"><div><div class="notion-bookmark-title">662. 二叉树最大宽度 - 力扣（LeetCode）</div><div class="notion-bookmark-description">662. 二叉树最大宽度 - 给你一棵二叉树的根节点 root ，返回树的 最大宽度 。  树的 最大宽度 是所有层中最大的 宽度 。  每一层的 宽度 被定义为该层最左和最右的非空节点（即，两个端点）之间的长度。将这个二叉树视作与满二叉树结构相同，两端点间会出现一些延伸到这一层的 null 节点，这些 null 节点也计入长度。  题目数据保证答案将会在  32 位 带符号整数范围内。     示例 1：  [https://assets.leetcode.com/uploads/2021/05/03/width1-tree.jpg]   输入：root = [1,3,2,5,3,null,9] 输出：4 解释：最大宽度出现在树的第 3 层，宽度为 4 (5,3,null,9) 。   示例 2：  [https://assets.leetcode.com/uploads/2022/03/14/maximum-width-of-binary-tree-v3.jpg]   输入：root = [1,3,2,5,null,null,9,6,null,7] 输出：7 解释：最大宽度出现在树的第 4 层，宽度为 7 (6,null,null,null,null,null,7) 。   示例 3：  [https://assets.leetcode.com/uploads/2021/05/03/width3-tree.jpg]   输入：root = [1,3,2,5] 输出：2 解释：最大宽度出现在树的第 2 层，宽度为 2 (3,2) 。      提示：   * 树中节点的数目范围是 [1, 3000]  * -100 &lt;= Node.val &lt;= 100</div><div class="notion-bookmark-link"><div class="notion-bookmark-link-icon"><img src="https://leetcode.cn/favicon.ico?t=9fc5fcd6-3fb3-4c4c-bce8-af9b81641905" alt="662. 二叉树最大宽度 - 力扣（LeetCode）" loading="lazy" decoding="async"/></div><div class="notion-bookmark-link-text">https://leetcode.cn/problems/maximum-width-of-binary-tree/</div></div></div><div class="notion-bookmark-image"><img style="object-fit:cover" src="https://static.leetcode-cn.com/cn-legacy-assets/images/LeetCode_Sharing.png?t=9fc5fcd6-3fb3-4c4c-bce8-af9b81641905" alt="662. 二叉树最大宽度 - 力扣（LeetCode）" loading="lazy" decoding="async"/></div></a></div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-91b7ef81c28941fea8c95046d3f41923" data-id="91b7ef81c28941fea8c95046d3f41923"><span><div id="91b7ef81c28941fea8c95046d3f41923" class="notion-header-anchor"></div><a class="notion-hash-link" href="#91b7ef81c28941fea8c95046d3f41923" title="2.LeetCode215 TOPK"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">2.LeetCode215 TOPK</span></span></h3><div class="notion-row"><a target="_blank" rel="noopener noreferrer" class="notion-bookmark notion-block-a4de193cc56c404fa23bc7aaee0940d2" href="https://leetcode.cn/problems/kth-largest-element-in-an-array/description/"><div><div class="notion-bookmark-title">215. 数组中的第K个最大元素 - 力扣（LeetCode）</div><div class="notion-bookmark-description">215. 数组中的第K个最大元素 - 给定整数数组 nums 和整数 k，请返回数组中第 k 个最大的元素。  请注意，你需要找的是数组排序后的第 k 个最大的元素，而不是第 k 个不同的元素。  你必须设计并实现时间复杂度为 O(n) 的算法解决此问题。     示例 1:   输入: [3,2,1,5,6,4], k = 2 输出: 5   示例 2:   输入: [3,2,3,1,2,4,5,5,6], k = 4 输出: 4     提示：   * 1 &lt;= k &lt;= nums.length &lt;= 105  * -104 &lt;= nums[i] &lt;= 104</div><div class="notion-bookmark-link"><div class="notion-bookmark-link-icon"><img src="https://leetcode.cn/favicon.ico?t=a4de193c-c56c-404f-a23b-c7aaee0940d2" alt="215. 数组中的第K个最大元素 - 力扣（LeetCode）" loading="lazy" decoding="async"/></div><div class="notion-bookmark-link-text">https://leetcode.cn/problems/kth-largest-element-in-an-array/description/</div></div></div><div class="notion-bookmark-image"><img style="object-fit:cover" src="https://static.leetcode-cn.com/cn-legacy-assets/images/LeetCode_Sharing.png?t=a4de193c-c56c-404f-a23b-c7aaee0940d2" alt="215. 数组中的第K个最大元素 - 力扣（LeetCode）" loading="lazy" decoding="async"/></div></a></div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-ffa138763f064ee3ab91e5ce88d2b005" data-id="ffa138763f064ee3ab91e5ce88d2b005"><span><div id="ffa138763f064ee3ab91e5ce88d2b005" class="notion-header-anchor"></div><a class="notion-hash-link" href="#ffa138763f064ee3ab91e5ce88d2b005" title="3.秒杀场景设计"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">3.秒杀场景设计</span></span></h3><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-c10c635e63084f80b0bc185f8a6c6096" data-id="c10c635e63084f80b0bc185f8a6c6096"><span><div id="c10c635e63084f80b0bc185f8a6c6096" class="notion-header-anchor"></div><a class="notion-hash-link" href="#c10c635e63084f80b0bc185f8a6c6096" title="GPT问答"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">GPT问答</span></span></h4><blockquote class="notion-quote notion-block-6a7d5026414041ce9e627eeaf2f484a1"><div>Spring cloud项目现在要做一个秒杀场景的需求，给我从app端到服务端设计一套可用的方案</div></blockquote><div class="notion-text notion-block-542ba936d63243cba93b9658bddd7720">在设计一个秒杀系统的时候，需要考虑以下几个关键因素：高并发、系统可用性和数据一致性。</div><div class="notion-text notion-block-93ac5e04d2794854949f3ff531979b16">下面是一个基于Spring Cloud的秒杀系统的设计方案：</div><ol start="1" class="notion-list notion-list-numbered notion-block-2777df4b687f4398ab664aa9f854f5f0"><li><b>前端（App端）：</b></li><ol class="notion-list notion-list-numbered notion-block-2777df4b687f4398ab664aa9f854f5f0"><div class="notion-text notion-block-98d80c1eedbc485e821221db16d5bc70">使用<b>请求缓冲和请求限流策略，例如令牌桶算法</b>，防止大量请求同时涌向服务端造成服务崩溃。同时可以考虑使用CDN和浏览器缓存技术降低服务器负载。</div></ol></ol><ol start="2" class="notion-list notion-list-numbered notion-block-c48329527105470c9f442e3780516402"><li><b>后端（服务端）：</b></li><ol class="notion-list notion-list-numbered notion-block-c48329527105470c9f442e3780516402"><div class="notion-text notion-block-48e8ef1322014c91bc1be7f22e4daa15">服务端设计需要多层缓冲和优化：</div><ul class="notion-list notion-list-disc notion-block-f9f8ae47ae994940a02536a86a644c0b"><li><b>Nginx负载均衡：</b> Nginx可以实现反向代理和负载均衡，将流量合理分配到各个服务节点。</li></ul><ul class="notion-list notion-list-disc notion-block-be79e573cc3640d9a5d8f07e3fc87d89"><li><b>Spring Cloud Gateway：</b> 使用Spring Cloud Gateway进行路由转发和请求过滤。</li></ul><ul class="notion-list notion-list-disc notion-block-102883f2de79470f8f4cd4f49b76ade9"><li><b>分布式Session：</b> 可以使用Spring Session将Session存储在Redis中，实现分布式Session。</li></ul><ul class="notion-list notion-list-disc notion-block-e6520c9faea24a4da21201a66ce73df7"><li><b>分布式锁：</b> 在秒杀核心业务处理时，为了防止超卖，需要使用分布式锁。可以使用Redisson实现基于Redis的分布式锁。</li></ul><ul class="notion-list notion-list-disc notion-block-357c774dd2324d358fb5c0c08ec45a46"><li><b>消息队列：</b> 将创建订单的请求进行异步处理，提高系统处理能力。可以使用RabbitMQ或Kafka。</li></ul><ul class="notion-list notion-list-disc notion-block-d3c519972ea045e69ba9266590ea8734"><li><b>数据库：</b> 为了防止数据库的读写压力过大，可以使用读写分离的策略。在写方面，可以使用数据库的乐观锁防止超卖。在读方面，可以将商品的库存数量提前预热到Redis中，请求直接从Redis读取数据。</li></ul></ol></ol><div class="notion-text notion-block-e4b5d6a3a30f40a9885ab06e970843b0">具体的秒杀流程可以设计如下：</div><ol start="1" class="notion-list notion-list-numbered notion-block-623c0c4bf1a04c198685adc89f79cf27"><li>用户发起秒杀请求，请求首先经过Nginx，由Nginx做负载均衡将请求转发到Spring Cloud Gateway。</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-8ef4c41beb08448e8bb237576638a1dd"><li>Spring Cloud Gateway根据路由规则将请求转发到具体的服务。</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-072908f592ea498fad75e4f8f8d4d53b"><li>服务收到请求后，首先从Redis中获取用户的Session信息，然后从Redis中获取商品的库存信息。</li></ol><ol start="4" class="notion-list notion-list-numbered notion-block-d56ba84dfee945d5bd85dbf9a580507d"><li>如果库存充足，服务先使用Redisson获取分布式锁，然后在Redis中减少商品的库存数量。</li></ol><ol start="5" class="notion-list notion-list-numbered notion-block-ca3dd93e3b1c4add9e7498895ac7b590"><li>减库存成功后，服务将创建订单的请求通过消息队列异步发送到订单服务。</li></ol><ol start="6" class="notion-list notion-list-numbered notion-block-14a0ed649e71453ea5e388ee50d80844"><li>订单服务收到消息后，使用数据库的乐观锁机制创建订单。</li></ol><ol start="7" class="notion-list notion-list-numbered notion-block-34a467a4e5f74c1294bd3a8dc72427b6"><li>订单创建成功后，返回秒杀成功的消息给用户。</li></ol><div class="notion-text notion-block-0a0bc9672b18476a8b4bf3c351472312">这只是一个大概的框架，具体的实现需要根据实际的业务需求进行调整。</div><hr class="notion-hr notion-block-1399199261fe45219176e979630aec82"/><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-0314958978ee44438f38ce653c7839e0" data-id="0314958978ee44438f38ce653c7839e0"><span><div id="0314958978ee44438f38ce653c7839e0" class="notion-header-anchor"></div><a class="notion-hash-link" href="#0314958978ee44438f38ce653c7839e0" title="网上资料"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">网上资料</span></span></h4><div class="notion-text notion-block-700878a6c65e410d9f44c75de19ae942">建议直接看极海方案,埋个坑输出一个博客
<a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://bothsavage.github.io/article/240415-secondkill">https://bothsavage.github.io/article/240415-secondkill</a></div><div class="notion-row"><a target="_blank" rel="noopener noreferrer" class="notion-bookmark notion-block-47609369812548358505dc170a251161" href="https://www.bilibili.com/video/BV1g34y1h71Y/"><div><div class="notion-bookmark-title">【高级请进】核心业务挑战与方案落地！技术与业务如何权衡！P7级项目如何阐述！_哔哩哔哩_bilibili</div><div class="notion-bookmark-description">【高级请进】核心业务挑战与方案落地！技术与业务如何权衡！P7级项目如何阐述！, 视频播放量 47665、弹幕量 89、点赞数 1805、投硬币枚数 1495、收藏人数 2381、转发人数 436, 视频作者 极海Channel, 作者简介 互联网从业者/前阿里巴巴工程师/独立开发，提供付费面试与咨询，通道https://jihaichannel.github.io，相关视频：分享几个冷门高级亮点！让面试官刮目相看！专家级重要标准揭秘！，项目没什么亮点，我来教你怎么说好吧？，并发编程有多难，值得反复研究的的两个案例！，【Java前沿】帮公司省钱！为什么关注Quarkus！唯一能与SpringBoot抗衡的云原生技术？，【社区分享】程序员宝藏推荐！提升天花板！覆盖学生到架构师！，【个人成长】我不是一个好学生！也不爱看书！但我四年成专家！，高并发最大挑战之一，你真理解缓存一致性吗，一定要设过期时间！，精挑细选3个方案！如何挖掘并阐述项目挑战！频道核心价值！，【Java高级】如何写出优雅可靠事务代码？基于Spring事务扩展，【Java高级】线上GC问题，技术专家如何分析，与面试很不一样</div><div class="notion-bookmark-link"><div class="notion-bookmark-link-icon"><img src="https://i2.hdslb.com/bfs/archive/77dea7d9f467b91ec79dac046439ee0e082930b1.jpg@100w_100h_1c.png@57w_57h_1c.png?t=47609369-8125-4835-8505-dc170a251161" alt="【高级请进】核心业务挑战与方案落地！技术与业务如何权衡！P7级项目如何阐述！_哔哩哔哩_bilibili" loading="lazy" decoding="async"/></div><div class="notion-bookmark-link-text">https://www.bilibili.com/video/BV1g34y1h71Y/</div></div></div><div class="notion-bookmark-image"><img style="object-fit:cover" src="https://i2.hdslb.com/bfs/archive/77dea7d9f467b91ec79dac046439ee0e082930b1.jpg@100w_100h_1c.png?t=47609369-8125-4835-8505-dc170a251161" alt="【高级请进】核心业务挑战与方案落地！技术与业务如何权衡！P7级项目如何阐述！_哔哩哔哩_bilibili" loading="lazy" decoding="async"/></div></a></div><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-c6eca5f6f31a474a8af5e9f2c1b09b79" data-id="c6eca5f6f31a474a8af5e9f2c1b09b79"><span><div id="c6eca5f6f31a474a8af5e9f2c1b09b79" class="notion-header-anchor"></div><a class="notion-hash-link" href="#c6eca5f6f31a474a8af5e9f2c1b09b79" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h4><ul class="notion-list notion-list-disc notion-block-c3d411d70afd41639501a5186dacfa8e"><li>gpt又给我玩假大空</li></ul><ul class="notion-list notion-list-disc notion-block-0c1e5e8332224954931e211075399baa"><li>AC在高并发的保证,又要可用,又要一致，当然我们追求最终一致</li></ul><ul class="notion-list notion-list-disc notion-block-fabd9d7b73634feea111e1ca5e594376"><li>相同实例支撑的接口能缓存就要缓存</li></ul><ul class="notion-list notion-list-disc notion-block-a8b8fa3be0534db3a9926a02789309c6"><li>分布式锁嘛，这个都说烂了</li></ul><ul class="notion-list notion-list-disc notion-block-24baaf3bf01a47f791ff1e4c313b7747"><li>app也要做限流，在app做令牌桶限流确实是一个很好的方案，也可以当作成一个通用方案，还能防止app的死循环请求bug</li></ul><ul class="notion-list notion-list-disc notion-block-87d1230720cf4cd983229a8c1043995d"><li>详细说明等我再把极海的视频梳理为文章</li></ul><hr class="notion-hr notion-block-5dda5b60fe5c465b9b7aa751b148d419"/><div class="notion-blank notion-block-debfe1b5a58f4200a93bcfd04564f8a8"> </div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-c6158c40db1044b08c86833a34f39b98" data-id="c6158c40db1044b08c86833a34f39b98"><span><div id="c6158c40db1044b08c86833a34f39b98" class="notion-header-anchor"></div><a class="notion-hash-link" href="#c6158c40db1044b08c86833a34f39b98" title="4.数据量并发度扩大十倍性能瓶颈"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">4.数据量并发度扩大十倍性能瓶颈</span></span></h3><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-a4f29450cc0e4683a9dd1d0beddb1651" data-id="a4f29450cc0e4683a9dd1d0beddb1651"><span><div id="a4f29450cc0e4683a9dd1d0beddb1651" class="notion-header-anchor"></div><a class="notion-hash-link" href="#a4f29450cc0e4683a9dd1d0beddb1651" title="GPT问答"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">GPT问答</span></span></h4><blockquote class="notion-quote notion-block-7725823991bd434ba538dc492bfb5f5f"><div>我的Spring cloud + mysql + redis项目，目前用户激增，访问量和数据量都扩大了100倍，你认为我的系统瓶颈在哪，怎么解决</div></blockquote><div class="notion-text notion-block-0e137ff7c4d74152afc8f79bf48d6c55">在你的情况下，可能会遇到以下瓶颈：</div><ol start="1" class="notion-list notion-list-numbered notion-block-42236ad14887402ba30f80fdfcbd9feb"><li><b>硬件资源限制</b>：例如，服务器 CPU、内存、I/O 等，可能会在高并发的情况下，成为瓶颈。</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-2749b6799cbf4fff9a2498742cf87751"><li><b>数据库瓶颈</b>：当访问量和数据量增加时，数据库可能会变得过于繁忙，导致系统性能下降。这可能是由于查询效率低下、索引不合理、表设计不合理等原因造成的。</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-1018b6046a354dd9848ef8e397053df7"><li><b>Redis 瓶颈</b>：Redis 是单线程的，因此在高并发场景下，可能会成为性能瓶颈。</li></ol><ol start="4" class="notion-list notion-list-numbered notion-block-3f27258a689f4efab1e35be0d2d027c5"><li><b>网络瓶颈</b>：如果网络带宽不足，或者网络延迟太高，也可能会成为瓶颈。</li></ol><div class="notion-text notion-block-14445b43cad14e578026294d44925746">以下是可能的解决方案：</div><ol start="1" class="notion-list notion-list-numbered notion-block-3448777654974545a04653007c910bf3"><li><b>优化硬件资源</b>：根据系统的需求增加硬件资源，例如增加服务器的 CPU、内存等。</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-241102698bb44ddab976e4dc27f8d49a"><li><b>数据库优化</b>：</li><ol class="notion-list notion-list-numbered notion-block-241102698bb44ddab976e4dc27f8d49a"><ul class="notion-list notion-list-disc notion-block-615cdd8467ee4bb8972c4ef64d8d039f"><li><b>索引优化</b>：检查查询是否都有合适的索引支持，没有的话，添加相应索引。</li></ul><ul class="notion-list notion-list-disc notion-block-5a4d387f3fdd4f6d8b53574f3a1f8c51"><li><b>查询优化</b>：避免全表扫描，尽可能减少 JOIN 操作，避免使用 NOT IN 和 &lt;&gt; 操作符等。</li></ul><ul class="notion-list notion-list-disc notion-block-91bf04bd59894363ab9241eaf888627d"><li><b>分库分表</b>：当单表数据量过大时，可以考虑分库分表，以减少单个数据库的负载。</li></ul><ul class="notion-list notion-list-disc notion-block-7be3caea06814a498b23de7199f94916"><li><b>读写分离</b>：将读和写的操作分开，可以有效减轻数据库的压力。</li></ul><ul class="notion-list notion-list-disc notion-block-e538f30780df464bb50c2b72a7691e6b"><li><b>使用数据库中间件</b>：例如 MyCAT、Sharding-Sphere 等。</li></ul></ol></ol><ol start="3" class="notion-list notion-list-numbered notion-block-d4a92abfb6a5489d9d0a956d6970a7e2"><li><b>优化 Redis</b>：</li><ol class="notion-list notion-list-numbered notion-block-d4a92abfb6a5489d9d0a956d6970a7e2"><ul class="notion-list notion-list-disc notion-block-c097bb9dbaed4cf38de792d84f7e2977"><li><b>使用 Redis 集群</b>：通过分片将数据存储在多个 Redis 实例中，可以提高系统的并发处理能力。</li></ul><ul class="notion-list notion-list-disc notion-block-a9110726548b4a0e9db8cd5a9e81161a"><li><b>优化 Redis 配置</b>：根据实际需求，优化 Redis 的配置参数。</li></ul></ol></ol><ol start="4" class="notion-list notion-list-numbered notion-block-08e46138d8324303908228b70f64d913"><li><b>服务的弹性扩展</b>：</li><ol class="notion-list notion-list-numbered notion-block-08e46138d8324303908228b70f64d913"><ul class="notion-list notion-list-disc notion-block-db36d16ebf9f4467a7b0b4377900a771"><li><b>使用 Spring Cloud 的微服务架构</b>：可以根据需求，动态地增加或减少服务实例。</li></ul><ul class="notion-list notion-list-disc notion-block-72beaad5365b46cfa41675785b13d228"><li><b>使用负载均衡</b>：将请求均匀地分摊到多个服务器上，降低了每个服务器的负载。</li></ul></ol></ol><ol start="5" class="notion-list notion-list-numbered notion-block-6a5e682ce3c14681bf82f5c8c8565c91"><li><b>使用 CDN 和缓存</b>：使用 CDN 可以减少服务器的流量压力，使用缓存可以减少数据库的访问压力。</li></ol><ol start="6" class="notion-list notion-list-numbered notion-block-688f0bf3568f45ee81b9403c14ea17ba"><li><b>网络优化</b>：提高网络带宽，优化网络结构，减少网络延迟。</li></ol><div class="notion-text notion-block-0d46b99a3763424e88947a799fd6dfe2">每个系统的瓶颈可能都不同，所以需要结合实际情况，定位并解决瓶颈。</div><hr class="notion-hr notion-block-f048549e6ce940c084cb9538806d956b"/><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-9abd68a0fd304736abc41349afa7f49e" data-id="9abd68a0fd304736abc41349afa7f49e"><span><div id="9abd68a0fd304736abc41349afa7f49e" class="notion-header-anchor"></div><a class="notion-hash-link" href="#9abd68a0fd304736abc41349afa7f49e" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h4><ul class="notion-list notion-list-disc notion-block-1b5bb1c97d5640619785917f8158fee0"><li>差不多但是说的比较宽泛</li></ul><ul class="notion-list notion-list-disc notion-block-b9ddd0d91790416392dad7f12dea2f9e"><li>就是RT要继续维持不要增高,分析热点请求加缓存等</li></ul><ul class="notion-list notion-list-disc notion-block-aa46f8d326f3432d85d0b8ae393dc9cc"><li>还有就是要减少io，其中mysql的优化是io减少的重要方式</li></ul><ul class="notion-list notion-list-disc notion-block-91b70bf0b5e84a2084a9f55fe4f4a4d9"><li>还要要追寻一致性问题,许多代码在写的时候没有考虑到高并发，该优化的优化，像支付订单等追求一致性的地方要提高RT的同时去追求最终一致性</li></ul><div class="notion-blank notion-block-98976d60507e41eb9a7a7b596ddc3321"> </div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-882a35800be940e682ac4bab27c43ba2" data-id="882a35800be940e682ac4bab27c43ba2"><span><div id="882a35800be940e682ac4bab27c43ba2" class="notion-header-anchor"></div><a class="notion-hash-link" href="#882a35800be940e682ac4bab27c43ba2" title="5.MQ保证不丢失kafka快重平衡"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">5.MQ保证不丢失kafka快重平衡</span></span></h3><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-02309e5e08c34749858a8fa7c80d0dab" data-id="02309e5e08c34749858a8fa7c80d0dab"><span><div id="02309e5e08c34749858a8fa7c80d0dab" class="notion-header-anchor"></div><a class="notion-hash-link" href="#02309e5e08c34749858a8fa7c80d0dab" title="GPT问答"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">GPT问答</span></span></h4><blockquote class="notion-quote notion-block-f804b57a103a4a968a5c6fccdcf2a9c7"><div>rabbitmq是如何保证消息不丢失的，他的持久化策略是啥</div></blockquote><div class="notion-text notion-block-c32aa622f15e44a597f85df99fca48e2">RabbitMQ 提供了多种保证消息不会丢失的机制，包括消息持久化，队列持久化，消息确认等。</div><ol start="1" class="notion-list notion-list-numbered notion-block-4af9a0ccecec4fb6aa3d690ee6d06b51"><li><b>消息持久化</b>：消息持久化可以通过设置 <code class="notion-inline-code">delivery_mode=2</code> 来实现，当消息被持久化后，即使 RabbitMQ 服务重启，消息也不会丢失，因为他们被存储在磁盘上。但是，这并不能完全保证消息的持久性。因为，当你发布一个消息并且 RabbitMQ 返回一个确认，这个消息可能还没被保存到磁盘。RabbitMQ 可能只是将消息保存在缓存中，并没有真正的写入磁盘。</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-8746133626b4405ab379e2b02fe6d221"><li><b>队列持久化</b>：要持久化队列，你需要在声明队列的时候，将 <code class="notion-inline-code">durable</code> 参数设置为 <code class="notion-inline-code">true</code>。这样，即使 RabbitMQ 服务重启，队列的定义也不会丢失。</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-9da2714faa6c4b74b1f79614c5ff4b09"><li><b>消息确认</b>：RabbitMQ 提供了消息确认的机制，包括发布确认和消费确认。当消息被成功发布到一个队列，或者被一个消费者成功消费，RabbitMQ 会返回一个确认给发布者或者消费者。</li></ol><ol start="4" class="notion-list notion-list-numbered notion-block-9058d545c4c944029a3b576d58ce4130"><li><b>镜像队列</b>：RabbitMQ 还提供了镜像队列的功能，可以将队列的所有内容都复制到其他节点，如果一个节点挂掉，消息依然可以从其他节点获取。</li></ol><div class="notion-text notion-block-b7302dfd028040eb865ddc48f6f0e269">以上都是 RabbitMQ 保证消息不丢失的方式，但是需要注意的是，开启持久化、消息确认等功能都会增加 RabbitMQ 服务的负载，可能会影响到 RabbitMQ 服务的性能。因此，需要根据实际业务情况进行权衡。</div><hr class="notion-hr notion-block-502bf2e09d354d47b565ae4a9d69e944"/><div class="notion-blank notion-block-b39e616690a9446580737be3606c9e46"> </div><blockquote class="notion-quote notion-block-434354ac7b654abe8354504ada01c2b1"><div>给我一个java代码例子，并且如果confirm不及时要及时重发</div></blockquote><div class="notion-text notion-block-62a9d1b511254ebaba1c4135e18c4a83">以下是一个简单的使用 RabbitMQ Confirm 机制的 Java 代码示例。在这个示例中，我们创建了一个生产者，发送消息到 RabbitMQ 服务器。如果消息没有被 RabbitMQ 服务器确认，我们会尝试重新发送。</div><div class="notion-text notion-block-00e21033e31a4bb1a10b988ccb3b641f">注意：这个例子使用了 <code class="notion-inline-code">waitForConfirms()</code> 方法来等待 RabbitMQ 服务器的确认，如果没有收到确认，我们会尝试重新发送消息。这是一个简单的示例，实际应用中可能需要考虑更多的因素，例如：消息的重试次数、错误处理等。</div><hr class="notion-hr notion-block-2d672bd7599d48ff8364fcb792ca9db2"/><div class="notion-blank notion-block-1f4bc2deb7ce4e10acc9d7fac4c96fb6"> </div><blockquote class="notion-quote notion-block-e2322e43e96347eeb2e463eff6cd8909"><div>kafka怎么保证消息不丢失的，他为什么快呢，kafka重平衡是啥</div></blockquote><div class="notion-text notion-block-9e1f4135c2584d50a41a8628fafa06ff">Kafka也提供了一些机制来保证消息不会丢失：</div><ol start="1" class="notion-list notion-list-numbered notion-block-b6b71e0927aa4152ad9ebfc53538962f"><li><b>副本机制</b>：Kafka的每条消息都会在多个副本上进行存储，这样即使其中某个副本发生故障，也能从其他副本中读取到数据，保证数据的可靠性。</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-1456be545b0f4d749e6dbc9588dff4e2"><li><b>持久化</b>：Kafka的消息会被写入硬盘，保证了即使在Kafka服务器宕机的情况下，数据也不会丢失。</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-9455e271ba3a4c7b90082f8a846a7876"><li><b>消息确认机制</b>：Kafka提供了消息确认机制，当消息被成功写入副本后，生产者会收到一个ACK确认，这样可以确保消息已经成功提交。</li></ol><div class="notion-text notion-block-7d9a12534ca8471fb8302f32456ff5c5">Kafka为什么快呢？</div><ol start="1" class="notion-list notion-list-numbered notion-block-f4299ad8b56040e9becd583ee22a163a"><li><b>零拷贝技术</b>：Kafka使用了零拷贝技术，可以减少系统调用的次数，大大提高了数据读写的效率。</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-6d611ac6781744c4872f91939752f346"><li><b>批处理</b>：Kafka可以将多条消息打包在一起进行处理，这样可以减少网络请求的次数，提高了处理效率。</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-861ddcc1518c40dd9aec4b1653dd9b2f"><li><b>顺序读写</b>：Kafka的消息是顺序写入的，而且大部分读操作也是顺序的，这样在磁盘进行IO操作时，可以大大提高效率。</li></ol><div class="notion-text notion-block-4fe06e0a988f45eb8ae67d74bb4c6f48">Kafka的重平衡是什么？</div><div class="notion-text notion-block-f9a28f5b20ee45b1bbeb882f1d18598a">重平衡（Rebalance）是Kafka的一种机制，它可以在消费者的数量发生变化时（例如新消费者加入，或者旧消费者退出），动态地将Topic的Partition分配给消费者，保证系统的负载均衡。这是Kafka保证高可用和负载均衡的</div><hr class="notion-hr notion-block-1d2e562ee2ff422fa5dd1d3f9d6e372b"/><div class="notion-blank notion-block-3544d2b5f23e4f41a2bc4be91c31ab61"> </div><blockquote class="notion-quote notion-block-adf42e64ea164c328bbccfe3428a10c2"><div>那么意味着kafka是cp的，假如集群有5个节点，我们打开confirm机制，即A消息在send的时候必须要有3个以上的节点落库才能cofirm是吧。如果是这样的给我用java代码写出他的底层实现，并且把rebalance的底层实现用java代码给我</div></blockquote><div class="notion-text notion-block-7a0fc2f469a5466abb84d67440dab4c5">首先，Kafka 是 AP 的，不是 CP 的。Kafka 的设计目标是高吞吐量和数据持久化，而不是强一致性。</div><div class="notion-text notion-block-87f05ca5494a4d3089674cdea837b9c6">其次，Kafka 的确认机制有三种级别：</div><ul class="notion-list notion-list-disc notion-block-dca20905e5ed4fd0bc94bad04a521c54"><li><code class="notion-inline-code">acks=0</code>：生产者不等待来自 broker 的确认。</li></ul><ul class="notion-list notion-list-disc notion-block-079003e730034205bb7047ee6de6c3a9"><li><code class="notion-inline-code">acks=1</code>：只等待 leader 的确认，不等待 follower 的确认。如果 leader 在确认后立即崩溃，消息将会丢失。</li></ul><ul class="notion-list notion-list-disc notion-block-a5117771720a45c3bce21ea60bfaadaf"><li><code class="notion-inline-code">acks=all</code>：等待所有的副本都确认。只要有一个副本存活，消息就不会丢失。</li></ul><div class="notion-text notion-block-f7ac0b7c4e024d279211fe35d2c7af0a">对于你说的“至少有 3 个节点确认”，你可能是指将 Kafka 的 <code class="notion-inline-code">min.insync.replicas</code> 配置项设置为 3，这样，一个消息至少需要被 3 个副本确认才会被认为是已提交，进而生产者才会收到 ack。</div><div class="notion-text notion-block-85b6dc8b22e0450abfd1101302f4d1a4">下面是一个使用 Kafka 生产者的 Java 代码示例：</div><div class="notion-text notion-block-75f6c68500094133b82b1b4f09052f42">至于 Kafka 的 Rebalance 机制，这是由 Kafka 的消费者组协调器（Group Coordinator）和消费者组成员（Group Member）共同完成的一个过程，涉及到的逻辑比较复杂，涉及到 Kafka 的消费者 API、协调器、网络协议等多个方面，很难用一个简单的 Java 代码示例来展示。在使用 Kafka 消费者 API 的时候，Rebalance 是自动进行的，你不需要自己去实现这个过程。如果你想要了解更多关于 Rebalance 的底层实现，我建议你阅读 Kafka 的源代码和相关文档。</div><hr class="notion-hr notion-block-6383b86363cd447d92e65b4a93aa078c"/><div class="notion-blank notion-block-c4247cc40a6941d1af74e76ed7389b1b"> </div><blockquote class="notion-quote notion-block-3919e1a24dc640bba6185bae4f8619b8"><div>acks=all就表示cp，acks=0就表示ap是吧。还有零拷贝技术是啥，为什么说kafka的消息为顺序读写，rabbitmq不是顺序读写吗，他为啥不设计为顺序读写</div></blockquote><div class="notion-text notion-block-3017d86daf6e491d911d05897b109865">首先，关于 CAP 理论，它描述的是一个分布式系统在面对分区容忍性（P）、一致性（C）和可用性（A）这三种特性时，最多只能满足其中的两项。Kafka 的 <code class="notion-inline-code">acks</code> 参数的设置并不能直接决定 Kafka 是 CP 还是 AP。事实上，Kafka 的设计更偏向于 AP，因为 Kafka 允许在一定程度上牺牲一致性（例如，当部分副本失效时，仍然允许读写）。</div><div class="notion-text notion-block-a0870cce24874359a5bc1e24e23497b7">零拷贝技术是指在进行数据传输时，不通过 CPU，直接从内存或者磁盘读取数据并发送到网络，或者从网络接收数据并写入内存或者磁盘，从而提高数据传输的效率，并减少 CPU 的使用。</div><div class="notion-text notion-block-fd0ebc6de5bc4f9fbeea4eeea24b199c">Kafka 的消息是顺序读写的，这是因为 Kafka 的数据结构是日志（Log），每条消息都被追加到日志的尾部，消费者按顺序从日志中读取数据，这样可以充分利用磁盘的顺序读写特性，提高数据读写的效率。</div><div class="notion-text notion-block-81b9517576c1417c8c94007a9208277d">至于 RabbitMQ，它是一个基于 AMQP 协议的消息队列，其设计目标主要是实现可靠的消息传输和路由，而不是高吞吐量。RabbitMQ 的消息并非总是顺序读写的，例如，在处理消息确认、消息路由等操作时，可能需要进行随机访问。此外，RabbitMQ 中的消息可以被多个消费者并发消费，这也使得消息的读取并非总是顺序的。</div><hr class="notion-hr notion-block-61a67d4b1bc340568904d05f0eef3c66"/><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-2e8129a2e97f4632a4fc12443036ef71" data-id="2e8129a2e97f4632a4fc12443036ef71"><span><div id="2e8129a2e97f4632a4fc12443036ef71" class="notion-header-anchor"></div><a class="notion-hash-link" href="#2e8129a2e97f4632a4fc12443036ef71" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h4><ul class="notion-list notion-list-disc notion-block-7a77d366db8641b5a144dc34cf4e6a83"><li>零拷贝技术指的是CPU占用为0</li></ul><ul class="notion-list notion-list-disc notion-block-7fac64715ec14e67838730e92c6fc053"><li>rebalance就是自动负载均衡嘛</li></ul><ul class="notion-list notion-list-disc notion-block-e38bf5743b9c4aaba1879f0257962b65"><li>kafka可以指定ack服务器的数目来动态调节可用性和一致性</li></ul><ul class="notion-list notion-list-disc notion-block-6b25396e283d4038a9569ae71b8ebf82"><li>还有就是kafka的数据结构是顺序存储,为了满足rabbitMQ的高级特性没有办法设计顺序存储的数据结构</li></ul><div class="notion-blank notion-block-1945ff1bf605450a83c0ac0a3b286184"> </div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-c96bcf4d23f4499881ec80c85df71b91" data-id="c96bcf4d23f4499881ec80c85df71b91"><span><div id="c96bcf4d23f4499881ec80c85df71b91" class="notion-header-anchor"></div><a class="notion-hash-link" href="#c96bcf4d23f4499881ec80c85df71b91" title="6.SpringCloud"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">6.SpringCloud</span></span></h3><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-d85ef88a350b4e56b8a75e9f2f01cf4a" data-id="d85ef88a350b4e56b8a75e9f2f01cf4a"><span><div id="d85ef88a350b4e56b8a75e9f2f01cf4a" class="notion-header-anchor"></div><a class="notion-hash-link" href="#d85ef88a350b4e56b8a75e9f2f01cf4a" title="GPT问答"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">GPT问答</span></span></h4><blockquote class="notion-quote notion-block-962cb662c38b4438b3a4df15d28b90f6"><div>我用的是SpringCloudAlibaba这一套，给我详细介绍下gateway,seata,openfeign,nacos,sentinel等组件</div></blockquote><div class="notion-text notion-block-f32fa49e4cf843dea1a37f22588a18bb">Spring Cloud Alibaba是Spring Cloud与阿里巴巴中间件团队的深度合作的一个项目，主要是将阿里巴巴微服务解决方案与Spring Cloud技术体系无缝集成。这一套技术栈包括了Nacos、Sentinel、Seata、RocketMQ、Dubbo、SkyWalking等组件。</div><ol start="1" class="notion-list notion-list-numbered notion-block-0a3a50674a7c404482d9fa8cd828e3d4"><li><b>Gateway</b>
Spring Cloud Gateway是Spring Cloud官方推出的二代网关框架，目的在于替代Zuul。它是基于Netty服务器的异步非阻塞模型开发的，因此在性能上相较Zuul有很大的提升。Gateway提供了路由转发、过滤器、限流、熔断等网关基本特性。</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-481662591d2f4ce3927c33061da94f03"><li><b>Seata</b>
Seata（Simple Extensible Autonomous Transaction Architecture）是一种简单、易扩展、自治的事务解决方案。Seata 是阿里巴巴开源的一款分布式事务解决方案，提供高性能和简单易用的分布式事务服务。</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-bd849e8bff5b493d98b0e3a5a9bd6a8e"><li><b>OpenFeign</b>
Spring Cloud OpenFeign是一种声明式的WebService客户端。使用Feign能使编写HTTP客户端变得更加简单。它的一个优点是通过注解可以自动化地创建HTTP请求。</li></ol><ol start="4" class="notion-list notion-list-numbered notion-block-13171ab93e394a7a85c208d10e92698f"><li><b>Nacos</b>
Nacos（Dynamic Naming and Configuration Service）是阿里巴巴开源的一款更易于构建云原生应用的动态服务发现、配置管理和服务管理平台。Nacos能够帮助您发现、配置和管理微服务。Nacos 提供了一套简单易用的特性集，帮助您快速实现动态服务发现、服务配置、服务元数据和流量管理。</li></ol><ol start="5" class="notion-list notion-list-numbered notion-block-9cc800e8289c472dac58022feda832c7"><li><b>Sentinel</b>
Sentinel 是阿里巴巴开源的一款流量控制组件，主要用于防止服务雪崩和服务保护。它含有流量控制、熔断降级、系统负载保护等多种控制手段，可以在系统压力过大的情况下进行自动的保护和降级。</li></ol><div class="notion-text notion-block-47e82160ecbc46bcac91f39f0cff236b">以上就是这些组件的基本介绍，他们在微服务架构中都扮演了非常重要的角色，帮助开发者更好地构建和维护复杂的微服务系统。</div><hr class="notion-hr notion-block-ed9d4efb59bf4e29a0feeafef875dd2b"/><div class="notion-blank notion-block-d7bd43eed8e843cb8a74983a002c2342"> </div><blockquote class="notion-quote notion-block-b91fd63b5e0f4e829e21b30d2e189152"><div>geteway是在网关入口层面做的限流熔断，sentinel是在服务调用方面做的限流熔断吗。我在feign里面写的降级策略是配合熔断用的是不是。还有熔断的意义在哪里，服务都挂了，都出生产事故了</div></blockquote><ol start="1" class="notion-list notion-list-numbered notion-block-43a2f8e0163543be97be05f8806b6735"><li><b>Gateway和Sentinel在限流熔断中的角色</b>：
Gateway 主要在调用链的入口处进行限流熔断，主要用于流量整形和保护下游服务。而 Sentinel 则可用于微服务内部的每一次服务调用，包括服务间的调用以及与外部系统的交互。</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-b733b4d665464f9294c2495c28098053"><li><b>Feign的降级策略</b>：
是的，你在 Feign 里面配置的降级策略是用于配合熔断的。当服务调用失败或超时时，熔断器会跳闸，调用方会执行降级策略，而不再等待服务的响应。这样可以快速响应用户，避免服务长时间阻塞。</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-e2c9ce68f03b411a9bd29ead8a71f125"><li><b>熔断的意义</b>：
熔断的目的不仅仅是为了响应服务挂掉的情况。更重要的是，当服务出现延迟或者错误率上升时，通过<b>熔断机制，可以防止这种情况继续恶化</b>，形成雪崩效应。简单来说，熔断器的作用就像是电路中的保险丝，当检测到过多的服务调用失败，熔断器会跳闸，阻止进一步的服务调用，从而保护整个系统的稳定性。</li><ol class="notion-list notion-list-numbered notion-block-e2c9ce68f03b411a9bd29ead8a71f125"><div class="notion-text notion-block-c5ee89658e1642519c5dc7536ffa7be2">熔断之后，服务可能会自我恢复，或者通过人工干预恢复。在这个过程中，熔断器可以通过“半开”状态，尝试放行部分服务调用，如果这些调用成功，那么熔断器会自动闭合，恢复服务调用。这样，既可以快速响应服务问题，又可以保护系统的稳定性，避免因为一个服务的问题影响到整个系统。</div></ol></ol><hr class="notion-hr notion-block-718a42a74cea4cde83018cb5e90102fa"/><div class="notion-blank notion-block-45417877fae74b1aa5ba50d952910861"> </div><blockquote class="notion-quote notion-block-e416bcdd6b484318a3a5562b1358d5a7"><div>你说seata是简单、易扩展、自治的事务解决方案。说出理由，自治是什么意思。再给我一个java代码的例子</div></blockquote><div class="notion-text notion-block-9f825b51974d4a57b489d88f03c7a43a"><b>Seata的特性</b>：</div><ul class="notion-list notion-list-disc notion-block-e6b65893e042416e8cdfb6fed61e9a45"><li><b>简单</b>：Seata提供了简单易用的API和注解，使得开发者可以很容易地在业务代码中使用Seata来进行分布式事务控制。同时，Seata支持Spring Cloud、Dubbo和Motan等多种微服务框架。</li></ul><ul class="notion-list notion-list-disc notion-block-6d3bc565c3ca4f60840f5c3eba79e119"><li><b>易扩展</b>：Seata采用模块化的设计，使得各个模块可以单独升级和扩展，而且Seata提供了丰富的SPI扩展点，开发者可以通过实现SPI接口来定制自己的扩展模块。</li></ul><ul class="notion-list notion-list-disc notion-block-117b0e27b2d74315968a094fee850a1f"><li><b>自治</b>：在Seata中，每个服务参与者都能够自主决定其本地事务的提交或回滚，而全局事务的提交或回滚则由全局事务协调者来决定。这种模式下，服务参与者只需要关注自身的业务逻辑，而不需要关注其他服务参与者的状态和行为，从而实现了自治。</li></ul><div class="notion-text notion-block-79b0ecb157694e5b88472c641a7b377f"><b>Seata的Java代码示例</b>：</div><div class="notion-text notion-block-8a5d4af5a99b4f40af9e76684d38765e">在以上代码中，<code class="notion-inline-code">@GlobalTransactional</code>注解表示该方法需要进行全局事务控制。当方法执行时，Seata会自动开启一个全局事务，这个全局事务会包含所有的本地事务。如果所有的本地事务都执行成功，那么Seata会提交全局事务，否则Seata会回滚全局事务，从而保证所有本地事务的一致性。</div><hr class="notion-hr notion-block-dc52d7137845495e85fefb0feb9c67b7"/><div class="notion-blank notion-block-3b53d0e081264164b6558c45bd2984f9"> </div><blockquote class="notion-quote notion-block-c8d1cb6f29054968a04bafbe302affc7"><div>我无法理解自治这个概念，在我思想中，全局事务就该是这样的，本地事务只管自己，全局协调者发现任何1个事务失败就马上会滚，全部成功才成功。还有其他分布式事务解决方案不是这样的吗</div></blockquote><div class="notion-text notion-block-73e4bd9d053b4dc6bebd73a95113dbc4">你理解的没有错，&quot;自治&quot;在这个上下文中的确是指的服务参与者（或者说是本地事务参与者）只需要关注自己的业务逻辑，而不需要关注其他服务参与者的状态和行为。这是大部分分布式事务解决方案的基本思路，包括两阶段提交（2PC）、三阶段提交（3PC）、TCC（Try-Confirm-Cancel）等。</div><div class="notion-text notion-block-4d8d2022d8b4481592f4e15848a1d846">&quot;自治&quot;这个词在这里更多的是强调的一种设计理念，即服务的自治性，服务应该尽可能地去除对外部的依赖，使得<b>每个服务都能够独立完成自己的任务</b>，这样可以提高服务的可用性和可维护性。</div><div class="notion-text notion-block-8b93f5f77123405d8dabecb7c31e6e31">至于其他的分布式事务解决方案，确实也是类似的思路，但在具体的实现上可能会有所不同。例如，2PC和3PC虽然都是基于协调者和参与者的模式，但在事务提交过程中的具体协议是不同的；TCC则是通过业务逻辑来确保事务的最终一致性，与2PC和3PC的预提交机制有所不同。</div><div class="notion-text notion-block-f5bfcd3d0e72426faab116a1b9e2a999">这也是为什么Seata会强调自己的&quot;自治&quot;特性，因为在Seata的设计中，服务参与者不仅仅是事务的执行者，还需承担回滚日志的记录和存储，这样可以在出现问题时由本地事务参与者自己完成事务的回滚，而不需要依赖于全局事务协调者或者其他服务。</div><hr class="notion-hr notion-block-fb1ccdf2c4a8453282789fd4163a97c2"/><div class="notion-blank notion-block-24dfb7b3a7994e55aae49023737ebe80"> </div><blockquote class="notion-quote notion-block-25110e28f0124a67b11dc2dd4575be29"><div>给我讲解下2PC，3PC，TCC，并给我代码例子</div></blockquote><div class="notion-text notion-block-6934f9ce191d4ce5942a77a127fec3be"><b>2PC（Two-Phase Commit）</b></div><div class="notion-text notion-block-2b4031791a6a4aacaa172b66a613eb81">2PC是一种强一致性的分布式事务协议，它分为两个阶段：预提交阶段和提交阶段。</div><ul class="notion-list notion-list-disc notion-block-dd7e9e639d724921a18809dcb450ed72"><li>预提交阶段：协调者向所有参与者发送事务内容，询问是否可以提交事务，并开始等待所有参与者的响应。</li></ul><ul class="notion-list notion-list-disc notion-block-52fee6327f3b482288693d4d9efeaf4f"><li>提交阶段：如果协调者收到所有参与者都同意提交事务的消息，那么就向所有参与者发送提交事务的请求，事务被正式提交。</li></ul><div class="notion-text notion-block-2ee590ab3c014921849c1df256e6b694">2PC协议的主要问题是同步阻塞问题和单点问题。如果有任何一个节点在第二阶段未返回确认信息，那么协调者会一直阻塞等待。如果协调者在第二阶段崩溃，那么所有参与者会一直阻塞等待。</div><div class="notion-text notion-block-ad8bd99e80cf4d5b8510bafd1ed7ec2e"><b>3PC（Three-Phase Commit）</b></div><div class="notion-text notion-block-41be85567f91437aab77b9e776129c21">3PC是在2PC的基础上进行改进的协议，它增加了超时机制和可查询状态，分为CanCommit、PreCommit、doCommit三个阶段。</div><ul class="notion-list notion-list-disc notion-block-3fe8d7521a3d444282bc75f3806f198b"><li>CanCommit阶段：事务询问阶段，协调者向所有参与者发送CanCommit请求，询问是否可以执行事务提交操作。</li></ul><ul class="notion-list notion-list-disc notion-block-f9b1b730e6c649acba8d24bf02e45a47"><li>PreCommit阶段：事务预提交阶段，协调者向所有参与者发送PreCommit请求，开始执行事务操作。</li></ul><ul class="notion-list notion-list-disc notion-block-e8f8a1677c4d45888b830ab7d1048e59"><li>doCommit阶段：事务正式提交阶段，协调者向所有参与者发送doCommit请求，完成事务提交。</li></ul><div class="notion-text notion-block-2727485682e74b789bdc8d8ed30625dd">3PC协议解决了2PC的同步阻塞问题，但是在网络分区的情况下，仍可能导致数据不一致。</div><div class="notion-text notion-block-6ecc4296261945788e40609a814d0de7"><b>TCC（Try-Confirm-Cancel）</b></div><div class="notion-text notion-block-a4084185870f42c78e6c8c9e4b87a671">TCC是一种基于业务逻辑的分布式事务协议，它分为Try、Confirm和Cancel三个阶段。</div><ul class="notion-list notion-list-disc notion-block-64669192a93a44d3b39329c22c1d3fdc"><li>Try阶段：尝试执行业务，写预备日志。</li></ul><ul class="notion-list notion-list-disc notion-block-2a403bafe5534fc7b3b91d7dde765b61"><li>Confirm阶段：确认执行业务，根据预备日志完成业务操作。</li></ul><ul class="notion-list notion-list-disc notion-block-a286ebf3c50c4358ae512a2a2a16643b"><li>Cancel阶段：取消执行业务，根据预备日志撤销在Try阶段执行的业务操作。</li></ul><div class="notion-text notion-block-3f918c65f4c0480e91269d0fd0b40262">TCC协议适合于业务逻辑强一致性要求不高，但需要长时间运行的场景。</div><div class="notion-text notion-block-80f1c4e42fba48068df25f694e924e00">由于这三种协议都涉及到分布式系统的底层通信和协调机制，因此在实际的Java代码中不容易直接实现。在实际应用中，我们通常会使用像Seata这样的分布式事务中间件来处理分布式事务，这些中间件内部已经实现了相应的协议。</div><div class="notion-text notion-block-52016cbdb1354472942b3b6a8521ff95">例如，Seata的AT模式就是基于2PC协议的，而TCC模式则是基于TCC协议的。在Seata中使用AT或者TCC模式，只需要在业务方法上加上<code class="notion-inline-code">@GlobalTransactional</code>注解即可，Seata会自动进行分布式事务的协调和控制，开发者只需要关注业务逻辑。</div><hr class="notion-hr notion-block-a8ca918b81d645daa1e238b200536f30"/><div class="notion-blank notion-block-3a47ceb0d9234bbdaf65702f1dc0f219"> </div><blockquote class="notion-quote notion-block-6cf4cf2dc50143faaccedbee44be5429"><div>协调者只是告知是否可以提交，参与者才是真正提交事务的。2PC加一个超时机制不就完了吗，为啥要引入3PC？2PC的预提交阶段是在事务执行后最后commit的时候才去问协调者，3PC的CanCommit也是啊。后面PreCommit开始执行事务是什么意思？为什么3PC可以解决同步阻塞的问题，所有事务不都等着提交吗。还有为啥会数据不一致？</div></blockquote><div class="notion-text notion-block-c69da88b94f942949057278e67df3198">2PC和3PC之间的区别确实可以看作是对超时机制的不同处理。但是，需要注意的是，单纯的超时机制可能无法满足所有场景。比如，在2PC中，一旦<b>协调者宕机</b>，参与者在没有收到协调者的最终决定之前，会一直处于等待状态，这就导致了阻塞。即使设置了超时，参与者也无法决定究竟是提交还是回滚事务，因为它们无法确定协调者的最终决定。</div><div class="notion-text notion-block-787be75fddd44011ab2d0dbd140a8792">为了解决这个问题，3PC引入了第三个阶段。在CanCommit阶段，协调者询问参与者是否可以提交，参与者回复Yes或No后，会进入等待状态。此时参与者已经准备好提交，但并未真正提交。然后在PreCommit阶段，协调者会发出预提交请求，参与者收到请求后会执行事务操作并将状态切换为PreCommit，然后回复ACK。在最后的doCommit阶段，一旦协调者收到所有参与者的ACK，就会发出正式提交，所有参与者在收到doCommit请求后，才会正式提交事务。</div><div class="notion-text notion-block-4a3bb805889349f586a9df810fdd5d4c">这个设计的好处是，参与者在等待协调者的doCommit请求时，如果超时了，那么可以直接提交事务，而不用一直阻塞等待。因为如果参与者已经收到了PreCommit请求，那么说明协调者已经决定要提交事务（因为协调者在发出PreCommit请求之前，已经收到了所有参与者的Yes响应）。所以即使后续协调者宕机了，参与者也可以自己做出决定，不会一直阻塞。这也是3PC能够解决2PC同步阻塞问题的原因。</div><div class="notion-text notion-block-9c9196950e1a48ba930dce3ba56d25e8">至于可能导致数据不一致的问题，主要是因为在某些情况下，如网络分区，协调者和部分参与者可能无法通信。假设在PreCommit阶段，协调者发出了PreCommit请求，但只有部分参与者收到了这个请求并回复了ACK，而其他由于网络问题未收到请求的参与者可能仍处于初始状态。这时，如果协调者和收到PreCommit的参与者之间的网络恢复了，协调者可能会以为所有参与者都已经准备好提交，从而发出doCommit请求，导致只有部分参与者提交了事务，造成数据不一致。</div><div class="notion-blank notion-block-6170788576234de583e59138401f14c3"> </div><blockquote class="notion-quote notion-block-327e92ea2f1d4a43a8fde92c1e658647"><div>2PC会有一直阻塞等待的风险，3PC有数据不一致的缺点，TCC你也说会导致数据不一致。那在金融系统要求强一致性的服务该怎么办呢</div></blockquote><div class="notion-text notion-block-00b1ae272fd74cd2bd13cefc2f64e17b">对于金融系统这种强一致性要求非常高的场景，通常会采取其他的一些技术手段和架构设计来解决分布式事务问题。</div><ol start="1" class="notion-list notion-list-numbered notion-block-a1ea2fc0a04543b89ac8587e0ff7e616"><li><b>单体架构/垂直划分</b>：在一些非常关键的业务场景，如支付、转账等，可能会采用单体架构或者进行垂直的业务划分，将整个业务流程放在一个服务或者一个数据库中，这样就可以使用传统的ACID事务来保证一致性。</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-1a9f9684b6544cb7823d1e226f399d79"><li><b>最终一致性</b>：在一些不需要即时强一致性的场景，可以采用最终一致性的方式，通过消息队列、补偿事务等方式，在一定时间范围内达到数据一致性。例如，银行的<b>对账系统</b>就是一个典型的最终一致性应用。</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-632767153dc14e19be44996b52e7695c"><li><b>分布式锁/悲观锁</b>：在并发量不是特别高，对性能要求不是特别高的场景，可以使用分布式锁或者悲观锁来保证一致性。但是这种方式可能会影响系统的性能和可用性。</li></ol><ol start="4" class="notion-list notion-list-numbered notion-block-0ad28190328c447b910764bc7fcbdb2d"><li><b>Saga模式</b>：Saga模式是一种长事务的解决方案，它将一个长事务拆分为多个本地事务，并通过事件驱动的方式来协调这些本地事务。如果某个本地事务失败，Saga会执行相应的补偿事务来保证数据的一致性。</li></ol><div class="notion-text notion-block-3974a1bbcf314f1eb6313a0fb934ceff">需要注意的是，不同的业务场景需要选择不同的方案，没有一种方案可以解决所有的问题，需要根据具体的业务需求和系统条件来选择最合适的方案。</div><hr class="notion-hr notion-block-1b4b85688c764fafa1d68fa8a938dd97"/><div class="notion-blank notion-block-4c84eb93a6b342ba822ca2dc9186b6c2"> </div><blockquote class="notion-quote notion-block-3f5df4005167420391d833e2722ccbfc"><div>现在2PC和3PC我大概懂了，TCC模式我还是不明白</div></blockquote><div class="notion-text notion-block-5b6c6b0308014ddca359217438f11ef1">TCC (Try-Confirm-Cancel) 是一种两阶段型的补偿型事务模式，它主要用于处理分布式系统中的业务逻辑，以保证分布式事务在各个服务间的一致性。</div><div class="notion-text notion-block-2069a0e240754f9398849827ffc4efd4">TCC的每个阶段解释如下：</div><ul class="notion-list notion-list-disc notion-block-37a34f20526e4e14aa4654bd9f9a5dec"><li>Try 阶段：尝试执行业务，执行所有业务检查，以及预留必要的业务资源。</li></ul><ul class="notion-list notion-list-disc notion-block-751971aad8b249888b9771b0e053c4ac"><li>Confirm 阶段：真正执行业务，不做任何业务检查，只使用Try阶段预留的业务资源。如果确认操作失败，只能人工干预处理。</li></ul><ul class="notion-list notion-list-disc notion-block-56254ec15be14101bf8846ed83c065cb"><li>Cancel 阶段：在业务执行失败时，取消执行业务，释放在Try阶段预留的业务资源。</li></ul><div class="notion-text notion-block-0c31f2d7c4de42dc974ff69697a354ba">一个简单的TCC模式的例子是银行转账服务：</div><div class="notion-text notion-block-4134a69ff96046bca9191a6c5961a32c">在这个例子中，tryTransfer方法会尝试执行转账操作，例如检查账户余额是否足够，预留转账金额等。如果tryTransfer成功，那么会进入confirmTransfer阶段，真正执行转账操作。如果在tryTransfer或confirmTransfer阶段发生异常，那么会调用cancelTransfer方法，取消转账操作，释放预留的转账金额。</div><div class="notion-text notion-block-679c0ac3b61d462f873e95512bf53534">TCC模式的优点是业务逻辑清晰，容易理解和实现。但是也有一些缺点，例如需要为每个操作实现对应的确认操作和取消操作，这可能会增加开发的复杂性。另外，如果在Confirm阶段或Cancel阶段出现异常，可能需要人工介入处理。</div><div class="notion-text notion-block-15cbeb957d434517bae7502daadde547">TCC模式适合于需要进行复杂业务操作、业务检查、资源预留的分布式事务场景，例如电商系统的订单创建、支付系统的资金转账等。</div><hr class="notion-hr notion-block-36e3c748966b44c58a8c2e7906b1d8bc"/><div class="notion-blank notion-block-33aefaa8d562463a9865b1eb2438874b"> </div><blockquote class="notion-quote notion-block-7a8f86bff7d947dfb6a8718ec1fac9ef"><div>2pc模式和3pc模式，其实不关心业务逻辑的，主要是关心最后commit，所以从单体事务迁移过来的时候不用做太大的代码修改。但是如果我使用TCC的话，意味着我需要重新写一遍业务逻辑是吧。我还是无法理解TCC模式的分布式事务思想体现，TCC也有协调者吗，需要多个tryTransfer都成功才能confirm是吧。如果任意节点tryTransfer不成功，或者协调者挂了也会同步阻塞是吧</div></blockquote><div class="notion-text notion-block-3a99eb90cf2b4430950caa31ca4645ae">你的理解是正确的。TCC模式是需要对业务逻辑进行改造，需要为每个操作实现Try、Confirm和Cancel三个操作。它的主要思想是把一个全局事务划分为多个本地的Try、Confirm和Cancel操作，通过业务逻辑来保证全局事务的一致性。</div><div class="notion-text notion-block-610daf1ee643477ebbc964d181d54b59">关于协调者，TCC模式一般也需要一个事务协调者来协调和控制全局事务的执行。协调者会记录每个参与者的状态，如果所有参与者的Try操作都成功，那么协调者会通知所有参与者执行Confirm操作。如果有任何一个参与者的Try操作失败，或者在一定的超时时间内没有收到参与者的响应，那么协调者会通知所有参与者执行Cancel操作。</div><div class="notion-text notion-block-43e6e2d891af40468709a48ab1e23e63">如果协调者挂了，一般会有以下处理方式：</div><ol start="1" class="notion-list notion-list-numbered notion-block-5f9f0901b6e143bd94e4782fd86bd760"><li><b>状态恢复</b>：协调者挂了之后再次恢复，需要恢复其状态，这需要依赖持久化机制。协调者需要将事务的所有阶段和参与者的状态等信息持久化，挂掉后再次恢复时，可以通过这些信息恢复状态。</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-6bf427ba1e60498c895f74ab24dea6c0"><li><b>超时处理</b>：为了防止长时间阻塞，TCC事务一般会设计超时机制。例如，如果在一定时间内协调者没有通知参与者进行Confirm或Cancel操作，那么参与者可以自动进行超时处理，如执行Cancel操作。</li></ol><div class="notion-text notion-block-c9816bcb69e145bbafdeae9d2511c0c8">至于同步阻塞问题，如果采用了超时处理机制，那么可以避免由于等待协调者导致的长时间阻塞。但是，由于TCC模式涉及到业务逻辑，业务执行的时间可能比较长，因此可能会有一定程度的阻塞。但这种阻塞一般可通过适当的系统设计和优化来缓解。</div><hr class="notion-hr notion-block-ba4c471ec8674bba83721d9e42b1bbc4"/><div class="notion-blank notion-block-c193321ba43c4abe8028017e19a39a4a"> </div><blockquote class="notion-quote notion-block-510868861e2f41faa8fc80b03b189de5"><div>前文你提到Seata提供了丰富的SPI扩展点，开发者可以通过实现SPI接口来定制自己的扩展模块，给我几个具体的例子。还有我理解SPI就是运行时的动态代理，我的理解正确吗</div></blockquote><div class="notion-text notion-block-9b5620336e23421380f1ca7c3aa9021b">Seata 的 SPI 扩展点主要有以下几个例子：</div><ol start="1" class="notion-list notion-list-numbered notion-block-43ec7bd297cd45e0b9b1be0d13c2098b"><li>ResourceManager：负责管理一类资源（例如数据库连接）的逻辑，用户可以根据自己的需求来实现这个接口。</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-8cc78461688e4ce890aee9d06a3fa2d0"><li>TransactionManager：负责事务的生命周期管理，包括开始事务、提交事务和回滚事务等。</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-e85ba214079b4106bf6e8c9cc04eda1a"><li>LockManager：负责锁的管理，包括获取锁、释放锁等。</li></ol><ol start="4" class="notion-list notion-list-numbered notion-block-8a2cdc357af54b9fabf44c1ad8f8cb7a"><li>Store：负责事务日志的存储，用户可以根据自己的需求来实现这个接口，例如实现基于文件的存储、基于数据库的存储、基于分布式存储系统的存储等。</li></ol><div class="notion-text notion-block-3194faf05f204e649bd733ce3a00490a">开发者可以通过实现以上这些接口，来根据自己的需求定制自己的扩展。</div><div class="notion-text notion-block-0d691344028741dba4dc6efc90121b26">对于你的第二个问题，SPI (Service Provider Interface) 并不是运行时的动态代理。SPI 是一种服务发现机制。它通过在类路径下的 META-INF/services 目录中查找文件，然后加载文件所指定的类，这是一种运行时动态加载的机制。这与动态代理是两个不同的概念，动态代理主要是用来在运行时动态地创建一个接口的实现类。</div><hr class="notion-hr notion-block-990c119d5e644248bc7d5c193e2d7173"/><div class="notion-blank notion-block-caa2e5943ded44dfaed3ccae00e00bff"> </div><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-d8e91a74f393454185deb0d9994b8590" data-id="d8e91a74f393454185deb0d9994b8590"><span><div id="d8e91a74f393454185deb0d9994b8590" class="notion-header-anchor"></div><a class="notion-hash-link" href="#d8e91a74f393454185deb0d9994b8590" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h4><ul class="notion-list notion-list-disc notion-block-1dfb1717e7974dfa8bc87576babf8a4c"><li>熔断是为了防止情况继续恶化甚至雪崩，如果代码健壮，熔断后还可以自治，自恢复</li></ul><ul class="notion-list notion-list-disc notion-block-60783dcb447c48fcb67953f61d23744a"><li>2PC，3PC，TCC仅仅是协议/思想，seata可以自由切换，支持3PC？</li></ul><ul class="notion-list notion-list-disc notion-block-a42aa0d6da554e18a76ec80fee9aa7a4"><li>2PC有协调者崩溃造成同步等待的情况，没有超时概念，因为无法知道其他节点收到什么样的命令</li></ul><ul class="notion-list notion-list-disc notion-block-a5a5fdaf7afd4e35a57a995e3aa65416"><li>3PC在二阶段prepare的时候就可以提交了，有可能造成数据不一致，比如A节点收到了prepare_cmd，B节点没收到或者超时收到prepare_cmd。就会造成数据不一致，但是总体而言解决了同步等待的问题，还有can_cmd从一定程度上规避了风险了，can_cmd都确认了其实后两步都很快。do_cmd只是做及时确认，由于有超时机制，其实默认60s就do了</li></ul><ul class="notion-list notion-list-disc notion-block-2532841fe3ec46de9139e66fce35b43b"><li>TCC很烦的是要改代码，太恶心了。</li></ul><ul class="notion-list notion-list-disc notion-block-0be83ed9fdf043319ae0d806fed28b34"><li>一致性问题到最后都是追寻最终一致性，银行对账系统存在说明大家都不放心数据一致性问题，都在想方设法的保证最终一致性</li></ul><div class="notion-blank notion-block-1707fe6b6b11433ea1bbf672dab6a492"> </div><div class="notion-blank notion-block-2e452753191d40b28615088e30e75c05"> </div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-065eeccdfa3d4cf5954f208414f1dd91" data-id="065eeccdfa3d4cf5954f208414f1dd91"><span><div id="065eeccdfa3d4cf5954f208414f1dd91" class="notion-header-anchor"></div><a class="notion-hash-link" href="#065eeccdfa3d4cf5954f208414f1dd91" title="7.事务隔离级别MVCC三个日志文件"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">7.事务隔离级别MVCC三个日志文件</span></span></h3><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-427d4469ee9449f49583fe087a99d192" data-id="427d4469ee9449f49583fe087a99d192"><span><div id="427d4469ee9449f49583fe087a99d192" class="notion-header-anchor"></div><a class="notion-hash-link" href="#427d4469ee9449f49583fe087a99d192" title="GPT问答"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">GPT问答</span></span></h4><blockquote class="notion-quote notion-block-1becf4613302494a8f73dfc596c59193"><div>mysql事务隔离级别有哪些，分别解决了什么问题。MVCC机制是什么</div></blockquote><div class="notion-text notion-block-2723fa6b23e74815936c12f8b19010f3">MySQL事务隔离级别有四种，分别为：</div><ol start="1" class="notion-list notion-list-numbered notion-block-ffda016da6e744bea6af9ece8a4d2a23"><li>读未提交（Read Uncommitted）：这是最低的事务隔离级别，它允许事务读取尚未提交的改变。在这个级别，可能会出现脏读（Dirty Read）、不可重复读（Nonrepeatable Read）和幻读（Phantom Read）的情况。</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-e598b28d835a4d58a42b82461b32f6bb"><li>读已提交（Read Committed）：这是大多数DBMS（数据库管理系统）的默认隔离级别（但不是MySQL默认的）。它不允许脏读，但可能会出现不可重复读和幻读的情况。</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-ea92814f36ce4304803436e2c44c93f6"><li>可重复读（Repeatable Read）：这是MySQL的默认隔离级别。它确保同一事务的多次读取结果是一致的。但是，它仍然可能出现幻读的情况。</li></ol><ol start="4" class="notion-list notion-list-numbered notion-block-5a9d70c699d04352bdb816791c1842b0"><li>串行化（Serializable）：这是最高的隔离级别。它完全阻止了脏读、不可重复读和幻读。但是，这种隔离级别通常对性能有影响，因为它在读取时会阻止其他事务进行写入。</li></ol><div class="notion-text notion-block-84e00d77484c4359b1afdde2f737f35d">解决的问题：</div><ul class="notion-list notion-list-disc notion-block-cd62eeef748c4be8b2cd8da35a903164"><li>脏读：某个事务已更新一份数据，另一个事务在此时读取了同一份数据，由于某些原因，前一个RollBack了操作，那么后一个事务获取的数据就会是不正确的。</li></ul><ul class="notion-list notion-list-disc notion-block-7e0a27acb4714178bd51ea8d15dc6469"><li>不可重复读：在一个事务内，多次读同一数据。在这个事务还没有结束时，另一个事务也访问了该数据。那么，在第一个事务中的两次读数据之间，由于第二个事务的修改，那么第一个事务两次读到的数据可能是不一样的。 这就是不可重复读。</li></ul><ul class="notion-list notion-list-disc notion-block-a5fb770c20294108823c42d958eeb6b1"><li>幻读：一个事务按照某种搜索条件获取了某些值，而这时另一个事务却插入了一些满足该搜索条件的新值，第一个事务再次使用同一搜索条件获取值，会发现多了一些原本不存在的记录，就像发生了幻觉一样，这就叫幻读。</li></ul><div class="notion-text notion-block-2e55e85527624667bc2b5b48115efcad">MVCC，即多版本并发控制（Multi-Version Concurrency Control）。它是一种并发控制的方法。当多个用户访问同一份数据时，每个用户都会看到自己的一份数据快照，而这份数据快照是在事务开始时创建的。这样，用户就不会看到其他用户在事务期间所做的修改。MVCC既可以实现读已提交和可重复读隔离级别，又可以通过在每行记录上保存两个隐藏的列来实现，一个用来记录该行的创建时间（或者说是版本号），一个用来记录该行的过期时间（或者说是版本号）。</div><hr class="notion-hr notion-block-b56e825687ec40bdb09fcdb1d402ce53"/><div class="notion-blank notion-block-2bb428fa27534e8a9df215593379b9a7"> </div><blockquote class="notion-quote notion-block-0b3bd01eb4fd4b978a8d16f92ab17fb6"><div>只有for update加锁读才是当前读，其余都是快照读。MVCC引入目的，就是解决不可重复读的问题。但是如果在RR模式下，使用select * from xx for update 才会出现幻读，快照读是不会产生幻读的</div></blockquote><div class="notion-text notion-block-faebcb8fb5a2412694a674d6bffdf43b">是的，你说的对。MVCC的目标主要是解决“不可重复读”问题，并且在大多数情况下，它可以防止“幻读”问题。</div><div class="notion-text notion-block-75079c7439394a9c9e6f6dcc010671b1">在MySQL中，只有<code class="notion-inline-code">SELECT...FOR UPDATE</code>才是当前读，它会对选定的行加锁。其余的查询都是快照读，它们工作在一个快照版本上，不会阻塞其他事务。</div><div class="notion-text notion-block-42afb93b82bd435c85e4098c8f66fed9">在可重复读（Repeatable Read）隔离级别下，快照读确实不会产生幻读，因为同一事务的所有快照读都是基于相同的快照版本。但在同一事务中，如果你使用<code class="notion-inline-code">SELECT...FOR UPDATE</code>（即当前读），那么由于此时会锁定被选中的行，如果此时有其他事务插入了满足该搜索条件的新行，当你再次执行相同的<code class="notion-inline-code">SELECT...FOR UPDATE</code>语句时，你会看到这些新插入的行，这就可能导致幻读。</div><div class="notion-text notion-block-a0edc27ed2234501bd58a7c375da5edf">为了解决这个问题，一种可能的解决方案是在事务开始时就将所有可能会访问的行都锁定，但这可能会导致性能问题。在实践中，如果需要防止幻读，通常会使用更高的隔离级别，如串行化（Serializable）。</div><hr class="notion-hr notion-block-ae37d0c4d4fc41a189e7478a080019ae"/><div class="notion-blank notion-block-52aef31123984309bc49c4f966fa1f45"> </div><blockquote class="notion-quote notion-block-3c60c16ec7a44ff1a021ef96f4d2e28f"><div>mysql在innodb引擎里面的三大日志文件是啥，分别有啥用</div></blockquote><div class="notion-text notion-block-15e6c3d3453c4aed8a1ffe517631ae0d">MySQL的InnoDB存储引擎有三大重要的日志文件：</div><ol start="1" class="notion-list notion-list-numbered notion-block-c516fdd3b3b647b08ea072723230c1c0"><li>重做日志（Redo Log）：重做日志是InnoDB存储引擎层实现的一种日志，主要用于确保事务的原子性和持久性。在事务进行中，首先会把数据的修改写入到重做日志中，并刷新到磁盘，然后再修改内存中的数据。如果此时系统崩溃，那么在重启数据库后，InnoDB引擎可以通过重做日志重做（redo）数据的修改，从而保证数据的一致性。</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-cedea19a39e4414b90d8d430810d6431"><li>回滚日志（Undo Log）：回滚日志是InnoDB存储引擎层实现的一种日志，主要用于在事务失败或取消时，撤销（undo）已经进行的修改，确保事务的一致性。同时，回滚日志也用于实现多版本并发控制（MVCC），提供了从旧版本数据到新版本数据的视图。</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-f3607935353447d89a676bd991bcc74d"><li>二进制日志（Binary Log）：二进制日志是MySQL服务器层实现的一种日志，记录了所有修改数据的SQL语句。主要用于实现MySQL的复制功能（将主服务器上的数据复制到从服务器），以及数据的恢复。需要注意的是，二进制日志和InnoDB的重做日志不同，二进制日志记录的是SQL语句级别的修改，而重做日志记录的是数据页级别的修改。</li></ol><div class="notion-text notion-block-ce613549c39942e2b6f4d40fc9f1c3a7">这三种日志都是为了实现ACID（原子性、一致性、隔离性、持久性）事务特性，以及数据库的高可用性和数据的恢复。</div><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-9955cfbd48504ce7a7bdfc8299fd0619" data-id="9955cfbd48504ce7a7bdfc8299fd0619"><span><div id="9955cfbd48504ce7a7bdfc8299fd0619" class="notion-header-anchor"></div><a class="notion-hash-link" href="#9955cfbd48504ce7a7bdfc8299fd0619" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h4><ul class="notion-list notion-list-disc notion-block-98717c9738774265a90bb0e54c956b95"><li>acid和4个隔离级别都是老生常谈问题</li></ul><ul class="notion-list notion-list-disc notion-block-00e0f457b5944314a7255cf0eb171fb1"><li>当前对于MVCC底层和XS行表锁，gap，next-key，意向锁不是很清楚，极客时间的mysql45讲再深入研究</li></ul><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-12d42d7085cd410da2a328ab6f8591ae" data-id="12d42d7085cd410da2a328ab6f8591ae"><span><div id="12d42d7085cd410da2a328ab6f8591ae" class="notion-header-anchor"></div><a class="notion-hash-link" href="#12d42d7085cd410da2a328ab6f8591ae" title="8.操作系统中的阻塞异步BIONIOAIO"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">8.操作系统中的阻塞异步BIONIOAIO</span></span></h3><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-471e2e8b290549ef8eec0c69adf417c2" data-id="471e2e8b290549ef8eec0c69adf417c2"><span><div id="471e2e8b290549ef8eec0c69adf417c2" class="notion-header-anchor"></div><a class="notion-hash-link" href="#471e2e8b290549ef8eec0c69adf417c2" title="GPT问答"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">GPT问答</span></span></h4><blockquote class="notion-quote notion-block-6800a277744f47b6bbce80d55edef89e"><div>操作系统中的阻塞，非阻塞，异步，同步，BIO，NIO，AIO，给我解释下</div></blockquote><div class="notion-text notion-block-e0eeec95ae5049ffb8fc2e1d99a1ee82">这些术语都是用来描述输入/输出 (I/O) 模型的，下面是每个术语的简单解释：</div><ol start="1" class="notion-list notion-list-numbered notion-block-41779ac54ab744ff9ec1ec0e552b26b8"><li>阻塞（Blocking）：阻塞调用是指调用结果返回之前，当前线程会被挂起。调用线程只有在得到结果之后才会返回。</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-44b4e904beda48d7adbd9fd5c07c9a45"><li>非阻塞（Non-blocking）：非阻塞调用指在不能立刻得到结果之前，该调用不会阻塞当前线程。</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-3719e695ca2a46c68581ccddf01dd42a"><li>同步（Synchronous）：同步意味着在一个操作完成之前，请求者必须等待。无论操作是阻塞的还是非阻塞的，只要是同步的，那么请求者都需要等待操作的完成。</li></ol><ol start="4" class="notion-list notion-list-numbered notion-block-f57484159a544ec1a39e70b07c43a2d3"><li>异步（Asynchronous）：异步意味着请求者在发出请求后就可以进行其他操作，不需要等待操作的完成。当操作完成时，通常会通过回调（callback），事件，通知等机制来通知请求者。</li></ol><ol start="5" class="notion-list notion-list-numbered notion-block-a3d78ec60f344e65ac1c8991f373c006"><li>BIO（Blocking I/O）：这是一个阻塞的同步I/O模型。在这个模型中，当一个I/O操作在进行时，调用者必须等待其完成。</li></ol><ol start="6" class="notion-list notion-list-numbered notion-block-d6e00fa4d29049088a5b1e44bdcedb9a"><li>NIO（Non-blocking I/O）：这是一个非阻塞的同步I/O模型。在这个模型中，调用者可以在I/O操作完成前进行其他任务，但仍需要定期检查I/O操作是否完成。</li></ol><ol start="7" class="notion-list notion-list-numbered notion-block-909301517c674de39c46793dc08f662f"><li>AIO（Asynchronous I/O）：这是一个非阻塞的异步I/O模型。在这个模型中，调用者完全不需要关心I/O操作，当操作完成时，系统会自动通知调用者。</li></ol><div class="notion-text notion-block-82c86df443974f8dbf290e191a49b912">在理解这些术语的时候，要注意阻塞/非阻塞和同步/异步之间的区别。阻塞/非阻塞描述的是程序在等待调用结果（可能是I/O操作）时的状态，而同步/异步描述的是程序在发出调用请求后的行为。</div><hr class="notion-hr notion-block-e3648d0a8f624525828aaa38ab6bea3f"/><div class="notion-blank notion-block-ad8f091b438c481bbd2a46c00310d6af"> </div><blockquote class="notion-quote notion-block-d746ed9961e442cf883280680a2f5988"><div>3大io模型就是对于是否阻塞和的是否同步的具体实践。给我写出3大io模型的java例子。</div></blockquote><div class="notion-text notion-block-c92967e3ab814ce69c75678738bbc7d1">好的，以下是针对 Java 的 BIO, NIO和 AIO 的简单示例。</div><ol start="1" class="notion-list notion-list-numbered notion-block-7a15eca8ddf444bbaec6e5ab1bdd99c5"><li><b>BIO (Blocking I/O)</b></li></ol><ol start="1" class="notion-list notion-list-numbered notion-block-907eaab22a8e405eb92c9383795fd26c"><li><b>NIO (Non-blocking I/O)</b></li></ol><ol start="1" class="notion-list notion-list-numbered notion-block-5912ce0387b145329eca1ec30c4f8a45"><li><b>AIO (Asynchronous I/O)</b></li></ol><div class="notion-text notion-block-9265e4e39a534787a6bb704190f54122">以上代码仅供示例，可能还需要进一步的错误处理和资源管理。</div><hr class="notion-hr notion-block-00d4479f81cb48afbc7f89e84970d19e"/><div class="notion-blank notion-block-501d0801cbe6436aa070a3135f667555"> </div><blockquote class="notion-quote notion-block-cadb7d65b3f44cde9067b0d7692ff1c1"><div>再给我写一个异步阻塞的例子</div></blockquote><div class="notion-text notion-block-746610d141b64b75805942feabb87562">在 Java 中，异步阻塞这个概念并不常见，因为异步通常都意味着非阻塞。但是可以通过使用 Future 来模拟异步阻塞的行为。具体来说，我们可以启动一个新的线程来执行任务（异步），然后在主线程中调用 Future.get() 方法来等待结果（阻塞）。下面是一个简单的示例：</div><div class="notion-text notion-block-6473a9c8e013486ea3bb1ed6e272948b">在这个例子中，我们首先创建一个 ExecutorService，它是一个可以管理多线程的服务。然后我们提交一个任务到 ExecutorService，这个任务在一个新的线程中异步执行。主线程继续执行其他任务，然后在需要结果的时候调用 Future.get() 方法来等待结果。如果在这个时候任务还没有完成，那么 Future.get() 方法会阻塞，直到任务完成为止。</div><hr class="notion-hr notion-block-36015b9586864982a7fa575f3f5b5f4d"/><div class="notion-blank notion-block-ceaf9c24c2c84f8d9f98c975b6a7ad76"> </div><blockquote class="notion-quote notion-block-98c6e6a3290d47f194f5f79afdedc1bd"><div>再用烧水后喝水给我解释BIO，NIO，AIO。异步阻塞一起解释</div></blockquote><div class="notion-text notion-block-a302cb8aaab94b4a81a34f804903b6a7">好的，我们可以把烧水喝水的过程类比为 I/O 操作。</div><ol start="1" class="notion-list notion-list-numbered notion-block-5030f90994914faabf0343aa0377e2ca"><li><b>BIO（Blocking I/O）</b>：你把水壶放在炉子上，然后就站在那里，什么也不做，直到水烧开。这就是阻塞，你正在等待 I/O 操作（烧水）的完成。这就像是你在等待一个网络请求的响应，直到它完成，你才能继续。</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-7b8f8ee3c184470bb5ac994dc7b08117"><li><b>NIO（Non-blocking I/O）</b>：你把水壶放在炉子上，然后你去做其他事情（比如读书）。但是每过一段时间你都得回来检查一下水是否烧开。这就是非阻塞，你并没有阻塞在 I/O 操作上，而是在等待 I/O 操作时做其他事情。但是你需要不断地检查 I/O 操作是否完成。</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-dfb96d40f9a542fdbf6c97ae0f410899"><li><b>AIO（Asynchronous I/O）</b>：你把水壶放在炉子上，然后你去做其他事情。你的水壶很聪明，当水烧开的时候，它会响铃通知你。这就是异步，你不需要去检查 I/O 操作是否完成，因为当它完成的时候，你会得到通知。</li></ol><ol start="4" class="notion-list notion-list-numbered notion-block-854248e3f0124f56bce74ecc81887fe0"><li><b>异步阻塞</b>：这个概念在实际中并不常见，但是为了解释，我们可以这样想象：你把水壶放在炉子上，然后你去做其他事情。你的水壶很聪明，当水烧开的时候，它会响铃通知你。但是你在做其他事情的时候，每完成一项任务，你都会去看看水壶是否响铃。这就是异步阻塞，你在等待 I/O 操作的同时做其他事情，但是你要不断地检查是否有通知。</li></ol><div class="notion-text notion-block-723782b0b99f4268bf5d4a80838aa0cb">以上就是 BIO，NIO，AIO 以及异步阻塞的解释。希望这个类比可以帮助你理解这些概念。</div><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-93798a96651f4c538e4ffe95eb18029b" data-id="93798a96651f4c538e4ffe95eb18029b"><span><div id="93798a96651f4c538e4ffe95eb18029b" class="notion-header-anchor"></div><a class="notion-hash-link" href="#93798a96651f4c538e4ffe95eb18029b" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h4><ul class="notion-list notion-list-disc notion-block-dc0bcb1bb27848e8bf28546af8288389"><li>基本上理解异步阻塞的例子，就差不多了</li></ul><ul class="notion-list notion-list-disc notion-block-9608e593f9b8484cbe6e0a8d0fd9fca6"><li>阻塞就意味着等待</li></ul><div class="notion-blank notion-block-26792acc7d13438cad28f82c7af4efbc"> </div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-9c2f64483dfd4228a8c048f5799b2cf4" data-id="9c2f64483dfd4228a8c048f5799b2cf4"><span><div id="9c2f64483dfd4228a8c048f5799b2cf4" class="notion-header-anchor"></div><a class="notion-hash-link" href="#9c2f64483dfd4228a8c048f5799b2cf4" title="9.Redis跟MySQL缓存一致性"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">9.Redis跟MySQL缓存一致性</span></span></h3><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-55c4dd0a8dea4699ae95926bd9cab471" data-id="55c4dd0a8dea4699ae95926bd9cab471"><span><div id="55c4dd0a8dea4699ae95926bd9cab471" class="notion-header-anchor"></div><a class="notion-hash-link" href="#55c4dd0a8dea4699ae95926bd9cab471" title="GPT问答"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">GPT问答</span></span></h4><blockquote class="notion-quote notion-block-91e31a1107f14df39c0cd32bcf7227cc"><div>Redis跟MySQL缓存一致性问题，目前业界常用的方案是哪些</div></blockquote><div class="notion-text notion-block-33bc32d8ea4c4041b237c150724db36e">在构建高并发、高性能的互联网应用时，缓存是不可或缺的一部分。然而，引入缓存后，缓存与数据库的数据一致性问题就会出现。Redis 作为一种非常流行的缓存解决方案，同 MySQL 数据库的一致性问题也是业界面临的重要挑战。</div><div class="notion-text notion-block-6fb2fd9b259545d79e419108999e4d99">以下是一些常见的解决方案：</div><div class="notion-text notion-block-8e19783b6a0c46dbb3c11b62c6c39ca3"><b>1. 缓存穿透：</b></div><div class="notion-text notion-block-b620e8b7858f436287faf2f8c933c7a4">缓存穿透是指查询一个数据库中不存在的数据，结果缓存没有命中，然后去数据库查询，数据库也没有，这样就形成了缓存穿透。解决方案是对于查找的字段做一个空值的缓存。这样即使数据库没有，缓存也会命中，从而避免了对数据库的查询。</div><div class="notion-text notion-block-53fee745cd9b49f68be332cd08204a0d"><b>2. 缓存击穿：</b></div><div class="notion-text notion-block-ae2842c873d840d2b348a7af2d76b055">缓存击穿是指访问一个热点数据，当该数据过期的瞬间，大量的请求就会穿破缓存，直接请求数据库，造成数据库的压力。解决方案是设置热点数据永不过期，或者在代码层面，使用互斥锁或者分布式锁，保证缓存的单线程（进程）写，避免大量并发线程对数据库进行访问。</div><div class="notion-text notion-block-966d6414add449e79c3d468832755819"><b>3. 缓存雪崩：</b></div><div class="notion-text notion-block-fdaebb18427d4fb899ad619b164b58df">缓存雪崩是指缓存中大量的数据同时过期，导致大量的请求直接打到数据库，从而导致数据库压力过大。解决方案是对缓存的过期时间进行随机，避免同一时间大量的数据过期，请求打到数据库。</div><div class="notion-text notion-block-f96465f57a8b4d1c9bb074b535a1b628"><b>4. 读写一致性：</b></div><div class="notion-text notion-block-71edb0514fb4462d8532c2a3ffffcfb5">这是比较常见的一种场景，即读取数据后，立即写入缓存。但是，如果写入缓存失败，会导致下次读取的时候，读到的是旧数据。解决方案是使用&quot;先删除缓存，再更新数据库&quot;的原则。</div><div class="notion-text notion-block-d6974531d3b34cfd9198b8454fb2c249"><b>5. 双写不一致：</b></div><div class="notion-text notion-block-ed7a22d44fb44a8a93809f05f4b15404">双写不一致是指应用先将数据写入数据库，然后再写入缓存，这期间数据可能会出现不一致的情况。解决方案是使用消息队列，将需要写入的数据写入消息队列，然后由消费端去更新数据库和缓存，保证了顺序性。</div><div class="notion-text notion-block-d3aba15b095d416dbadbaa7f0aa79eeb">以上这些方法并不能保证完全的一致性，只能在一定程度上降低不一致的可能性。在某些对一致性要求非常高的场景下，可能需要牺牲一些性能，采取更加严格的一致性策略。</div><hr class="notion-hr notion-block-d3b9335cd3964f379f7116c73430de64"/><div class="notion-blank notion-block-1679a12158c94910b66b994c2999fab2"> </div><blockquote class="notion-quote notion-block-e0aec8b14f7d4383a17929ce91ad649d"><div>读写一致性的解决方案，你提供的是旁路缓存的模式，但是删除缓存到数据库落库还有一段时间有可能会重新生成缓存，还需要延时双删</div></blockquote><div class="notion-text notion-block-65625213288e476e9d1a67ef298b83e0">你说得很对，&quot;先删除缓存，再更新数据库&quot;的原则确实存在问题，这是因为在删除缓存后，到数据库更新结束这段时间内，如果有其他线程查询这个数据，会查询不到缓存，然后去数据库查询到旧数据并将旧数据写入缓存，这样当数据库更新完成后，缓存中的数据还是旧的，这就出现了数据不一致的情况。</div><div class="notion-text notion-block-0c6fb3ad96ad48108562a871cba5f18e">目前，针对这个问题，一种比较成熟的解决方案是“延时双删”，具体步骤如下：</div><ol start="1" class="notion-list notion-list-numbered notion-block-a1bed9193ddf45b29510fe8fa9d4c76f"><li>先删除缓存</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-9aac1b04c4734623858363bd5814942e"><li>再更新数据库</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-59f3ab0a7af840179409411f7fab3467"><li>等待一段时间（比如100ms），再次删除缓存</li></ol><div class="notion-text notion-block-54a10febeb824f0db8b2f47380d85ca4">这种方法的基本思想是：因为可能会有其他线程在这段时间内把数据库旧数据查询出来并且写入缓存，所以通过等待一段时间后再次删除缓存，以此来保证缓存中的数据是最新的。</div><div class="notion-text notion-block-cd558360d8c94e94a9e95763359bcab5">然而，这种方案并不能完全解决问题，因为这个等待的时间并不能保证是最优的，这个时间长了可能会导致缓存利用率下降，时间短了可能会导致数据不一致。但是在实际操作中，这种方案可以在一定程度上缓解读写一致性问题。</div><hr class="notion-hr notion-block-178eca01447647a59f0971f182055321"/><div class="notion-blank notion-block-be768174988246759ce23225d6b821e9"> </div><blockquote class="notion-quote notion-block-aa76044848c4405ca1e06331b4e58ef4"><div>追求强一致性就要加锁了，性能牺牲太大</div></blockquote><div class="notion-text notion-block-c15e9201afbe45c08ef2f404b0060e97">是的，你的理解是正确的。在计算机科学中，一致性和性能往往是一对矛盾的存在。强一致性意味着系统的每一次读操作都将返回最新的写操作结果，这就需要在读写操作之间加锁以确保操作的顺序性，但这样做会极大地牺牲系统的性能。</div><div class="notion-text notion-block-58b0a2caa5b6496b9ae2763a0764f01e">在实际应用中，我们往往会根据业务需求在一致性和性能之间做出权衡。对于一些对数据一致性要求非常高的业务，我们可能会选择牺牲一部分性能来确保数据的强一致性。反之，对于一些对性能要求非常高，而对数据一致性要求相对较低的业务，我们可能会选择牺牲一部分数据一致性来提高系统的性能。</div><div class="notion-text notion-block-cfc62533db264ff1bf5a370ba47259d2">另外，对于缓存一致性问题，除了上述的一些解决方案，还有一些其他的技术可以帮助我们，如读写分离、分布式锁等。这些技术在不同的业务场景下有着不同的应用，可以根据具体的业务需求选择合适的方案。</div><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-09b7a03242a44f07a749a178b90432c7" data-id="09b7a03242a44f07a749a178b90432c7"><span><div id="09b7a03242a44f07a749a178b90432c7" class="notion-header-anchor"></div><a class="notion-hash-link" href="#09b7a03242a44f07a749a178b90432c7" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h4><ul class="notion-list notion-list-disc notion-block-e6def9993fef48a6a0c76e423ff0fcef"><li>缓存击穿可以用双重检查锁</li></ul><ul class="notion-list notion-list-disc notion-block-3c95889d881649afbe7e87fa60cca209"><li>旁路缓存+延时双删</li></ul><ul class="notion-list notion-list-disc notion-block-e989ef8eba3644928bf7c800ea215133"><li>上面方案还是很小几率不一致，就需要加锁了。这个要业务容忍程度</li></ul><div class="notion-blank notion-block-2b30fdeaaaf64f18b21f3d0d6444da73"> </div><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-a4a15b3a27154e448c7b8b6abbb59152" data-id="a4a15b3a27154e448c7b8b6abbb59152"><span><div id="a4a15b3a27154e448c7b8b6abbb59152" class="notion-header-anchor"></div><a class="notion-hash-link" href="#a4a15b3a27154e448c7b8b6abbb59152" title="10.Dubbo底层理解"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">10.Dubbo底层理解</span></span></h3><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-10d6f3e2726a4f7c8f2cd78b5a0bd9e3" data-id="10d6f3e2726a4f7c8f2cd78b5a0bd9e3"><span><div id="10d6f3e2726a4f7c8f2cd78b5a0bd9e3" class="notion-header-anchor"></div><a class="notion-hash-link" href="#10d6f3e2726a4f7c8f2cd78b5a0bd9e3" title="GPT问答"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">GPT问答</span></span></h4><blockquote class="notion-quote notion-block-1de1c413de15483ca6008ecb0798aa07"><div>谈谈你对Dubbo底层理解</div></blockquote><div class="notion-text notion-block-47d28b5a33354ca593eafb6f7ad2ae15">Dubbo是一种高性能的Java RPC框架，它使用了许多高级技术和设计模式来实现其性能和可扩展性。</div><ol start="1" class="notion-list notion-list-numbered notion-block-660dd60b81f948a785a6fa38ad3cdf58"><li><b>服务提供者和消费者模型</b>：Dubbo使用了服务提供者和消费者模型。服务提供者提供服务并注册到注册中心，服务消费者从注册中心订阅服务并发起调用请求。这种模型使得服务的提供者和消费者可以在不知道对方的情况下进行通信。</li></ol><ol start="2" class="notion-list notion-list-numbered notion-block-4d53bb8aba194874ba44e308227b8170"><li><b>负载均衡</b>：Dubbo内部实现了多种负载均衡算法，如随机、轮询、最少活跃调用、一致性Hash等。当服务消费者从多个服务提供者中选择一台进行调用时，会根据负载均衡策略进行选择。</li></ol><ol start="3" class="notion-list notion-list-numbered notion-block-1d06df64fa3347db9dd17d21670175f8"><li><b>服务路由和过滤</b>：Dubbo支持自定义路由规则和过滤器，可以对服务调用进行灵活的控制。例如，可以根据服务提供者的IP或者服务消费者的应用名进行路由，或者在服务调用前后进行特定的处理。</li></ol><ol start="4" class="notion-list notion-list-numbered notion-block-bf2aebe292f84556a0ecec01bd2e16ef"><li><b>异步通信</b>：Dubbo支持异步调用，消费者无需同步等待服务调用的结果，可以提高系统的并发处理能力。</li></ol><ol start="5" class="notion-list notion-list-numbered notion-block-3fa6de04368044ff814857a55db46d87"><li><b>协议和序列化</b>：Dubbo支持多种协议（如Dubbo、HTTP、Thrift等）和序列化方式（如Hessian、Java、Kryo、FST等），可以根据实际需求进行选择。</li></ol><div class="notion-text notion-block-9a29da8cc9454f4295773fdcd38af933">底层实现层面，Dubbo主要是基于Netty来实现网络通信，利用Java的NIO（非阻塞IO）来处理高并发的网络请求。同时Dubbo也使用了线程池来并发处理服务调用，提高系统的吞吐量。</div><div class="notion-text notion-block-89264c00540749b38525812994752253">以上是我对Dubbo的一些理解，如果你有任何问题或者想要深入了解某个部分，欢迎随时向我提问。</div><hr class="notion-hr notion-block-7fbae67b78d140d1a68cfd984e349cca"/><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-a7455e626660482eba23e534b11c3008" data-id="a7455e626660482eba23e534b11c3008"><span><div id="a7455e626660482eba23e534b11c3008" class="notion-header-anchor"></div><a class="notion-hash-link" href="#a7455e626660482eba23e534b11c3008" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h4><ul class="notion-list notion-list-disc notion-block-fa769d98f4f34506874ae14e3ae3d5e9"><li>01-贝壳中说了dubbo的对比springcloud</li></ul><ul class="notion-list notion-list-disc notion-block-39bd2e2d27ac43629791ddd9a5469d1f"><li>底层用的netty，NIO模型，线程池模型，这个太底层了，要细聊还是要看代码</li></ul><h3 class="notion-h notion-h2 notion-h-indent-1 notion-block-996704a5d3f24c148574d8078b218b30" data-id="996704a5d3f24c148574d8078b218b30"><span><div id="996704a5d3f24c148574d8078b218b30" class="notion-header-anchor"></div><a class="notion-hash-link" href="#996704a5d3f24c148574d8078b218b30" title="11.DDD的理解"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">11.DDD的理解</span></span></h3><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-7a9b4c3320e3458c9bb39b4210ede657" data-id="7a9b4c3320e3458c9bb39b4210ede657"><span><div id="7a9b4c3320e3458c9bb39b4210ede657" class="notion-header-anchor"></div><a class="notion-hash-link" href="#7a9b4c3320e3458c9bb39b4210ede657" title="GPT问答"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">GPT问答</span></span></h4><blockquote class="notion-quote notion-block-13699824a5254ff09edf4d3111824bac"><div>谈谈你对DDD的理解</div></blockquote><div class="notion-text notion-block-f0ff9bedae724e849ce90a6f976b6160">领域驱动设计（Domain-Driven Design，简称DDD）是一种软件开发方法论，由Eric Evans在他的书《领域驱动设计：软件核心复杂性对策》中首次提出。DDD的主要目标是在复杂的设计和模型中找到和实现业务领域的连续性。</div><div class="notion-text notion-block-88dc58a8b5c74f50a9e3a3839b637ccb">DDD主要包含以下几个核心概念：</div><ul class="notion-list notion-list-disc notion-block-bb432472934d4a8e8933996db5b994b5"><li><b>领域（Domain）</b>： 这是一个问题区域，我们需要在这个区域中找到解决方案。</li></ul><ul class="notion-list notion-list-disc notion-block-db0bd158c8784687b13d654a9de18cd1"><li><b>子域（Subdomain）</b>： 一个大的领域可以分为几个子域，每个子域都是独立的，可以单独处理和开发。</li></ul><ul class="notion-list notion-list-disc notion-block-bad1ac53c6cb4c068af8bebbe9c6cb18"><li><b>限界上下文（Bounded Context）</b>： 这是一个显式定义的边界，它限定了特定的语义上下文，其中的模型只在这个上下文中有意义。</li></ul><ul class="notion-list notion-list-disc notion-block-58db0c21fad641578f1062714e1d4e50"><li><b>领域模型（Domain Model）</b>： 这是一个模型，它封装了特定领域的知识和业务规则。</li></ul><ul class="notion-list notion-list-disc notion-block-46424f60b8b743fd8197fb7ac6b3ecb8"><li><b>实体（Entity）</b>： 在领域模型中有唯一标识的对象。</li></ul><ul class="notion-list notion-list-disc notion-block-af1983de6ec643098d5f098f070885f7"><li><b>值对象（Value Object）</b>： 在领域模型中没有唯一标识的对象。</li></ul><ul class="notion-list notion-list-disc notion-block-d2e4efba43c14c898024694a7ac12630"><li><b>聚合（Aggregate）</b>： 一组具有一致性边界的关联对象，由一个根实体（Aggregate Root）来管理。</li></ul><ul class="notion-list notion-list-disc notion-block-9fa90bd24c6d42e98f9a9abc269f6736"><li><b>领域服务（Domain Service）</b>： 当领域模型的某些操作无法归类到实体或值对象上时，可以定义为领域服务。</li></ul><ul class="notion-list notion-list-disc notion-block-176a8c648b0e4893ad7f9c6d3d1eaa07"><li><b>领域事件（Domain Event）</b>： 表示领域中重要的事件，它会影响领域的状态。</li></ul><ul class="notion-list notion-list-disc notion-block-d74e77bb67374403ab2dbefd9af03c09"><li><b>仓库（Repository）</b>： 提供对聚合的存储和检索。</li></ul><div class="notion-text notion-block-e085e9eb7f5b466080c6b615e2baddc4">DDD强调的是，我们应该尽可能地理解业务领域，并且在设计和代码中反映这个理解。这样可以使得软件更加符合业务需求，更易于维护和演进。</div><hr class="notion-hr notion-block-5c3d6abdcddc4cfb9a1b43312e37885f"/><h4 class="notion-h notion-h3 notion-h-indent-2 notion-block-e9b2019d85bf4f22960339e9fb391ef3" data-id="e9b2019d85bf4f22960339e9fb391ef3"><span><div id="e9b2019d85bf4f22960339e9fb391ef3" class="notion-header-anchor"></div><a class="notion-hash-link" href="#e9b2019d85bf4f22960339e9fb391ef3" title="总结"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">总结</span></span></h4><ul class="notion-list notion-list-disc notion-block-47fadf5e1a5c49549e18f4ec413f9bf7"><li>我其实很反感,因为需求和需求设计不可能一开始就合理，考虑到各种设计模式，熟悉的controller到service到mapper的方式，考虑到不同开发的编码习惯，很烦</li></ul><div class="notion-blank notion-block-858e6e83fdcb430ea3124fba35c62f16"> </div><h2 class="notion-h notion-h1 notion-h-indent-0 notion-block-0a7ed53b47d7436eabe8868de3d4ebbe" data-id="0a7ed53b47d7436eabe8868de3d4ebbe"><span><div id="0a7ed53b47d7436eabe8868de3d4ebbe" class="notion-header-anchor"></div><a class="notion-hash-link" href="#0a7ed53b47d7436eabe8868de3d4ebbe" title="写到最后"><svg viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><span class="notion-h-title">写到最后</span></span></h2><div class="notion-row notion-block-ea6dacc9d3d24d8ea3ea56db91ea8842"><div class="notion-column notion-block-7d27a0d28b754c608046d473435cb46a" style="width:calc((100% - (2 * min(32px, 4vw))) * 0.25)"><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-379e941556f0414485e78a5daccc2b14"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:100%"><img style="object-fit:cover" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Feb3e1328-8f32-4ff5-8d18-8ea80020e175%2Fe74a26b9-10d9-49f3-9ea7-bcb2a1438bd7%2Ffavicon.png?table=block&amp;id=379e9415-56f0-4144-85e7-8a5daccc2b14&amp;t=379e9415-56f0-4144-85e7-8a5daccc2b14" alt="notion image" loading="lazy" decoding="async"/></div></figure></div><div class="notion-spacer"></div><div class="notion-column notion-block-033f644649e6454b827dd02c1160070b" style="width:calc((100% - (2 * min(32px, 4vw))) * 0.34601449275362306)"><div class="notion-text notion-block-475694eff5fa4efe83401b11e1b229d6"><em>
</em><b><em>        是在往前走就好</em></b><em>
        </em><em><a target="_blank" rel="noopener noreferrer" class="notion-link" href="https://bothsavage.github.io/archive">bothsavage.github.io</a></em><em>
</em></div><div class="notion-blank notion-block-0f7f43d4b57d4f66b4eed6980c3d8a38"> </div></div><div class="notion-spacer"></div><div class="notion-column notion-block-31553aec99ed4d5f891af806a1fd2df0" style="width:calc((100% - (2 * min(32px, 4vw))) * 0.4039855072463767)"><figure class="notion-asset-wrapper notion-asset-wrapper-image notion-block-da3535f749a64ceab1c7451a0f3b899e"><div style="position:relative;display:flex;justify-content:center;align-self:center;width:100%;max-width:100%;flex-direction:column;height:315px"><img style="object-fit:cover" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Feb3e1328-8f32-4ff5-8d18-8ea80020e175%2F3436ffe0-3684-445a-824f-2fd9fa5ad2a6%2FUntitled.png?table=block&amp;id=da3535f7-49a6-4cea-b1c7-451a0f3b899e&amp;t=da3535f7-49a6-4cea-b1c7-451a0f3b899e" alt="notion image" loading="lazy" decoding="async"/></div></figure></div><div class="notion-spacer"></div></div><div class="notion-blank notion-block-5ee0d17e46ce4124aa38895caf65081b"> </div></main></div><div class="m-1 overflow-x-auto"><div class="flex w-full md:justify-end"></div></div><div class="flex justify-between"><div></div></div><section class="text-gray-800 dark:text-gray-400 h-12 flex items-center justify-between space-x-5 my-4"><a class="text-sm cursor-pointer justify-start items-center flex hover:underline duration-300" href="/article/begin"><i class="mr-1 fas fa-angle-double-left"></i>将进酒</a><a class="text-sm cursor-pointer justify-end items-center flex hover:underline duration-300" href="/article/240405-LM-01">万里长征-01-贝壳<i class="ml-1 my-1 fas fa-angle-double-right"></i></a></section><div id="comment" class="comment mt-5 text-gray-800 dark:text-gray-300 "></div></section><div id="gitbook-toc-float" class="fixed top-0 right-0 z-40 md:hidden"><div class=" -mr-72 animate__slideOutRight overflow-y-hidden shadow-card w-60 duration-200 fixed right-1 bottom-16 rounded py-2 bg-white dark:bg-hexo-black-gray"><div class="dark:text-gray-400 text-gray-600 h-96 p-3"></div></div></div><div id="right-drawer-background" class="hidden fixed top-0 left-0 z-30 w-full h-full"></div></div></div><div id="jump-to-top" data-aos="fade-up" data-aos-duration="300" data-aos-once="false" data-aos-anchor-placement="top-center" class="fixed xl:right-80 right-2 mr-10 bottom-24 z-20"><i class="fas fa-chevron-up cursor-pointer p-2 rounded-full border bg-white dark:bg-hexo-black-gray"></i></div></div><div class="md:hidden"><footer class="z-20 py-2 bg:white dark:bg-hexo-black-gray justify-center text-center w-full text-sm relative"><hr class="pb-2"/><div class="flex justify-center"><div><i class="mx-1 animate-pulse fas fa-heart"></i> <a href="https://bothsavage.github.io/" class="underline font-bold text-gray-500 dark:text-gray-300 ">Both Savage</a>.<br/></div>© <!-- -->2024</div><div class="text-xs font-serif">Powered By <a href="https://github.com/tangly1024/NotionNext" class="underline text-gray-500 dark:text-gray-300">NotionNext</a></div><span class="hidden busuanzi_container_site_pv"><i class="fas fa-eye"></i><span class="px-1 busuanzi_value_site_pv"> </span>  </span><span class="pl-2 hidden busuanzi_container_site_uv"><i class="fas fa-users"></i> <span class="px-1 busuanzi_value_site_uv"> </span> </span><h1 class="pt-1">Both Savage</h1></footer></div></div><div style="width:32rem" class="hidden xl:block dark:border-transparent relative z-10 "><div class="py-14 px-6 sticky top-0"><div class="pt-10 pb-6 text-gray-400 text-sm border-b"><i class="fa-regular fa-clock mr-1"></i>Last update:  <!-- -->2024-04-08</div><div class="py-4"></div><canvas id="live2d" width="280" height="250" class="cursor-grab"></canvas></div></div></main><div id="gitbook-left-float" class="fixed top-0 left-0 z-40 md:hidden"><div class="-ml-80 animate__slideOutLeft overflow-y-hidden shadow-card w-72 duration-200 fixed left-1 top-16 rounded py-2 bg-white dark:bg-gray-600"><div class="dark:text-gray-400 text-gray-600 h-96 overflow-y-scroll p-3"><div id="posts-wrapper" class="w-full flex-grow"><div class="select-none flex justify-between text-sm font-sans cursor-pointer p-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600"><span>知行合一</span><div class="inline-flex items-center select-none pointer-events-none "><i class="px-2 fas fa-chevron-left transition-all duration-200 "></i></div></div><div style="height:0px;will-change:height" class=" overflow-hidden duration-200 "><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/begin">将进酒</a></div></div></div></div><div class="select-none flex justify-between text-sm font-sans cursor-pointer p-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600"><span>技术分享</span><div class="inline-flex items-center select-none pointer-events-none "><i class="px-2 fas fa-chevron-left transition-all duration-200 "></i></div></div><div style="height:0px;will-change:height" class=" overflow-hidden duration-200 "><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240405-cpu">Java程序CPU异常监控bash脚本</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240325-ollama">mac体验ollama本地大模型</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240320-arthas">Arthas简单使用备忘录</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240319-xmrig">Xmrig挖矿入侵服务器排查</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240124-deploy">Java部署脚本&amp;重启备份检查&amp;配置环境</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240121-skywaking">解决SkyWalking在gateway中logback链路丢失</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240119-notion">Notion文章自动同步GitPage</a></div></div></div></div><div class="select-none flex justify-between text-sm font-sans cursor-pointer p-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600"><span>万里长征</span><div class="inline-flex items-center select-none pointer-events-none "><i class="px-2 fas fa-chevron-left transition-all duration-200 -rotate-90"></i></div></div><div style="height:0px;will-change:height" class=" overflow-hidden duration-200 "><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  bg-green-50 text-green-500"><div class="flex flex-col w-full select-none"><a href="/article/240408-LM-02">万里长征-02-跟谁学</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240405-LM-01">万里长征-01-贝壳</a></div></div></div><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/240405-LM">万里长征</a></div></div></div></div><div class="select-none flex justify-between text-sm font-sans cursor-pointer p-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600"><span>心情随笔</span><div class="inline-flex items-center select-none pointer-events-none "><i class="px-2 fas fa-chevron-left transition-all duration-200 "></i></div></div><div style="height:0px;will-change:height" class=" overflow-hidden duration-200 "><div class="ml-3 border-l"><div class="text-sm ml-3 py-1 cursor-pointer px-2 hover:bg-gray-50 rounded-md dark:hover:bg-gray-600  "><div class="flex flex-col w-full select-none"><a href="/article/example">示例文章</a></div></div></div></div></div></div></div></div><div id="left-drawer-background" class="hidden fixed top-0 left-0 z-30 w-full h-full"></div></div><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-XT4YTFWNBG"></script><script async="">
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
                gtag('config', 'G-XT4YTFWNBG', {
                  page_path: window.location.pathname,
                });
              </script></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"NOTION_CONFIG":{"AUTHOR":"Both Savage","BIO":"talk is cheap","TITLE":"Both Savage","DESCRIPTION":"talk is cheap","LINK":"https://bothsavage.github.io/","THEME":"gitbook","CAN_COPY":"true","SINCE":"2024","CONTACT_EMAIL":"bothsavage@163.com","CUSTOM_MENU":"true","CUSTOM_RIGHT_CLICK_CONTEXT_MENU":"false","LANG":"en-US","THEME_SWITCH":"true","POST_SHARE_BAR_ENABLE":"true"},"notice":null,"siteInfo":{"title":"Both Savage","description":"一个NotionNext搭建的博客","pageCover":"https://www.notion.so/images/page-cover/nasa_robert_stewart_spacewalk_2.jpg","icon":"https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Feb3e1328-8f32-4ff5-8d18-8ea80020e175%2Fc5ebdc5a-c3fd-403e-906b-17d64db6d01f%2Ffavicon.ico?table=collection\u0026id=3c6ddc29-47df-43f6-a375-de1c3a9cf466\u0026t=3c6ddc29-47df-43f6-a375-de1c3a9cf466\u0026width=800"},"allNavPages":[{"id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","title":"万里长征-02-跟谁学","pageCoverThumbnail":"https://source.unsplash.com/random?t=9a78ba09-76ce-4344-bad5-f6d60dc0680e","category":"万里长征","tags":["面试","文字"],"summary":"跟谁学面试题","slug":"article/240408-LM-02","pageIcon":"🗒️","lastEditedDate":"2024-04-08T17:08:09.011Z"},{"id":"63830328-e0f0-477a-b327-bc4ab921f89c","title":"万里长征-01-贝壳","pageCoverThumbnail":"https://source.unsplash.com/random?t=63830328-e0f0-477a-b327-bc4ab921f89c","category":"万里长征","tags":["面试"],"summary":"贝壳面试题","slug":"article/240405-LM-01","pageIcon":"🗒️","lastEditedDate":"2024-04-08T06:03:22.365Z"},{"id":"4d955058-b605-46cf-b242-1535b732af30","title":"万里长征","pageCoverThumbnail":"","category":"万里长征","tags":["面试","推荐"],"summary":"常见面试题汇总","slug":"article/240405-LM","pageIcon":"🗒️","lastEditedDate":"2024-04-07T09:23:11.250Z"},{"id":"1b09c4fb-e51e-4b6f-96ea-d7a92ef051d9","title":"Java程序CPU异常监控bash脚本","pageCoverThumbnail":"https://source.unsplash.com/random?t=1b09c4fb-e51e-4b6f-96ea-d7a92ef051d9","category":"技术分享","tags":["运维","linux","脚本","工具"],"summary":"极其简单的监控例子","slug":"article/240405-cpu","pageIcon":"🗒️","lastEditedDate":"2024-04-05T12:17:00.259Z"},{"id":"e8fd9138-663d-415d-9684-24343fb3248f","title":"mac体验ollama本地大模型","pageCoverThumbnail":"https://source.unsplash.com/random?t=e8fd9138-663d-415d-9684-24343fb3248f","category":"技术分享","tags":["工具","推荐","折腾"],"summary":"m1 pro芯片+32g体验了五种大模型本地部署","slug":"article/240325-ollama","pageIcon":"🗒️","lastEditedDate":"2024-03-26T05:49:00.447Z"},{"id":"e013510c-b3a7-4907-b4cd-118b118d30db","title":"Arthas简单使用备忘录","pageCoverThumbnail":"https://source.unsplash.com/random?t=e013510c-b3a7-4907-b4cd-118b118d30db","category":"技术分享","tags":["工具","开发","推荐"],"summary":"Arthas在排查Java应用线上问题的时候有大用处，并且可以是热部署工具，这里我推荐几个我常用的方法","slug":"article/240320-arthas","pageIcon":"🗒️","lastEditedDate":"2024-03-20T04:52:10.213Z"},{"id":"7e13a286-a275-4f48-b9d0-416c9b1368ce","title":"Xmrig挖矿入侵服务器排查","pageCoverThumbnail":"https://source.unsplash.com/random?t=7e13a286-a275-4f48-b9d0-416c9b1368ce","category":"技术分享","tags":["建站","推荐","开发"],"summary":"叮咚！阿里云提示你，你的服务器正在被攻击！","slug":"article/240319-xmrig","pageIcon":"🗒️","lastEditedDate":"2024-03-19T17:15:42.884Z"},{"id":"38e3f997-dad9-46b8-99bb-d3042488821f","title":"Java部署脚本\u0026重启备份检查\u0026配置环境","pageCoverThumbnail":"https://source.unsplash.com/random?t=38e3f997-dad9-46b8-99bb-d3042488821f","category":"技术分享","tags":["推荐","工具","自动化","微服务"],"summary":"微服务jar包越来越多,每次手动上线的时候都要运行一大堆命令,并且每个人备份的jar包名称目录都不一样。故写了一个脚本规定死流程,并且把脚本配置到环境变量做自动补全。","slug":"article/240124-deploy","pageIcon":"🗒️","lastEditedDate":"2024-01-24T07:18:46.139Z"},{"id":"026c5c21-3604-4c0a-a13c-ccb9208e4815","title":"解决SkyWalking在gateway中logback链路丢失","pageCoverThumbnail":"https://source.unsplash.com/random?t=026c5c21-3604-4c0a-a13c-ccb9208e4815","category":"技术分享","tags":["推荐","开发","日志","微服务","spring","skywalking"],"summary":"一年半以前，公司就从单体应用逐步迁移到微服务管理。奈何业务绑定太深，一直在两边混合开发。由于迁移到微服务的进程完成了一大半了，之前在单体项目中打的链路追踪就不太好用了。随即想到了SkyWalking，随即发现了一个大坑，那就是在gateway组件中logback日志会丢失TraceId，网上搜了一圈都没有解决问题，我又跑到SkyWalking的issue中搜了一大圈，发现大佬以下回答，还是得自己想办法。","slug":"article/240121-skywaking","pageIcon":"🗒️","lastEditedDate":"2024-01-20T18:52:32.627Z"},{"id":"ce6b6618-a118-4ee9-b74c-33a848d0f0ed","title":"Notion文章自动同步GitPage","pageCoverThumbnail":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=50\u0026fm=webp\u0026crop=entropy\u0026cs=srgb\u0026t=ce6b6618-a118-4ee9-b74c-33a848d0f0ed\u0026width=800\u0026fmt=webp","category":"技术分享","tags":["建站","推荐","工具","docker","自动化","折腾","git"],"summary":"之前一直使用GitPage+typora+hexo来做文章分享管理，奈何真的麻烦坚持不下去了。Notion是我一直在使用的笔记软件，为了更好的使用Notion我还去看了许多文章。现在Notion已经是我生活的一部分了。最近发现NotionNext，但需要Vercel部署，还需要自己映射域名。所以想着用xx.github.io域名，优雅又方便","slug":"article/240119-notion","pageIcon":"📗","lastEditedDate":"2024-03-19T17:14:00.935Z"},{"id":"d3216be6-1b27-40e7-8677-7404896b7eb6","title":"示例文章","pageCoverThumbnail":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=50\u0026fm=webp\u0026crop=entropy\u0026cs=srgb\u0026t=d3216be6-1b27-40e7-8677-7404896b7eb6\u0026width=800\u0026fmt=webp","category":"心情随笔","tags":["建站","文字","推荐"],"summary":"这是示例的文章摘要，摘要内容可被用做搜索，预览。文章列表默认展示概要；若要在列表直接展示文章内容，可在blog.config.js中配置。","slug":"article/example","pageIcon":"🗓️","lastEditedDate":"2024-01-19T06:18:08.580Z"},{"id":"54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf","title":"将进酒","pageCoverThumbnail":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=50\u0026fm=webp\u0026crop=entropy\u0026cs=srgb\u0026t=54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf\u0026width=800\u0026fmt=webp","category":"知行合一","tags":["建站","文字","推荐"],"summary":"这是示例的文章摘要，摘要内容可被用做搜索，预览。文章列表默认展示概要；若要在列表直接展示文章内容，可在blog.config.js中配置。","slug":"article/begin","pageIcon":"🗒️","lastEditedDate":"2024-04-06T03:31:44.998Z"}],"tagOptions":[{"id":"d9f66761-0396-4e80-be5c-2ab6c7f8ba86","name":"推荐","color":"red","count":9},{"id":"ee932bde-0023-446f-9bb4-17d2022121c9","name":"文字","color":"brown","count":3},{"id":"25b1074b-a3fa-49f5-82cd-a37d85c5666f","name":"工具","color":"pink","count":5},{"id":"1e90f00e-8f1b-4665-8e69-92f0791bde56","name":"开发","color":"pink","count":3},{"id":"2382b30f-9881-4a8b-ae7f-2d34979c4fb9","name":"建站","color":"brown","count":4},{"id":"50765df4-40d8-4098-a1b4-abf97b9ce1d2","name":"docker","color":"gray","count":1},{"id":"114a1313-d952-45e1-8bb5-8bf0b7d3c372","name":"自动化","color":"blue","count":2},{"id":"986f04d2-1cd1-4f47-84ba-2c692e069d93","name":"折腾","color":"purple","count":2},{"id":"88f6276a-b475-4a62-a2b6-438606516ec8","name":"git","color":"default","count":1},{"id":"11c42291-5274-44a7-94a3-f4af3382896b","name":"日志","color":"red","count":1},{"id":"e89abe8e-9228-48f8-8bb0-582d8343eb91","name":"微服务","color":"red","count":2},{"id":"c002f5d1-02d9-41b0-954e-6f6a5978b3e0","name":"spring","color":"purple","count":1},{"id":"9fb08037-26be-4513-a5b2-ada51bcfeb9c","name":"skywalking","color":"blue","count":1},{"id":"4db60a02-14cd-40e9-bf53-0f4c30547a4b","name":"运维","color":"gray","count":1},{"id":"bda76598-5cfc-492c-83ec-f17afb09b0c7","name":"linux","color":"orange","count":1},{"id":"c52cafb9-814a-4408-b23f-d195d9fb314a","name":"脚本","color":"orange","count":1},{"id":"531ca54d-1302-4bcf-83cc-b389e9d9a35e","name":"面试","color":"yellow","count":3}],"categoryOptions":[{"id":"a4dcd33a-34a7-4c33-b9c2-92d3a5248f06","name":"知行合一","color":"pink","count":1},{"id":"8282ff59-f160-40c3-ab7e-6e970a0a64d5","name":"技术分享","color":"purple","count":7},{"id":"edd604ab-fda7-4d9b-964a-e7de536c05a0","name":"心情随笔","color":"orange","count":1},{"id":"350fdef0-67f5-4e99-a661-24fd57c306be","name":"万里长征","color":"green","count":3}],"customNav":[{"icon":"fas fa-home","name":"主页","to":"//","target":"_self","show":true}],"customMenu":[{"id":"5263856d-837a-4f2d-bfc6-24cbff6c946c","icon":"fab fa-github","date":{"start_date":"2021-03-13"},"type":"Menu","slug":"https://github.com/BOTHSAVAGE","summary":"这是一个指向外部地址的单页","title":"Github","status":"Published","category":"","publishDate":1615593600000,"publishDay":"2021-3-13","lastEditedDate":"2024-01-18T16:12:17.114Z","lastEditedDay":"2024-1-19","fullWidth":false,"pageIcon":"","pageCover":"","pageCoverThumbnail":"","tagItems":[],"to":"https://github.com/BOTHSAVAGE","name":"Github","password":"","show":true,"target":"_blank"},{"id":"29e65d89-d04e-4ee3-9a9d-2f8856ed3055","icon":"fas fa-archive","date":{"start_date":"2023-03-23"},"type":"Menu","slug":"#","title":"往期整理","status":"Published","category":"","publishDate":1679529600000,"publishDay":"2023-3-23","lastEditedDate":"2024-01-18T16:12:17.113Z","lastEditedDay":"2024-1-19","fullWidth":false,"pageIcon":"","pageCover":"","pageCoverThumbnail":"","tagItems":[],"to":"#","name":"往期整理","password":"","show":true,"subMenus":[{"id":"d88da7cd-eebc-4c92-b9c3-53910376ab83","icon":"fas fa-clock-rotate-left","date":{"start_date":"2021-07-02"},"type":"SubMenu","slug":"/archive","title":"历史归档","status":"Published","category":"","publishDate":1625184000000,"publishDay":"2021-7-2","lastEditedDate":"2024-01-18T16:12:17.115Z","lastEditedDay":"2024-1-19","fullWidth":false,"pageIcon":"🗒️","pageCover":"","pageCoverThumbnail":"","tagItems":[],"to":"/archive","name":"历史归档","password":"","show":true},{"id":"7d039e15-c906-470d-b781-943032713368","icon":"fas fa-th","date":{"start_date":"2021-07-02"},"type":"SubMenu","slug":"/category","title":"文章分类","status":"Published","category":"","publishDate":1625184000000,"publishDay":"2021-7-2","lastEditedDate":"2024-01-18T16:12:17.114Z","lastEditedDay":"2024-1-19","fullWidth":false,"pageIcon":"🗒️","pageCover":"","pageCoverThumbnail":"","tagItems":[],"to":"/category","name":"文章分类","password":"","show":true},{"id":"e746c4ee-0327-4529-85ac-7059a10091d3","icon":"fas fa-tag","date":{"start_date":"2021-07-02"},"type":"SubMenu","slug":"/tag","title":"文章标签","status":"Published","category":"","publishDate":1625184000000,"publishDay":"2021-7-2","lastEditedDate":"2024-01-18T16:12:17.115Z","lastEditedDay":"2024-1-19","fullWidth":false,"pageIcon":"🗒️","pageCover":"","pageCoverThumbnail":"","tagItems":[],"to":"/tag","name":"文章标签","password":"","show":true}]}],"postCount":12,"latestPosts":[{"id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","date":{"start_date":"2024-04-08","date_format":"relative"},"type":"Post","category":"万里长征","slug":"article/240408-LM-02","tags":["面试","文字"],"summary":"跟谁学面试题","title":"万里长征-02-跟谁学","status":"Published","publishDate":1712534400000,"publishDay":"2024-4-8","lastEditedDate":"2024-04-08T17:08:09.011Z","lastEditedDay":"2024-4-9","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://source.unsplash.com/random?t=9a78ba09-76ce-4344-bad5-f6d60dc0680e","pageCoverThumbnail":"https://source.unsplash.com/random?t=9a78ba09-76ce-4344-bad5-f6d60dc0680e","tagItems":[{"name":"面试","color":"yellow"},{"name":"文字","color":"brown"}],"password":""},{"id":"63830328-e0f0-477a-b327-bc4ab921f89c","date":{"start_date":"2024-04-05","date_format":"relative"},"type":"Post","category":"万里长征","slug":"article/240405-LM-01","tags":["面试"],"summary":"贝壳面试题","title":"万里长征-01-贝壳","status":"Published","publishDate":1712275200000,"publishDay":"2024-4-5","lastEditedDate":"2024-04-08T06:03:22.365Z","lastEditedDay":"2024-4-8","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://source.unsplash.com/random?t=63830328-e0f0-477a-b327-bc4ab921f89c","pageCoverThumbnail":"https://source.unsplash.com/random?t=63830328-e0f0-477a-b327-bc4ab921f89c","tagItems":[{"name":"面试","color":"yellow"}],"password":""},{"id":"4d955058-b605-46cf-b242-1535b732af30","date":{"start_date":"2024-04-05"},"type":"Post","category":"万里长征","slug":"article/240405-LM","tags":["面试","推荐"],"summary":"常见面试题汇总","title":"万里长征","status":"Published","publishDate":1712275200000,"publishDay":"2024-4-5","lastEditedDate":"2024-04-07T09:23:11.250Z","lastEditedDay":"2024-4-7","fullWidth":false,"pageIcon":"🗒️","pageCover":"","pageCoverThumbnail":"","tagItems":[{"name":"面试","color":"yellow"},{"name":"推荐","color":"red"}],"password":""},{"id":"54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf","date":{"start_date":"2024-01-01"},"type":"Post","category":"知行合一","slug":"article/begin","tags":["建站","文字","推荐"],"summary":"这是示例的文章摘要，摘要内容可被用做搜索，预览。文章列表默认展示概要；若要在列表直接展示文章内容，可在blog.config.js中配置。","title":"将进酒","status":"Published","publishDate":1704067200000,"publishDay":"2024-1-1","lastEditedDate":"2024-04-06T03:31:44.998Z","lastEditedDay":"2024-4-6","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=85\u0026fm=jpg\u0026crop=entropy\u0026cs=srgb\u0026t=54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf","pageCoverThumbnail":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=50\u0026fm=webp\u0026crop=entropy\u0026cs=srgb\u0026t=54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf\u0026width=800\u0026fmt=webp","tagItems":[{"name":"建站","color":"brown"},{"name":"文字","color":"brown"},{"name":"推荐","color":"red"}],"password":""},{"id":"1b09c4fb-e51e-4b6f-96ea-d7a92ef051d9","date":{"start_date":"2024-04-05","date_format":"relative"},"type":"Post","category":"技术分享","slug":"article/240405-cpu","tags":["运维","linux","脚本","工具"],"summary":"极其简单的监控例子","title":"Java程序CPU异常监控bash脚本","status":"Published","publishDate":1712275200000,"publishDay":"2024-4-5","lastEditedDate":"2024-04-05T12:17:00.259Z","lastEditedDay":"2024-4-5","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://source.unsplash.com/random?t=1b09c4fb-e51e-4b6f-96ea-d7a92ef051d9","pageCoverThumbnail":"https://source.unsplash.com/random?t=1b09c4fb-e51e-4b6f-96ea-d7a92ef051d9","tagItems":[{"name":"运维","color":"gray"},{"name":"linux","color":"orange"},{"name":"脚本","color":"orange"},{"name":"工具","color":"pink"}],"password":""},{"id":"e8fd9138-663d-415d-9684-24343fb3248f","date":{"start_date":"2024-03-25","date_format":"relative"},"type":"Post","category":"技术分享","slug":"article/240325-ollama","tags":["工具","推荐","折腾"],"summary":"m1 pro芯片+32g体验了五种大模型本地部署","title":"mac体验ollama本地大模型","status":"Published","publishDate":1711324800000,"publishDay":"2024-3-25","lastEditedDate":"2024-03-26T05:49:00.447Z","lastEditedDay":"2024-3-26","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://source.unsplash.com/random?t=e8fd9138-663d-415d-9684-24343fb3248f","pageCoverThumbnail":"https://source.unsplash.com/random?t=e8fd9138-663d-415d-9684-24343fb3248f","tagItems":[{"name":"工具","color":"pink"},{"name":"推荐","color":"red"},{"name":"折腾","color":"purple"}],"password":""}],"post":{"id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","date":{"start_date":"2024-04-08","date_format":"relative"},"type":"Post","category":"万里长征","slug":"article/240408-LM-02","tags":["面试","文字"],"summary":"跟谁学面试题","title":"万里长征-02-跟谁学","status":"Published","publishDate":1712534400000,"publishDay":"2024-4-8","lastEditedDate":"2024-04-08T17:08:09.011Z","lastEditedDay":"2024-4-9","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://source.unsplash.com/random?t=9a78ba09-76ce-4344-bad5-f6d60dc0680e","pageCoverThumbnail":"https://source.unsplash.com/random?t=9a78ba09-76ce-4344-bad5-f6d60dc0680e","tagItems":[{"name":"面试","color":"yellow"},{"name":"文字","color":"brown"}],"password":"","blockMap":{"block":{"9a78ba09-76ce-4344-bad5-f6d60dc0680e":{"value":{"id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","version":1004,"type":"page","content":["d3a0bda2-a966-4861-aa0f-7a641ec5b633","1fe2c7b1-d200-44eb-b559-5a1f9ad1b765","a59214f9-df56-4a93-9829-367651e0dcb0","80097f4c-9b86-48bd-9936-2ec481b2c9ab","9fc5fcd6-3fb3-4c4c-bce8-af9b81641905","91b7ef81-c289-41fe-a8c9-5046d3f41923","a4de193c-c56c-404f-a23b-c7aaee0940d2","ffa13876-3f06-4ee3-ab91-e5ce88d2b005","c10c635e-6308-4f80-b0bc-185f8a6c6096","6a7d5026-4140-41ce-9e62-7eeaf2f484a1","542ba936-d632-43cb-a93b-9658bddd7720","93ac5e04-d279-4854-949f-3ff531979b16","2777df4b-687f-4398-ab66-4aa9f854f5f0","c4832952-7105-470c-9f44-2e3780516402","e4b5d6a3-a30f-40a9-885a-b06e970843b0","623c0c4b-f1a0-4c19-8685-adc89f79cf27","8ef4c41b-eb08-448e-8bb2-37576638a1dd","072908f5-92ea-498f-ad75-e4f8f8d4d53b","d56ba84d-fee9-45d5-bd85-dbf9a580507d","ca3dd93e-3b1c-4add-9e74-98895ac7b590","14a0ed64-9e71-453e-a5e3-88ee50d80844","34a467a4-e5f7-4c12-94bd-3a8dc72427b6","0a0bc967-2b18-476a-8b4b-f3c351472312","13991992-61fe-4521-9176-e979630aec82","03149589-78ee-4443-8f38-ce653c7839e0","700878a6-c65e-410d-9f44-c75de19ae942","47609369-8125-4835-8505-dc170a251161","c6eca5f6-f31a-474a-8af5-e9f2c1b09b79","c3d411d7-0afd-4163-9501-a5186dacfa8e","0c1e5e83-3222-4954-931e-211075399baa","fabd9d7b-7363-4fee-a111-e1ca5e594376","a8b8fa3b-e053-4db3-a992-6a02789309c6","24baaf3b-f01a-47f7-91ff-1e4c313b7747","87d12307-20cf-4cd9-8322-9a8c1043995d","5dda5b60-fe5c-465b-9b7a-a751b148d419","debfe1b5-a58f-4200-a93b-cfd04564f8a8","c6158c40-db10-44b0-8c86-833a34f39b98","a4f29450-cc0e-4683-a9dd-1d0beddb1651","77258239-91bd-434b-a538-dc492bfb5f5f","0e137ff7-c4d7-4152-afc8-f79bf48d6c55","42236ad1-4887-402b-a30f-80fdfcbd9feb","2749b679-9cbf-4fff-9a24-98742cf87751","1018b604-6a35-4dd9-848e-f8e397053df7","3f27258a-689f-4efa-b1e3-5be0d2d027c5","14445b43-cad1-4e57-8026-294d44925746","34487776-5497-4545-a046-53007c910bf3","24110269-8bb4-4dda-b976-e4dc27f8d49a","d4a92abf-b6a5-489d-9d0a-956d6970a7e2","08e46138-d832-4303-9082-28b70f64d913","6a5e682c-e3c1-4681-bf82-f5c8c8565c91","688f0bf3-568f-45ee-81b9-403c14ea17ba","0d46b99a-3763-424e-8894-7a799fd6dfe2","f048549e-6ce9-40c0-84cb-9538806d956b","9abd68a0-fd30-4736-abc4-1349afa7f49e","1b5bb1c9-7d56-4061-9785-917f8158fee0","b9ddd0d9-1790-4163-92da-d7f12dea2f9e","aa46f8d3-26f3-432d-85d0-b8ae393dc9cc","91b70bf0-b5e8-4a20-84a9-f55fe4f4a4d9","98976d60-507e-41eb-9a7a-7b596ddc3321","882a3580-0be9-40e6-82ac-4bab27c43ba2","02309e5e-08c3-4749-858a-8fa7c80d0dab","f804b57a-103a-4a96-8a5c-6fccdcf2a9c7","c32aa622-f15e-44a5-97f8-5df99fca48e2","4af9a0cc-ecec-4fb6-aa3d-690ee6d06b51","87461336-26b4-405a-b379-e2b02fe6d221","9da2714f-aa6c-4b74-b1f7-9614c5ff4b09","9058d545-c4c9-4402-9a3b-576d58ce4130","b7302dfd-0280-40eb-865d-dc48f6f0e269","502bf2e0-9d35-4d47-b565-ae4a9d69e944","b39e6166-90a9-4465-8073-7be3606c9e46","434354ac-7b65-4abe-8354-504ada01c2b1","62a9d1b5-1125-4eba-ba1c-4135e18c4a83","711c4e42-c8d6-43b2-9b4c-cb02485a4b97","00e21033-e31a-4bb1-a10b-988ccb3b641f","2d672bd7-599d-48ff-8364-fcb792ca9db2","1f4bc2de-b7ce-4e10-acc9-d7fac4c96fb6","e2322e43-e963-47ee-b2e4-63eff6cd8909","9e1f4135-c258-4d50-a41a-8628fafa06ff","b6b71e09-27aa-4152-ad9e-bfc53538962f","1456be54-5b0f-4d74-9e6d-bc9588dff4e2","9455e271-ba3a-4c7b-9008-2f8a846a7876","7d9a1253-4ca8-471f-b830-2f32456ff5c5","f4299ad8-b560-40e9-becd-583ee22a163a","6d611ac6-7817-44c4-872f-91939752f346","861ddcc1-518c-40dd-9aec-4b1653dd9b2f","4fe06e0a-988f-45eb-8ae6-7d74bb4c6f48","f9a28f5b-20ee-45b1-bbeb-882f1d18598a","1d2e562e-e2ff-422f-a5dd-1d3f9d6e372b","3544d2b5-f23e-4f41-a2bc-4be91c31ab61","adf42e64-ea16-4c32-8bbc-cfe3428a10c2","7a0fc2f4-69a5-466a-bb84-d67440dab4c5","87f05ca5-494a-4d30-8967-4cdea837b9c6","dca20905-e5ed-4fd0-bc94-bad04a521c54","079003e7-3003-4205-bb70-47ee6de6c3a9","a5117771-720a-45c3-bce2-1ea60bfaadaf","f7ac0b7c-4e02-4d27-9211-fe35d2c7af0a","85b6dc8b-22e0-450a-bfd1-101302f4d1a4","ddbc08d5-afdd-4ce4-afec-6e3fb8328106","75f6c685-0009-4133-b82b-1b4f09052f42","6383b863-63cd-447d-92e6-5b4a93aa078c","c4247cc4-0a69-41d1-af74-e76ed7389b1b","3919e1a2-4dc6-40bb-a618-5bae4f8619b8","3017d86d-af6e-491d-911d-05897b109865","a0870cce-2487-4359-a5bc-1e24e23497b7","fd0ebc6d-e5bc-4f9f-beea-4eeea24b199c","81b95175-76c1-417c-8c94-007a9208277d","61a67d4b-1bc3-4056-8904-d05f0eef3c66","2e8129a2-e97f-4632-a4fc-12443036ef71","7a77d366-db86-41b5-a144-dc34cf4e6a83","7fac6471-5ec1-4e67-8387-30e92c6fc053","e38bf574-3b9c-4aab-a187-9f0257962b65","6b25396e-283d-4038-a956-9ae71b8ebf82","1945ff1b-f605-450a-83c0-ac0a3b286184","c96bcf4d-23f4-4998-81ec-80c85df71b91","d85ef88a-350b-4e56-b8a7-5e9f2f01cf4a","962cb662-c38b-4438-b3a4-df15d28b90f6","f32fa49e-4cf8-43de-a1a3-7f22588a18bb","0a3a5067-4a7c-4044-82d9-fa8cd828e3d4","48166259-1d2f-4ce3-927c-33061da94f03","bd849e8b-ff5b-493d-98b0-e3a5a9bd6a8e","13171ab9-3e39-4a7a-85c2-08d10e92698f","9cc800e8-289c-472d-ac58-022feda832c7","47e82160-ecbc-46bc-ac91-f39f0cff236b","ed9d4efb-59bf-4e29-a0fe-eafef875dd2b","d7bd43ee-d8e8-43cb-8a74-983a002c2342","b91fd63b-5e0f-4e82-9e21-b30d2e189152","43a2f8e0-1635-43be-97be-05f8806b6735","b733b4d6-6546-4f92-94c2-495c28098053","e2c9ce68-f03b-411a-9bd2-9ead8a71f125","718a42a7-4cea-4cde-8301-8cb5e90102fa","45417877-fae7-4b1a-a5ba-50d952910861","e416bcdd-6b48-4318-a3a5-562b1358d5a7","9f825b51-974d-4a57-b489-d88f03c7a43a","e6b65893-e042-416e-8cdf-b6fed61e9a45","6d3bc565-c3ca-4f60-840f-5c3eba79e119","117b0e27-b2d7-4315-968a-094fee850a1f","79b0ecb1-5769-4e5b-8847-2c641a7b377f","1d3127c9-2a09-4f0a-845f-b3eaf9b12bd9","8a5d4af5-a99b-4f40-af9e-76684d38765e","dc52d713-7845-495e-85fe-fb0feb9c67b7","3b53d0e0-8126-4164-b655-8c45bd2984f9","c8d1cb6f-2905-4968-a04b-afbe302affc7","73e4bd9d-053b-4dc6-bebd-73a95113dbc4","4d8d2022-d8b4-4815-92f4-e15848a1d846","8b93f5f7-7123-405d-8dab-ecb7c31e6e31","f5bfcd3d-0e72-426f-aab1-16a1b9e2a999","fb1ccdf2-c4a8-4532-8278-9fd4163a97c2","24dfb7b3-a799-4e55-aae4-9023737ebe80","25110e28-f012-4a67-b11d-c2dd4575be29","6934f9ce-191d-4ce5-942a-77a127fec3be","2b403179-1a6a-4aac-aa17-2b66a613eb81","dd7e9e63-9d72-4921-a188-09dcb450ed72","52fee632-7f3b-4822-8869-3d4d9efeaf4f","2ee590ab-3c01-4921-849c-1df256e6b694","ad8bd99e-80cf-4d5b-8510-bafd1ed7ec2e","41be8556-7f91-437a-ab77-b9e776129c21","3fe8d752-1a3d-4442-82bc-75f3806f198b","f9b1b730-e6c6-49ac-ba8d-24bf02e45a47","e8f8a167-7c4d-4588-8b83-0ab7d1048e59","27274856-82e7-4b78-9bdc-8d8ed30625dd","6ecc4296-2619-4578-8e40-609a814d0de7","a4084185-870f-42c7-8e6c-8c9e4b87a671","64669192-a93a-44d3-b393-29c22c1d3fdc","2a403baf-e553-4fc7-b3b9-1d7dde765b61","a286ebf3-c50c-4358-ae51-2a2a2a16643b","3f918c65-f4c0-480e-9126-9d0fd0b40262","80f1c4e4-2fba-4806-8df2-5f694e924e00","52016cbd-b135-4472-942b-3b6a8521ff95","a8ca918b-81d6-45da-a1e2-38b200536f30","3a47ceb0-d923-4bbd-af65-702f1dc0f219","6cf4cf2d-c501-43fa-acce-dbee44be5429","c69da88b-94f9-4294-9057-278e67df3198","787be75f-ddd4-4011-ab2d-0dbd140a8792","4a3bb805-8893-49f5-86a9-df810fdd5d4c","9c919695-0e1a-48ba-930d-ce3ba56d25e8","61707885-7623-4de5-83e5-9138401f14c3","327e92ea-2f1d-4a43-a8fd-e92c1e658647","00b1ae27-2fd7-4cd2-bd13-cefc2f64e17b","a1ea2fc0-a045-43b8-9ac8-587e0ff7e616","1a9f9684-b654-4cb7-823d-1e226f399d79","63276715-3dc1-4e19-be44-996b52e7695c","0ad28190-328c-447b-9107-64bc7fcbdb2d","3974a1bb-cf31-4f1e-b631-3a0fb934ceff","1b4b8568-8c76-4faf-a1d6-8fa8a938dd97","4c84eb93-a6b3-42ba-822c-a2dc9186b6c2","3f5df400-5167-4203-91d8-33e2722ccbfc","5b6c6b03-0801-4ddc-a359-217438f11ef1","2069a0e2-4075-4f93-9884-9827ffc4efd4","37a34f20-526e-4e14-aa46-54bd9f9a5dec","751971aa-d8b2-4988-8b97-71b0e053c4ac","56254ec1-5be1-4101-bf88-46ed83c065cb","0c31f2d7-c4de-42dc-974f-f69697a354ba","2883ad42-b2c2-49d4-abf2-73c3a1f7ec3b","4134a69f-f960-46bc-a919-1a6c5961a32c","679c0ac3-b61d-462f-873e-95512bf53534","15cbeb95-7d43-4517-bae7-502daadde547","36e3c748-966b-44c5-8a8c-2e7906b1d8bc","33aefaa8-d562-463a-9865-b1eb2438874b","7a8f86bf-f7d9-47df-b6a8-718ec1fac9ef","3a99eb90-cf2b-4430-950c-aa31ca4645ae","610daf1e-e643-477e-bbc9-64d181d54b59","43e6e2d8-91af-4046-8709-a48ab1e23e63","5f9f0901-b6e1-43bd-94e4-782fd86bd760","6bf427ba-1e60-498c-895f-74ab24dea6c0","c9816bcb-69e1-45bb-afde-ae9d2511c0c8","ba4c471e-c867-4bba-8372-1d9e42b1bbc4","c193321b-a43c-4abe-8028-017e19a39a4a","51086886-1e2f-41fa-a8fc-80b03b189de5","9b562033-6e23-4213-80f1-ca7c3aa9021b","43ec7bd2-97cd-45e0-b9b1-be0d13c2098b","8cc78461-688e-4ce8-90ae-e9d06a3fa2d0","e85ba214-079b-4106-bf6e-8c9cc04eda1a","8a2cdc35-7af5-4b9f-abf4-4c1ad8f8cb7a","3194faf0-5f20-4e64-9bd7-33ce3a00490a","0d691344-0287-41db-a4dc-6efc90121b26","990c119d-5e64-4248-bc7d-5c193e2d7173","caa2e594-3ded-44df-aed3-ccae00e00bff","d8e91a74-f393-4541-85de-b0d9994b8590","1dfb1717-e797-4dfa-8bc8-7576babf8a4c","60783dcb-447c-48fc-b679-53f61d23744a","a42aa0d6-da55-4e18-a76e-c80fee9aa7a4","a5a5fdaf-7afd-4e35-a57a-995e3aa65416","2532841f-e3ec-46de-9139-e66fce35b43b","0be83ed9-fdf0-4331-9ae0-d806fed28b34","1707fe6b-6b11-433e-a1bb-f672dab6a492","2e452753-191d-40b2-8615-088e30e75c05","065eeccd-fa3d-4cf5-954f-208414f1dd91","427d4469-ee94-49f4-9583-fe087a99d192","1becf461-3302-494a-8f73-dfc596c59193","2723fa6b-23e7-4815-936c-12f8b19010f3","ffda016d-a6e7-44be-a6af-9ece8a4d2a23","e598b28d-835a-4d58-a42b-82461b32f6bb","ea92814f-36ce-4304-8034-36e2c44c93f6","5a9d70c6-99d0-4352-bdb8-16791c1842b0","84e00d77-484c-4359-b1af-dde2f737f35d","cd62eeef-748c-4be8-b2cd-8da35a903164","7e0a27ac-b471-4178-bd51-ea8d15dc6469","a5fb770c-2029-4108-823c-42d958eeb6b1","2e55e855-2762-4667-bc2b-5b48115efcad","b56e8256-87ec-40bd-b09f-cdb1d402ce53","2bb428fa-2753-4e8a-9df2-15593379b9a7","0b3bd01e-b4fd-4b97-8a8d-16f92ab17fb6","faebcb8f-b5a2-4126-94a6-74d6bffdf43b","75079c74-3939-4a9c-9e6f-6dcc010671b1","42afb93b-82bd-435c-85e4-098c8f66fed9","a0edc27e-d223-4501-bd58-a7c375da5edf","ae37d0c4-d4fc-41a1-89e7-478a080019ae","52aef311-2398-4309-bc49-c4f966fa1f45","3c60c16e-c7a4-4ff1-a021-ef96f4d2e28f","15e6c3d3-453c-4aed-8a1f-fe517631ae0d","c516fdd3-b3b6-47b0-8ea0-72723230c1c0","cedea19a-39e4-414b-90d8-d430810d6431","f3607935-3534-47d8-9a67-6bd991bcc74d","ce613549-c399-42e2-b6f4-d40fc9f1c3a7","9955cfbd-4850-4ce7-a7bd-fc8299fd0619","98717c97-3877-4265-a90b-b0e54c956b95","00e0f457-b594-4314-a725-5cf0eb171fb1","12d42d70-85cd-410d-a2a3-28ab6f8591ae","471e2e8b-2905-49ef-8eec-0c69adf417c2","6800a277-744f-47b6-bbce-80d55edef89e","e0eeec95-ae50-49ff-b8fc-2e1d99a1ee82","41779ac5-4ab7-44ff-9ec1-ec0e552b26b8","44b4e904-beda-48d7-adbd-9fd5c07c9a45","3719e695-ca2a-46c6-8581-ccddf01dd42a","f5748415-9a54-4ec1-a39e-70b07c43a2d3","a3d78ec6-0f34-4e65-ac1c-8991f373c006","d6e00fa4-d290-4908-8a5b-1e44bdcedb9a","90930151-7c67-4de3-9c46-793dc08f662f","82c86df4-4397-4f8d-bf29-0e191a49b912","e3648d0a-8f62-4525-828a-aa38ab6bea3f","ad8f091b-438c-481b-bd2a-46c00310d6af","d746ed99-61e4-42cf-8832-80680a2f5988","c92967e3-ab81-4ce6-9c75-678738bbc7d1","7a15eca8-ddf4-44bb-aec6-e5ab1bdd99c5","faf949fd-61b3-4c5a-8ef0-03d42cd909cf","907eaab2-2a8e-405e-b92c-9383795fd26c","5a5537cd-512e-47f6-803e-33c3e1869b71","5912ce03-87b1-4532-9eca-1ec30c4f8a45","27026dfd-1bfc-4a90-8a52-072ab21ec7af","9265e4e3-9a53-4787-a6bb-704190f54122","00d4479f-81cb-48af-bc7f-89e84970d19e","501d0801-cbe6-436a-a070-a3135f667555","cadb7d65-b3f4-4cde-9067-b0d7692ff1c1","746610d1-41b6-4b75-8059-42feabb87562","27a5e7b0-8bb8-4e48-b340-cc5e400cd3ac","6473a9c8-e013-486e-a3bb-1ed6e272948b","36015b95-8686-4982-a7fa-575f3f5b5f4d","ceaf9c24-c2c8-4f8d-9f98-c975b6a7ad76","98c6e6a3-290d-47f1-94f5-f79afdedc1bd","a302cb8a-aab9-4b4a-81a3-4f804903b6a7","5030f909-9491-4faa-bf03-43aa0377e2ca","7b8f8ee3-c184-470b-b5ac-994dc7b08117","dfb96d40-f9a5-42fd-bf6c-97ae0f410899","854248e3-f012-4f56-bce7-4ecc81887fe0","723782b0-b99f-4268-bf5d-4a80838aa0cb","93798a96-651f-4c53-8e4f-fe95eb18029b","dc0bcb1b-b278-48e8-bf28-546af8288389","9608e593-f9b8-484c-be6e-0a8d0fd9fca6","26792acc-7d13-438c-ad28-f82c7af4efbc","9c2f6448-3dfd-4228-a8c0-48f5799b2cf4","55c4dd0a-8dea-4699-ae95-926bd9cab471","91e31a11-07f1-4df3-9c0c-d32bcf7227cc","33bc32d8-ea4c-4041-b237-c150724db36e","6fb2fd9b-2595-45d7-9e41-9108999e4d99","8e19783b-6a0c-46db-b3c1-1b62c6c39ca3","b620e8b7-858f-4362-87fa-f2f8c933c7a4","53fee745-cd9b-49f6-8be3-32cd08204a0d","ae2842c8-73d8-40d2-b348-a7af2d76b055","966d6414-add4-49e7-9c3d-468832755819","fdaebb18-427d-4fb8-99ad-619b164b58df","f96465f5-7a8b-4d1c-9bb0-74b535a1b628","71edb051-4fb4-462d-8532-c2a3ffffcfb5","d6974531-d3b3-4cfd-9198-b8454fb2c249","ed7a22d4-4fb4-4a8a-9380-9f05f4b15404","d3aba15b-095d-416d-badb-aa7f0aa79eeb","d3b9335c-d396-4f37-9f71-16c73430de64","1679a121-58c9-4910-b66b-994c2999fab2","e0aec8b1-4f7d-4383-a179-29ce91ad649d","65625213-288e-476e-9d1a-67ef298b83e0","0c6fb3ad-96ad-4810-8562-a871cba5f18e","a1bed919-3ddf-45b2-9510-fe8fa9d4c76f","9aac1b04-c473-4623-8583-63bd5814942e","59f3ab0a-7af8-4017-9409-411f7fab3467","54a10feb-eb82-4f0d-b8b2-f47380d85ca4","cd558360-d8c9-4e94-a9e9-5763359bcab5","178eca01-4476-47a5-9f09-71f182055321","be768174-9882-4675-9ce2-3225d6b821e9","aa760448-48c4-405c-a1e0-6331b4e58ef4","c15e9201-afbe-45c0-8ef2-f404b0060e97","58b0a2ca-a5b6-496b-9ae2-763a0764f01e","cfc62533-db26-4ff1-bf5a-370ba47259d2","09b7a032-42a4-4f07-a749-a178b90432c7","e6def999-3fef-48a6-a0c7-6e423ff0fcef","3c95889d-8816-49af-be7e-87fa60cca209","e989ef8e-ba36-4492-8bf7-c800ea215133","2b30fdea-aaf6-4f18-b21f-3d0d6444da73","a4a15b3a-2715-4e44-8c7b-8b6abbb59152","10d6f3e2-726a-4f7c-8f2c-d78b5a0bd9e3","1de1c413-de15-483c-a600-8ecb0798aa07","47d28b5a-3335-4ca5-93ea-fb6f7ad2ae15","660dd60b-81f9-48a7-85a6-fa38ad3cdf58","4d53bb8a-ba19-4874-ba44-e308227b8170","1d06df64-fa33-47db-9dd1-7d21670175f8","bf2aebe2-92f8-4556-a0ec-ec01bd2e16ef","3fa6de04-3680-44ff-8148-57a55db46d87","9a29da8c-c945-4f42-9577-3fdcd38af933","89264c00-5407-49b3-8525-812994752253","7fbae67b-78d1-40d1-a68c-fd984e349cca","a7455e62-6660-482e-ba23-e534b11c3008","fa769d98-f4f3-4506-874a-e14e3ae3d5e9","39bd2e2d-27ac-4362-9791-ddd9a5469d1f","996704a5-d3f2-4c14-8574-d8078b218b30","7a9b4c33-20e3-458c-9bb3-9b4210ede657","13699824-a525-4ff0-9edf-4d3111824bac","f0ff9bed-ae72-4e84-9ce9-0a6f976b6160","88dc58a8-b5c7-4f50-a9e3-a3839b637ccb","bb432472-934d-4a8e-8933-996db5b994b5","db0bd158-c878-4687-b13d-654a9de18cd1","bad1ac53-c6cb-4c06-8af8-bebbe9c6cb18","58db0c21-fad6-4157-8f10-62714e1d4e50","46424f60-b8b7-43fd-8197-fb7ac6b3ecb8","af1983de-6ec6-4309-8d5f-098f070885f7","d2e4efba-43c1-4c89-8024-694a7ac12630","9fa90bd2-4c6d-42e9-8f9a-9abc269f6736","176a8c64-8b0e-4893-ad7f-9c6d3d1eaa07","d74e77bb-6737-4403-ab2d-befd9af03c09","e085e9eb-7f5b-4660-80c6-b615e2baddc4","5c3d6abd-cddc-4cfb-9a1b-43312e37885f","e9b2019d-85bf-4f22-9603-39e9fb391ef3","47fadf5e-1a5c-4954-9e18-f4ec413f9bf7","858e6e83-fdcb-430e-a312-4fba35c62f16","0a7ed53b-47d7-436e-abe8-868de3d4ebbe","ea6dacc9-d3d2-4d8e-a3ea-56db91ea8842","5ee0d17e-46ce-4124-aa38-895caf65081b"],"format":{"page_font":"mono","page_icon":"🗒️","page_cover":"https://source.unsplash.com/random","block_locked":false,"block_locked_by":"e3bce58f-88e9-475b-8d52-370cf8e95e16","copied_from_pointer":{"id":"77f4d759-8660-4888-8d35-4214be459ba1","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"page_cover_position":0.5},"created_time":1712556016393,"last_edited_time":1712596089011,"parent_id":"3c6ddc29-47df-43f6-a375-de1c3a9cf466","parent_table":"collection","alive":true,"copied_from":"77f4d759-8660-4888-8d35-4214be459ba1","created_by_table":"notion_user","created_by_id":"e3bce58f-88e9-475b-8d52-370cf8e95e16","last_edited_by_table":"notion_user","last_edited_by_id":"e3bce58f-88e9-475b-8d52-370cf8e95e16","space_id":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"role":"comment_only"},"87ff73a8-1273-4f5f-96c1-cd1becb07207":{"value":{"id":"87ff73a8-1273-4f5f-96c1-cd1becb07207","type":"collection_view_page","content":["50fa88a0-6936-488c-8abc-b558b6a7b0d6","e027b6fc-d75a-43a9-92b1-d5872e5b0780","1fc93bf5-4631-4f85-90f5-362d6a9f69d5","4a3f60f2-b147-4303-b805-e3c775b287a5","c456b9e9-f33f-4c0f-a198-5e90d708c5e4","95d5d8be-c6d5-44e4-a06c-bbb8b5532918"],"view_ids":["8e40545c-4d1c-4299-8605-c04d7ab6872f","818d9fe2-a27d-40ec-b827-614939109ca4","ad494b39-a38c-415e-9221-325f0f9be280","58c6fb90-5030-4627-8bad-38b57c3253cd"],"collection_id":"3c6ddc29-47df-43f6-a375-de1c3a9cf466","format":{"block_locked":false,"block_locked_by":"27074aef-7216-41ed-baef-d9b53addd870","collection_pointer":{"id":"3c6ddc29-47df-43f6-a375-de1c3a9cf466","table":"collection","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"copied_from_pointer":{"id":"19c33d8c-a320-4635-ab97-ddf00a96c478","table":"block","spaceId":"2a229231-539e-420a-9652-17ba8be4cd18"},"page_cover_position":0.6},"permissions":[{"role":"editor","type":"user_permission","user_id":"e3bce58f-88e9-475b-8d52-370cf8e95e16"},{"role":"comment_only","type":"public_permission","added_timestamp":1705594424869,"allow_duplicate":false,"allow_search_engine_indexing":true}],"created_time":1705594337173,"last_edited_time":1712556863365,"parent_id":"eb3e1328-8f32-4ff5-8d18-8ea80020e175","parent_table":"space","alive":true,"copied_from":"19c33d8c-a320-4635-ab97-ddf00a96c478"}},"d3a0bda2-a966-4861-aa0f-7a641ec5b633":{"value":{"id":"d3a0bda2-a966-4861-aa0f-7a641ec5b633","type":"table_of_contents","format":{"block_color":"gray","copied_from_pointer":{"id":"be61f37e-3882-4318-ad2b-2c61e18b529f","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556018464,"last_edited_time":1712556018464,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"be61f37e-3882-4318-ad2b-2c61e18b529f"}},"1fe2c7b1-d200-44eb-b559-5a1f9ad1b765":{"value":{"id":"1fe2c7b1-d200-44eb-b559-5a1f9ad1b765","type":"callout","properties":{"title":[["以下内容基于GPT-4模型"]]},"format":{"page_icon":"⚙","block_color":"gray_background","copied_from_pointer":{"id":"2bc93ec4-03c5-46c2-b25e-d9ca68f233e5","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556139834,"last_edited_time":1712556139838,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"2bc93ec4-03c5-46c2-b25e-d9ca68f233e5"}},"a59214f9-df56-4a93-9829-367651e0dcb0":{"value":{"id":"a59214f9-df56-4a93-9829-367651e0dcb0","type":"header","properties":{"title":[["问题"]]},"format":{"copied_from_pointer":{"id":"0302269d-0e3e-4e6f-a368-e18a3a2ec8e0","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556139835,"last_edited_time":1712556139838,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"0302269d-0e3e-4e6f-a368-e18a3a2ec8e0"}},"80097f4c-9b86-48bd-9936-2ec481b2c9ab":{"value":{"id":"80097f4c-9b86-48bd-9936-2ec481b2c9ab","type":"sub_header","properties":{"title":[["1.LeetCode662 二叉树最长直径"]]},"format":{"copied_from_pointer":{"id":"fa204a88-cdff-4565-a19c-6fe2d4ef75e7","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556139835,"last_edited_time":1712595972456,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"fa204a88-cdff-4565-a19c-6fe2d4ef75e7"}},"9fc5fcd6-3fb3-4c4c-bce8-af9b81641905":{"value":{"id":"9fc5fcd6-3fb3-4c4c-bce8-af9b81641905","type":"bookmark","properties":{"link":[["https://leetcode.cn/problems/maximum-width-of-binary-tree/"]],"title":[["662. 二叉树最大宽度 - 力扣（LeetCode）"]],"description":[["662. 二叉树最大宽度 - 给你一棵二叉树的根节点 root ，返回树的 最大宽度 。  树的 最大宽度 是所有层中最大的 宽度 。  每一层的 宽度 被定义为该层最左和最右的非空节点（即，两个端点）之间的长度。将这个二叉树视作与满二叉树结构相同，两端点间会出现一些延伸到这一层的 null 节点，这些 null 节点也计入长度。  题目数据保证答案将会在  32 位 带符号整数范围内。     示例 1：  [https://assets.leetcode.com/uploads/2021/05/03/width1-tree.jpg]   输入：root = [1,3,2,5,3,null,9] 输出：4 解释：最大宽度出现在树的第 3 层，宽度为 4 (5,3,null,9) 。   示例 2：  [https://assets.leetcode.com/uploads/2022/03/14/maximum-width-of-binary-tree-v3.jpg]   输入：root = [1,3,2,5,null,null,9,6,null,7] 输出：7 解释：最大宽度出现在树的第 4 层，宽度为 7 (6,null,null,null,null,null,7) 。   示例 3：  [https://assets.leetcode.com/uploads/2021/05/03/width3-tree.jpg]   输入：root = [1,3,2,5] 输出：2 解释：最大宽度出现在树的第 2 层，宽度为 2 (3,2) 。      提示：   * 树中节点的数目范围是 [1, 3000]  * -100 \u003c= Node.val \u003c= 100"]]},"format":{"bookmark_icon":"https://leetcode.cn/favicon.ico","bookmark_cover":"https://static.leetcode-cn.com/cn-legacy-assets/images/LeetCode_Sharing.png"},"created_time":1712595973817,"last_edited_time":1712595973817,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"91b7ef81-c289-41fe-a8c9-5046d3f41923":{"value":{"id":"91b7ef81-c289-41fe-a8c9-5046d3f41923","type":"sub_header","properties":{"title":[["2.LeetCode215 TOPK"]]},"format":{"copied_from_pointer":{"id":"33494c72-d0a0-4a3d-bd5d-0a18e50f5f2d","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556139836,"last_edited_time":1712556228209,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"33494c72-d0a0-4a3d-bd5d-0a18e50f5f2d"}},"a4de193c-c56c-404f-a23b-c7aaee0940d2":{"value":{"id":"a4de193c-c56c-404f-a23b-c7aaee0940d2","type":"bookmark","properties":{"link":[["https://leetcode.cn/problems/kth-largest-element-in-an-array/description/"]],"title":[["215. 数组中的第K个最大元素 - 力扣（LeetCode）"]],"description":[["215. 数组中的第K个最大元素 - 给定整数数组 nums 和整数 k，请返回数组中第 k 个最大的元素。  请注意，你需要找的是数组排序后的第 k 个最大的元素，而不是第 k 个不同的元素。  你必须设计并实现时间复杂度为 O(n) 的算法解决此问题。     示例 1:   输入: [3,2,1,5,6,4], k = 2 输出: 5   示例 2:   输入: [3,2,3,1,2,4,5,5,6], k = 4 输出: 4     提示：   * 1 \u003c= k \u003c= nums.length \u003c= 105  * -104 \u003c= nums[i] \u003c= 104"]]},"format":{"bookmark_icon":"https://leetcode.cn/favicon.ico","bookmark_cover":"https://static.leetcode-cn.com/cn-legacy-assets/images/LeetCode_Sharing.png"},"created_time":1712595993509,"last_edited_time":1712595993510,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"ffa13876-3f06-4ee3-ab91-e5ce88d2b005":{"value":{"id":"ffa13876-3f06-4ee3-ab91-e5ce88d2b005","type":"sub_header","properties":{"title":[["3.秒杀场景设计"]]},"created_time":1712556228439,"last_edited_time":1712556254024,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"c10c635e-6308-4f80-b0bc-185f8a6c6096":{"value":{"id":"c10c635e-6308-4f80-b0bc-185f8a6c6096","type":"sub_sub_header","properties":{"title":[["GPT问答"]]},"format":{"copied_from_pointer":{"id":"713fc33e-2158-4e60-9f44-02105a6c9d96","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556228743,"last_edited_time":1712556228746,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"713fc33e-2158-4e60-9f44-02105a6c9d96"}},"6a7d5026-4140-41ce-9e62-7eeaf2f484a1":{"value":{"id":"6a7d5026-4140-41ce-9e62-7eeaf2f484a1","type":"quote","properties":{"title":[["Spring cloud项目现在要做一个秒杀场景的需求，给我从app端到服务端设计一套可用的方案"]]},"format":{"copied_from_pointer":{"id":"2736da5d-124c-461f-a178-086f532d9d10","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556228743,"last_edited_time":1712557899643,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"2736da5d-124c-461f-a178-086f532d9d10"}},"542ba936-d632-43cb-a93b-9658bddd7720":{"value":{"id":"542ba936-d632-43cb-a93b-9658bddd7720","type":"text","properties":{"title":[["在设计一个秒杀系统的时候，需要考虑以下几个关键因素：高并发、系统可用性和数据一致性。"]]},"created_time":1712557905382,"last_edited_time":1712557905388,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"93ac5e04-d279-4854-949f-3ff531979b16":{"value":{"id":"93ac5e04-d279-4854-949f-3ff531979b16","type":"text","properties":{"title":[["下面是一个基于Spring Cloud的秒杀系统的设计方案："]]},"created_time":1712557905382,"last_edited_time":1712557905388,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"2777df4b-687f-4398-ab66-4aa9f854f5f0":{"value":{"id":"2777df4b-687f-4398-ab66-4aa9f854f5f0","type":"numbered_list","properties":{"title":[["前端（App端）：",[["b"]]]]},"content":["98d80c1e-edbc-485e-8212-21db16d5bc70"],"created_time":1712557905383,"last_edited_time":1712557905388,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"98d80c1e-edbc-485e-8212-21db16d5bc70":{"value":{"id":"98d80c1e-edbc-485e-8212-21db16d5bc70","type":"text","properties":{"title":[["使用"],["请求缓冲和请求限流策略，例如令牌桶算法",[["b"]]],["，防止大量请求同时涌向服务端造成服务崩溃。同时可以考虑使用CDN和浏览器缓存技术降低服务器负载。"]]},"created_time":1712557905383,"last_edited_time":1712557917399,"parent_id":"2777df4b-687f-4398-ab66-4aa9f854f5f0","parent_table":"block","alive":true}},"c4832952-7105-470c-9f44-2e3780516402":{"value":{"id":"c4832952-7105-470c-9f44-2e3780516402","type":"numbered_list","properties":{"title":[["后端（服务端）：",[["b"]]]]},"content":["48e8ef13-2201-4c91-bc1b-e7f22e4daa15","f9f8ae47-ae99-4940-a025-36a86a644c0b","be79e573-cc36-40d9-a5d8-f07e3fc87d89","102883f2-de79-470f-8f4c-d4f49b76ade9","e6520c9f-aea2-4a4d-a212-01a66ce73df7","357c774d-d232-4d35-8fb5-c0c08ec45a46","d3c51997-2ea0-45e6-9ba9-266590ea8734"],"created_time":1712557905384,"last_edited_time":1712557905388,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"48e8ef13-2201-4c91-bc1b-e7f22e4daa15":{"value":{"id":"48e8ef13-2201-4c91-bc1b-e7f22e4daa15","type":"text","properties":{"title":[["服务端设计需要多层缓冲和优化："]]},"created_time":1712557905383,"last_edited_time":1712557905388,"parent_id":"c4832952-7105-470c-9f44-2e3780516402","parent_table":"block","alive":true}},"f9f8ae47-ae99-4940-a025-36a86a644c0b":{"value":{"id":"f9f8ae47-ae99-4940-a025-36a86a644c0b","type":"bulleted_list","properties":{"title":[["Nginx负载均衡：",[["b"]]],[" Nginx可以实现反向代理和负载均衡，将流量合理分配到各个服务节点。"]]},"created_time":1712557905383,"last_edited_time":1712557905388,"parent_id":"c4832952-7105-470c-9f44-2e3780516402","parent_table":"block","alive":true}},"be79e573-cc36-40d9-a5d8-f07e3fc87d89":{"value":{"id":"be79e573-cc36-40d9-a5d8-f07e3fc87d89","type":"bulleted_list","properties":{"title":[["Spring Cloud Gateway：",[["b"]]],[" 使用Spring Cloud Gateway进行路由转发和请求过滤。"]]},"created_time":1712557905383,"last_edited_time":1712557905388,"parent_id":"c4832952-7105-470c-9f44-2e3780516402","parent_table":"block","alive":true}},"102883f2-de79-470f-8f4c-d4f49b76ade9":{"value":{"id":"102883f2-de79-470f-8f4c-d4f49b76ade9","type":"bulleted_list","properties":{"title":[["分布式Session：",[["b"]]],[" 可以使用Spring Session将Session存储在Redis中，实现分布式Session。"]]},"created_time":1712557905383,"last_edited_time":1712557905388,"parent_id":"c4832952-7105-470c-9f44-2e3780516402","parent_table":"block","alive":true}},"e6520c9f-aea2-4a4d-a212-01a66ce73df7":{"value":{"id":"e6520c9f-aea2-4a4d-a212-01a66ce73df7","type":"bulleted_list","properties":{"title":[["分布式锁：",[["b"]]],[" 在秒杀核心业务处理时，为了防止超卖，需要使用分布式锁。可以使用Redisson实现基于Redis的分布式锁。"]]},"created_time":1712557905383,"last_edited_time":1712557905388,"parent_id":"c4832952-7105-470c-9f44-2e3780516402","parent_table":"block","alive":true}},"357c774d-d232-4d35-8fb5-c0c08ec45a46":{"value":{"id":"357c774d-d232-4d35-8fb5-c0c08ec45a46","type":"bulleted_list","properties":{"title":[["消息队列：",[["b"]]],[" 将创建订单的请求进行异步处理，提高系统处理能力。可以使用RabbitMQ或Kafka。"]]},"created_time":1712557905383,"last_edited_time":1712557905388,"parent_id":"c4832952-7105-470c-9f44-2e3780516402","parent_table":"block","alive":true}},"d3c51997-2ea0-45e6-9ba9-266590ea8734":{"value":{"id":"d3c51997-2ea0-45e6-9ba9-266590ea8734","type":"bulleted_list","properties":{"title":[["数据库：",[["b"]]],[" 为了防止数据库的读写压力过大，可以使用读写分离的策略。在写方面，可以使用数据库的乐观锁防止超卖。在读方面，可以将商品的库存数量提前预热到Redis中，请求直接从Redis读取数据。"]]},"created_time":1712557905384,"last_edited_time":1712557905388,"parent_id":"c4832952-7105-470c-9f44-2e3780516402","parent_table":"block","alive":true}},"e4b5d6a3-a30f-40a9-885a-b06e970843b0":{"value":{"id":"e4b5d6a3-a30f-40a9-885a-b06e970843b0","type":"text","properties":{"title":[["具体的秒杀流程可以设计如下："]]},"created_time":1712557905384,"last_edited_time":1712557905388,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"623c0c4b-f1a0-4c19-8685-adc89f79cf27":{"value":{"id":"623c0c4b-f1a0-4c19-8685-adc89f79cf27","type":"numbered_list","properties":{"title":[["用户发起秒杀请求，请求首先经过Nginx，由Nginx做负载均衡将请求转发到Spring Cloud Gateway。"]]},"created_time":1712557905384,"last_edited_time":1712557905388,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"8ef4c41b-eb08-448e-8bb2-37576638a1dd":{"value":{"id":"8ef4c41b-eb08-448e-8bb2-37576638a1dd","type":"numbered_list","properties":{"title":[["Spring Cloud Gateway根据路由规则将请求转发到具体的服务。"]]},"created_time":1712557905384,"last_edited_time":1712557905388,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"072908f5-92ea-498f-ad75-e4f8f8d4d53b":{"value":{"id":"072908f5-92ea-498f-ad75-e4f8f8d4d53b","type":"numbered_list","properties":{"title":[["服务收到请求后，首先从Redis中获取用户的Session信息，然后从Redis中获取商品的库存信息。"]]},"created_time":1712557905384,"last_edited_time":1712557905388,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"d56ba84d-fee9-45d5-bd85-dbf9a580507d":{"value":{"id":"d56ba84d-fee9-45d5-bd85-dbf9a580507d","type":"numbered_list","properties":{"title":[["如果库存充足，服务先使用Redisson获取分布式锁，然后在Redis中减少商品的库存数量。"]]},"created_time":1712557905384,"last_edited_time":1712557905388,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"ca3dd93e-3b1c-4add-9e74-98895ac7b590":{"value":{"id":"ca3dd93e-3b1c-4add-9e74-98895ac7b590","type":"numbered_list","properties":{"title":[["减库存成功后，服务将创建订单的请求通过消息队列异步发送到订单服务。"]]},"created_time":1712557905384,"last_edited_time":1712557905388,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"14a0ed64-9e71-453e-a5e3-88ee50d80844":{"value":{"id":"14a0ed64-9e71-453e-a5e3-88ee50d80844","type":"numbered_list","properties":{"title":[["订单服务收到消息后，使用数据库的乐观锁机制创建订单。"]]},"created_time":1712557905384,"last_edited_time":1712557905388,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"34a467a4-e5f7-4c12-94bd-3a8dc72427b6":{"value":{"id":"34a467a4-e5f7-4c12-94bd-3a8dc72427b6","type":"numbered_list","properties":{"title":[["订单创建成功后，返回秒杀成功的消息给用户。"]]},"created_time":1712557905384,"last_edited_time":1712557905388,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"0a0bc967-2b18-476a-8b4b-f3c351472312":{"value":{"id":"0a0bc967-2b18-476a-8b4b-f3c351472312","type":"text","properties":{"title":[["这只是一个大概的框架，具体的实现需要根据实际的业务需求进行调整。"]]},"created_time":1712557905384,"last_edited_time":1712557905388,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"13991992-61fe-4521-9176-e979630aec82":{"value":{"id":"13991992-61fe-4521-9176-e979630aec82","type":"divider","created_time":1712596062270,"last_edited_time":1712596062271,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"03149589-78ee-4443-8f38-ce653c7839e0":{"value":{"id":"03149589-78ee-4443-8f38-ce653c7839e0","type":"sub_sub_header","properties":{"title":[["网上资料"]]},"format":{"copied_from_pointer":{"id":"4b7fd301-ccb3-49e5-a655-951a4373ac77","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712558457409,"last_edited_time":1712558466142,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"700878a6-c65e-410d-9f44-c75de19ae942":{"value":{"id":"700878a6-c65e-410d-9f44-c75de19ae942","type":"text","properties":{"title":[["建议直接看极海方案,埋个坑输出一个博客\n"],["https://bothsavage.github.io/article/240415-secondkill",[["a","https://bothsavage.github.io/article/240415-secondkill"]]]]},"created_time":1712558466369,"last_edited_time":1712558995391,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"47609369-8125-4835-8505-dc170a251161":{"value":{"id":"47609369-8125-4835-8505-dc170a251161","type":"bookmark","properties":{"link":[["https://www.bilibili.com/video/BV1g34y1h71Y/"]],"title":[["【高级请进】核心业务挑战与方案落地！技术与业务如何权衡！P7级项目如何阐述！_哔哩哔哩_bilibili"]],"description":[["【高级请进】核心业务挑战与方案落地！技术与业务如何权衡！P7级项目如何阐述！, 视频播放量 47665、弹幕量 89、点赞数 1805、投硬币枚数 1495、收藏人数 2381、转发人数 436, 视频作者 极海Channel, 作者简介 互联网从业者/前阿里巴巴工程师/独立开发，提供付费面试与咨询，通道https://jihaichannel.github.io，相关视频：分享几个冷门高级亮点！让面试官刮目相看！专家级重要标准揭秘！，项目没什么亮点，我来教你怎么说好吧？，并发编程有多难，值得反复研究的的两个案例！，【Java前沿】帮公司省钱！为什么关注Quarkus！唯一能与SpringBoot抗衡的云原生技术？，【社区分享】程序员宝藏推荐！提升天花板！覆盖学生到架构师！，【个人成长】我不是一个好学生！也不爱看书！但我四年成专家！，高并发最大挑战之一，你真理解缓存一致性吗，一定要设过期时间！，精挑细选3个方案！如何挖掘并阐述项目挑战！频道核心价值！，【Java高级】如何写出优雅可靠事务代码？基于Spring事务扩展，【Java高级】线上GC问题，技术专家如何分析，与面试很不一样"]]},"format":{"bookmark_icon":"https://i2.hdslb.com/bfs/archive/77dea7d9f467b91ec79dac046439ee0e082930b1.jpg@100w_100h_1c.png@57w_57h_1c.png","bookmark_cover":"https://i2.hdslb.com/bfs/archive/77dea7d9f467b91ec79dac046439ee0e082930b1.jpg@100w_100h_1c.png"},"created_time":1712558539158,"last_edited_time":1712558539159,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"c6eca5f6-f31a-474a-8af5-e9f2c1b09b79":{"value":{"id":"c6eca5f6-f31a-474a-8af5-e9f2c1b09b79","type":"sub_sub_header","properties":{"title":[["总结"]]},"format":{"copied_from_pointer":{"id":"4b7fd301-ccb3-49e5-a655-951a4373ac77","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556018463,"last_edited_time":1712556547444,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"4b7fd301-ccb3-49e5-a655-951a4373ac77"}},"c3d411d7-0afd-4163-9501-a5186dacfa8e":{"value":{"id":"c3d411d7-0afd-4163-9501-a5186dacfa8e","type":"bulleted_list","properties":{"title":[["gpt又给我玩假大空"]]},"created_time":1712559410077,"last_edited_time":1712559428128,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"0c1e5e83-3222-4954-931e-211075399baa":{"value":{"id":"0c1e5e83-3222-4954-931e-211075399baa","type":"bulleted_list","properties":{"title":[["AC在高并发的保证,又要可用,又要一致，当然我们追求最终一致"]]},"created_time":1712556280916,"last_edited_time":1712559454834,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"fabd9d7b-7363-4fee-a111-e1ca5e594376":{"value":{"id":"fabd9d7b-7363-4fee-a111-e1ca5e594376","type":"bulleted_list","properties":{"title":[["相同实例支撑的接口能缓存就要缓存"]]},"created_time":1712559094099,"last_edited_time":1712559550183,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"a8b8fa3b-e053-4db3-a992-6a02789309c6":{"value":{"id":"a8b8fa3b-e053-4db3-a992-6a02789309c6","type":"bulleted_list","properties":{"title":[["分布式锁嘛，这个都说烂了"]]},"created_time":1712559509485,"last_edited_time":1712559544210,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"24baaf3b-f01a-47f7-91ff-1e4c313b7747":{"value":{"id":"24baaf3b-f01a-47f7-91ff-1e4c313b7747","type":"bulleted_list","properties":{"title":[["app也要做限流，在app做令牌桶限流确实是一个很好的方案，也可以当作成一个通用方案，还能防止app的死循环请求bug"]]},"created_time":1712559552527,"last_edited_time":1712559630472,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"87d12307-20cf-4cd9-8322-9a8c1043995d":{"value":{"id":"87d12307-20cf-4cd9-8322-9a8c1043995d","type":"bulleted_list","properties":{"title":[["详细说明等我再把极海的视频梳理为文章"]]},"created_time":1712559630731,"last_edited_time":1712559738671,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"5dda5b60-fe5c-465b-9b7a-a751b148d419":{"value":{"id":"5dda5b60-fe5c-465b-9b7a-a751b148d419","type":"divider","created_time":1712559742760,"last_edited_time":1712559742762,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"debfe1b5-a58f-4200-a93b-cfd04564f8a8":{"value":{"id":"debfe1b5-a58f-4200-a93b-cfd04564f8a8","type":"text","created_time":1712559742773,"last_edited_time":1712559742773,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"c6158c40-db10-44b0-8c86-833a34f39b98":{"value":{"id":"c6158c40-db10-44b0-8c86-833a34f39b98","type":"sub_header","properties":{"title":[["4.数据量并发度扩大十倍性能瓶颈"]]},"created_time":1712556282187,"last_edited_time":1712556305964,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"a4f29450-cc0e-4683-a9dd-1d0beddb1651":{"value":{"id":"a4f29450-cc0e-4683-a9dd-1d0beddb1651","type":"sub_sub_header","properties":{"title":[["GPT问答"]]},"format":{"copied_from_pointer":{"id":"c10c635e-6308-4f80-b0bc-185f8a6c6096","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556286462,"last_edited_time":1712556286466,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"c10c635e-6308-4f80-b0bc-185f8a6c6096"}},"77258239-91bd-434b-a538-dc492bfb5f5f":{"value":{"id":"77258239-91bd-434b-a538-dc492bfb5f5f","type":"quote","properties":{"title":[["我的Spring cloud + mysql + redis项目，目前用户激增，访问量和数据量都扩大了100倍，你认为我的系统瓶颈在哪，怎么解决"]]},"format":{"copied_from_pointer":{"id":"6a7d5026-4140-41ce-9e62-7eeaf2f484a1","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556286462,"last_edited_time":1712561602822,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"6a7d5026-4140-41ce-9e62-7eeaf2f484a1"}},"0e137ff7-c4d7-4152-afc8-f79bf48d6c55":{"value":{"id":"0e137ff7-c4d7-4152-afc8-f79bf48d6c55","type":"text","properties":{"title":[["在你的情况下，可能会遇到以下瓶颈："]]},"format":{"copied_from_pointer":{"id":"bc99cd9d-3b27-4463-818c-807c38de9b1d","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556286463,"last_edited_time":1712561611182,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"bc99cd9d-3b27-4463-818c-807c38de9b1d"}},"42236ad1-4887-402b-a30f-80fdfcbd9feb":{"value":{"id":"42236ad1-4887-402b-a30f-80fdfcbd9feb","type":"numbered_list","properties":{"title":[["硬件资源限制",[["b"]]],["：例如，服务器 CPU、内存、I/O 等，可能会在高并发的情况下，成为瓶颈。"]]},"created_time":1712561607672,"last_edited_time":1712561607677,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"2749b679-9cbf-4fff-9a24-98742cf87751":{"value":{"id":"2749b679-9cbf-4fff-9a24-98742cf87751","type":"numbered_list","properties":{"title":[["数据库瓶颈",[["b"]]],["：当访问量和数据量增加时，数据库可能会变得过于繁忙，导致系统性能下降。这可能是由于查询效率低下、索引不合理、表设计不合理等原因造成的。"]]},"created_time":1712561607672,"last_edited_time":1712561607677,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"1018b604-6a35-4dd9-848e-f8e397053df7":{"value":{"id":"1018b604-6a35-4dd9-848e-f8e397053df7","type":"numbered_list","properties":{"title":[["Redis 瓶颈",[["b"]]],["：Redis 是单线程的，因此在高并发场景下，可能会成为性能瓶颈。"]]},"created_time":1712561607672,"last_edited_time":1712561607677,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"3f27258a-689f-4efa-b1e3-5be0d2d027c5":{"value":{"id":"3f27258a-689f-4efa-b1e3-5be0d2d027c5","type":"numbered_list","properties":{"title":[["网络瓶颈",[["b"]]],["：如果网络带宽不足，或者网络延迟太高，也可能会成为瓶颈。"]]},"created_time":1712561607672,"last_edited_time":1712561607677,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"14445b43-cad1-4e57-8026-294d44925746":{"value":{"id":"14445b43-cad1-4e57-8026-294d44925746","type":"text","properties":{"title":[["以下是可能的解决方案："]]},"created_time":1712561607672,"last_edited_time":1712561607677,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"34487776-5497-4545-a046-53007c910bf3":{"value":{"id":"34487776-5497-4545-a046-53007c910bf3","type":"numbered_list","properties":{"title":[["优化硬件资源",[["b"]]],["：根据系统的需求增加硬件资源，例如增加服务器的 CPU、内存等。"]]},"created_time":1712561607673,"last_edited_time":1712561607677,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"24110269-8bb4-4dda-b976-e4dc27f8d49a":{"value":{"id":"24110269-8bb4-4dda-b976-e4dc27f8d49a","type":"numbered_list","properties":{"title":[["数据库优化",[["b"]]],["："]]},"content":["615cdd84-67ee-4bb8-972c-4ef64d8d039f","5a4d387f-3fdd-4f6d-8b53-574f3a1f8c51","91bf04bd-5989-4363-ab92-41eaf888627d","7be3caea-0681-4a49-8b23-de7199f94916","e538f307-80df-464b-b50c-2b72a7691e6b"],"created_time":1712561607673,"last_edited_time":1712561607677,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"615cdd84-67ee-4bb8-972c-4ef64d8d039f":{"value":{"id":"615cdd84-67ee-4bb8-972c-4ef64d8d039f","type":"bulleted_list","properties":{"title":[["索引优化",[["b"]]],["：检查查询是否都有合适的索引支持，没有的话，添加相应索引。"]]},"created_time":1712561607673,"last_edited_time":1712561607677,"parent_id":"24110269-8bb4-4dda-b976-e4dc27f8d49a","parent_table":"block","alive":true}},"5a4d387f-3fdd-4f6d-8b53-574f3a1f8c51":{"value":{"id":"5a4d387f-3fdd-4f6d-8b53-574f3a1f8c51","type":"bulleted_list","properties":{"title":[["查询优化",[["b"]]],["：避免全表扫描，尽可能减少 JOIN 操作，避免使用 NOT IN 和 \u003c\u003e 操作符等。"]]},"created_time":1712561607673,"last_edited_time":1712561607677,"parent_id":"24110269-8bb4-4dda-b976-e4dc27f8d49a","parent_table":"block","alive":true}},"91bf04bd-5989-4363-ab92-41eaf888627d":{"value":{"id":"91bf04bd-5989-4363-ab92-41eaf888627d","type":"bulleted_list","properties":{"title":[["分库分表",[["b"]]],["：当单表数据量过大时，可以考虑分库分表，以减少单个数据库的负载。"]]},"created_time":1712561607673,"last_edited_time":1712561607677,"parent_id":"24110269-8bb4-4dda-b976-e4dc27f8d49a","parent_table":"block","alive":true}},"7be3caea-0681-4a49-8b23-de7199f94916":{"value":{"id":"7be3caea-0681-4a49-8b23-de7199f94916","type":"bulleted_list","properties":{"title":[["读写分离",[["b"]]],["：将读和写的操作分开，可以有效减轻数据库的压力。"]]},"created_time":1712561607673,"last_edited_time":1712561607677,"parent_id":"24110269-8bb4-4dda-b976-e4dc27f8d49a","parent_table":"block","alive":true}},"e538f307-80df-464b-b50c-2b72a7691e6b":{"value":{"id":"e538f307-80df-464b-b50c-2b72a7691e6b","type":"bulleted_list","properties":{"title":[["使用数据库中间件",[["b"]]],["：例如 MyCAT、Sharding-Sphere 等。"]]},"created_time":1712561607673,"last_edited_time":1712561607677,"parent_id":"24110269-8bb4-4dda-b976-e4dc27f8d49a","parent_table":"block","alive":true}},"d4a92abf-b6a5-489d-9d0a-956d6970a7e2":{"value":{"id":"d4a92abf-b6a5-489d-9d0a-956d6970a7e2","type":"numbered_list","properties":{"title":[["优化 Redis",[["b"]]],["："]]},"content":["c097bb9d-baed-4cf3-8de7-92d84f7e2977","a9110726-548b-4a0e-9db8-cd5a9e81161a"],"created_time":1712561607673,"last_edited_time":1712561607677,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"c097bb9d-baed-4cf3-8de7-92d84f7e2977":{"value":{"id":"c097bb9d-baed-4cf3-8de7-92d84f7e2977","type":"bulleted_list","properties":{"title":[["使用 Redis 集群",[["b"]]],["：通过分片将数据存储在多个 Redis 实例中，可以提高系统的并发处理能力。"]]},"created_time":1712561607673,"last_edited_time":1712561607677,"parent_id":"d4a92abf-b6a5-489d-9d0a-956d6970a7e2","parent_table":"block","alive":true}},"a9110726-548b-4a0e-9db8-cd5a9e81161a":{"value":{"id":"a9110726-548b-4a0e-9db8-cd5a9e81161a","type":"bulleted_list","properties":{"title":[["优化 Redis 配置",[["b"]]],["：根据实际需求，优化 Redis 的配置参数。"]]},"created_time":1712561607673,"last_edited_time":1712561607677,"parent_id":"d4a92abf-b6a5-489d-9d0a-956d6970a7e2","parent_table":"block","alive":true}},"08e46138-d832-4303-9082-28b70f64d913":{"value":{"id":"08e46138-d832-4303-9082-28b70f64d913","type":"numbered_list","properties":{"title":[["服务的弹性扩展",[["b"]]],["："]]},"content":["db36d16e-bf9f-4467-a7b0-b4377900a771","72beaad5-365b-46cf-a416-75785b13d228"],"created_time":1712561607673,"last_edited_time":1712561607677,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"db36d16e-bf9f-4467-a7b0-b4377900a771":{"value":{"id":"db36d16e-bf9f-4467-a7b0-b4377900a771","type":"bulleted_list","properties":{"title":[["使用 Spring Cloud 的微服务架构",[["b"]]],["：可以根据需求，动态地增加或减少服务实例。"]]},"created_time":1712561607673,"last_edited_time":1712561607677,"parent_id":"08e46138-d832-4303-9082-28b70f64d913","parent_table":"block","alive":true}},"72beaad5-365b-46cf-a416-75785b13d228":{"value":{"id":"72beaad5-365b-46cf-a416-75785b13d228","type":"bulleted_list","properties":{"title":[["使用负载均衡",[["b"]]],["：将请求均匀地分摊到多个服务器上，降低了每个服务器的负载。"]]},"created_time":1712561607673,"last_edited_time":1712561607677,"parent_id":"08e46138-d832-4303-9082-28b70f64d913","parent_table":"block","alive":true}},"6a5e682c-e3c1-4681-bf82-f5c8c8565c91":{"value":{"id":"6a5e682c-e3c1-4681-bf82-f5c8c8565c91","type":"numbered_list","properties":{"title":[["使用 CDN 和缓存",[["b"]]],["：使用 CDN 可以减少服务器的流量压力，使用缓存可以减少数据库的访问压力。"]]},"created_time":1712561607673,"last_edited_time":1712561607677,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"688f0bf3-568f-45ee-81b9-403c14ea17ba":{"value":{"id":"688f0bf3-568f-45ee-81b9-403c14ea17ba","type":"numbered_list","properties":{"title":[["网络优化",[["b"]]],["：提高网络带宽，优化网络结构，减少网络延迟。"]]},"created_time":1712561607673,"last_edited_time":1712561607677,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"0d46b99a-3763-424e-8894-7a799fd6dfe2":{"value":{"id":"0d46b99a-3763-424e-8894-7a799fd6dfe2","type":"text","properties":{"title":[["每个系统的瓶颈可能都不同，所以需要结合实际情况，定位并解决瓶颈。"]]},"created_time":1712561607673,"last_edited_time":1712561607677,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"f048549e-6ce9-40c0-84cb-9538806d956b":{"value":{"id":"f048549e-6ce9-40c0-84cb-9538806d956b","type":"divider","format":{"copied_from_pointer":{"id":"00af2137-25ef-4b3f-bcbc-7d23a32c379e","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556286463,"last_edited_time":1712556286466,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"00af2137-25ef-4b3f-bcbc-7d23a32c379e"}},"9abd68a0-fd30-4736-abc4-1349afa7f49e":{"value":{"id":"9abd68a0-fd30-4736-abc4-1349afa7f49e","type":"sub_sub_header","properties":{"title":[["总结"]]},"format":{"copied_from_pointer":{"id":"c6eca5f6-f31a-474a-8af5-e9f2c1b09b79","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556286463,"last_edited_time":1712556550603,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"c6eca5f6-f31a-474a-8af5-e9f2c1b09b79"}},"1b5bb1c9-7d56-4061-9785-917f8158fee0":{"value":{"id":"1b5bb1c9-7d56-4061-9785-917f8158fee0","type":"bulleted_list","properties":{"title":[["差不多但是说的比较宽泛"]]},"format":{"copied_from_pointer":{"id":"0c1e5e83-3222-4954-931e-211075399baa","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556286463,"last_edited_time":1712561656304,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"0c1e5e83-3222-4954-931e-211075399baa"}},"b9ddd0d9-1790-4163-92da-d7f12dea2f9e":{"value":{"id":"b9ddd0d9-1790-4163-92da-d7f12dea2f9e","type":"bulleted_list","properties":{"title":[["就是RT要继续维持不要增高,分析热点请求加缓存等"]]},"created_time":1712561656496,"last_edited_time":1712561685945,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"aa46f8d3-26f3-432d-85d0-b8ae393dc9cc":{"value":{"id":"aa46f8d3-26f3-432d-85d0-b8ae393dc9cc","type":"bulleted_list","properties":{"title":[["还有就是要减少io，其中mysql的优化是io减少的重要方式"]]},"created_time":1712561686133,"last_edited_time":1712561704632,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"91b70bf0-b5e8-4a20-84a9-f55fe4f4a4d9":{"value":{"id":"91b70bf0-b5e8-4a20-84a9-f55fe4f4a4d9","type":"bulleted_list","properties":{"title":[["还要要追寻一致性问题,许多代码在写的时候没有考虑到高并发，该优化的优化，像支付订单等追求一致性的地方要提高RT的同时去追求最终一致性"]]},"created_time":1712561704789,"last_edited_time":1712561798385,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"98976d60-507e-41eb-9a7a-7b596ddc3321":{"value":{"id":"98976d60-507e-41eb-9a7a-7b596ddc3321","type":"text","created_time":1712556310545,"last_edited_time":1712556310545,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"882a3580-0be9-40e6-82ac-4bab27c43ba2":{"value":{"id":"882a3580-0be9-40e6-82ac-4bab27c43ba2","type":"sub_header","properties":{"title":[["5.MQ保证不丢失kafka快重平衡"]]},"created_time":1712556264516,"last_edited_time":1712560311785,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"02309e5e-08c3-4749-858a-8fa7c80d0dab":{"value":{"id":"02309e5e-08c3-4749-858a-8fa7c80d0dab","type":"sub_sub_header","properties":{"title":[["GPT问答"]]},"format":{"copied_from_pointer":{"id":"a4f29450-cc0e-4683-a9dd-1d0beddb1651","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556310965,"last_edited_time":1712556370577,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"a4f29450-cc0e-4683-a9dd-1d0beddb1651"}},"f804b57a-103a-4a96-8a5c-6fccdcf2a9c7":{"value":{"id":"f804b57a-103a-4a96-8a5c-6fccdcf2a9c7","type":"quote","properties":{"title":[["rabbitmq是如何保证消息不丢失的，他的持久化策略是啥"]]},"format":{"copied_from_pointer":{"id":"77258239-91bd-434b-a538-dc492bfb5f5f","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556310965,"last_edited_time":1712560339789,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"77258239-91bd-434b-a538-dc492bfb5f5f"}},"c32aa622-f15e-44a5-97f8-5df99fca48e2":{"value":{"id":"c32aa622-f15e-44a5-97f8-5df99fca48e2","type":"text","properties":{"title":[["RabbitMQ 提供了多种保证消息不会丢失的机制，包括消息持久化，队列持久化，消息确认等。"]]},"created_time":1712560549336,"last_edited_time":1712560549339,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"4af9a0cc-ecec-4fb6-aa3d-690ee6d06b51":{"value":{"id":"4af9a0cc-ecec-4fb6-aa3d-690ee6d06b51","type":"numbered_list","properties":{"title":[["消息持久化",[["b"]]],["：消息持久化可以通过设置 "],["delivery_mode=2",[["c"]]],[" 来实现，当消息被持久化后，即使 RabbitMQ 服务重启，消息也不会丢失，因为他们被存储在磁盘上。但是，这并不能完全保证消息的持久性。因为，当你发布一个消息并且 RabbitMQ 返回一个确认，这个消息可能还没被保存到磁盘。RabbitMQ 可能只是将消息保存在缓存中，并没有真正的写入磁盘。"]]},"created_time":1712560549337,"last_edited_time":1712560549339,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"87461336-26b4-405a-b379-e2b02fe6d221":{"value":{"id":"87461336-26b4-405a-b379-e2b02fe6d221","type":"numbered_list","properties":{"title":[["队列持久化",[["b"]]],["：要持久化队列，你需要在声明队列的时候，将 "],["durable",[["c"]]],[" 参数设置为 "],["true",[["c"]]],["。这样，即使 RabbitMQ 服务重启，队列的定义也不会丢失。"]]},"created_time":1712560549337,"last_edited_time":1712560549339,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"9da2714f-aa6c-4b74-b1f7-9614c5ff4b09":{"value":{"id":"9da2714f-aa6c-4b74-b1f7-9614c5ff4b09","type":"numbered_list","properties":{"title":[["消息确认",[["b"]]],["：RabbitMQ 提供了消息确认的机制，包括发布确认和消费确认。当消息被成功发布到一个队列，或者被一个消费者成功消费，RabbitMQ 会返回一个确认给发布者或者消费者。"]]},"created_time":1712560549337,"last_edited_time":1712560549339,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"9058d545-c4c9-4402-9a3b-576d58ce4130":{"value":{"id":"9058d545-c4c9-4402-9a3b-576d58ce4130","type":"numbered_list","properties":{"title":[["镜像队列",[["b"]]],["：RabbitMQ 还提供了镜像队列的功能，可以将队列的所有内容都复制到其他节点，如果一个节点挂掉，消息依然可以从其他节点获取。"]]},"created_time":1712560549337,"last_edited_time":1712560549339,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"b7302dfd-0280-40eb-865d-dc48f6f0e269":{"value":{"id":"b7302dfd-0280-40eb-865d-dc48f6f0e269","type":"text","properties":{"title":[["以上都是 RabbitMQ 保证消息不丢失的方式，但是需要注意的是，开启持久化、消息确认等功能都会增加 RabbitMQ 服务的负载，可能会影响到 RabbitMQ 服务的性能。因此，需要根据实际业务情况进行权衡。"]]},"created_time":1712560549337,"last_edited_time":1712560549339,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"502bf2e0-9d35-4d47-b565-ae4a9d69e944":{"value":{"id":"502bf2e0-9d35-4d47-b565-ae4a9d69e944","type":"divider","format":{"copied_from_pointer":{"id":"f048549e-6ce9-40c0-84cb-9538806d956b","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556310965,"last_edited_time":1712556310968,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"f048549e-6ce9-40c0-84cb-9538806d956b"}},"b39e6166-90a9-4465-8073-7be3606c9e46":{"value":{"id":"b39e6166-90a9-4465-8073-7be3606c9e46","type":"text","format":{"copied_from_pointer":{"id":"9abd68a0-fd30-4736-abc4-1349afa7f49e","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712560556276,"last_edited_time":1712560556276,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"434354ac-7b65-4abe-8354-504ada01c2b1":{"value":{"id":"434354ac-7b65-4abe-8354-504ada01c2b1","type":"quote","properties":{"title":[["给我一个java代码例子，并且如果confirm不及时要及时重发"]]},"created_time":1712560558413,"last_edited_time":1712560566471,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"62a9d1b5-1125-4eba-ba1c-4135e18c4a83":{"value":{"id":"62a9d1b5-1125-4eba-ba1c-4135e18c4a83","type":"text","properties":{"title":[["以下是一个简单的使用 RabbitMQ Confirm 机制的 Java 代码示例。在这个示例中，我们创建了一个生产者，发送消息到 RabbitMQ 服务器。如果消息没有被 RabbitMQ 服务器确认，我们会尝试重新发送。"]]},"created_time":1712560575272,"last_edited_time":1712560575283,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"711c4e42-c8d6-43b2-9b4c-cb02485a4b97":{"value":{"id":"711c4e42-c8d6-43b2-9b4c-cb02485a4b97","type":"code","properties":{"title":[["import com.rabbitmq.client.*;\n\nimport java.io.IOException;\n\npublic class ConfirmProducer {\n    private final static String QUEUE_NAME = \"confirm_queue\";\n\n    public static void main(String[] argv) throws Exception {\n        // 创建连接工厂\n        ConnectionFactory factory = new ConnectionFactory();\n        // 设置 RabbitMQ 地址\n        factory.setHost(\"localhost\");\n        // 创建一个新的连接\n        Connection connection = factory.newConnection();\n        // 创建一个通道\n        Channel channel = connection.createChannel();\n        // 声明一个队列\n        channel.queueDeclare(QUEUE_NAME, true, false, false, null);\n\n        // 开启 publisher confirm\n        channel.confirmSelect();\n\n        String message = \"Hello World!\";\n        for (int i = 0; i \u003c 5; i++) {\n            try {\n                // 发布消息\n                channel.basicPublish(\"\", QUEUE_NAME, null, message.getBytes(\"UTF-8\"));\n                System.out.println(\"Sent '\" + message + \"'\");\n                // 等待消息确认\n                if (!channel.waitForConfirms()) {\n                    System.out.println(\"Message sent failed\");\n                }\n            } catch (Exception e) {\n                System.out.println(\"Message send failed, retry...\");\n                // 如果发送消息失败，重新发送\n                channel.basicPublish(\"\", QUEUE_NAME, null, message.getBytes(\"UTF-8\"));\n            }\n        }\n\n        // 关闭通道和连接\n        channel.close();\n        connection.close();\n    }\n}\n"]],"language":[["Java"]]},"format":{"code_wrap":true},"created_time":1712560575279,"last_edited_time":1712560575283,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"00e21033-e31a-4bb1-a10b-988ccb3b641f":{"value":{"id":"00e21033-e31a-4bb1-a10b-988ccb3b641f","type":"text","properties":{"title":[["注意：这个例子使用了 "],["waitForConfirms()",[["c"]]],[" 方法来等待 RabbitMQ 服务器的确认，如果没有收到确认，我们会尝试重新发送消息。这是一个简单的示例，实际应用中可能需要考虑更多的因素，例如：消息的重试次数、错误处理等。"]]},"created_time":1712560575280,"last_edited_time":1712560575283,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"2d672bd7-599d-48ff-8364-fcb792ca9db2":{"value":{"id":"2d672bd7-599d-48ff-8364-fcb792ca9db2","type":"divider","created_time":1712560630168,"last_edited_time":1712560630169,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"1f4bc2de-b7ce-4e10-acc9-d7fac4c96fb6":{"value":{"id":"1f4bc2de-b7ce-4e10-acc9-d7fac4c96fb6","type":"text","created_time":1712560630397,"last_edited_time":1712596073608,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"e2322e43-e963-47ee-b2e4-63eff6cd8909":{"value":{"id":"e2322e43-e963-47ee-b2e4-63eff6cd8909","type":"quote","properties":{"title":[["kafka怎么保证消息不丢失的，他为什么快呢，kafka重平衡是啥"]]},"created_time":1712560632167,"last_edited_time":1712560640450,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"9e1f4135-c258-4d50-a41a-8628fafa06ff":{"value":{"id":"9e1f4135-c258-4d50-a41a-8628fafa06ff","type":"text","properties":{"title":[["Kafka也提供了一些机制来保证消息不会丢失："]]},"created_time":1712560648632,"last_edited_time":1712560648637,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"b6b71e09-27aa-4152-ad9e-bfc53538962f":{"value":{"id":"b6b71e09-27aa-4152-ad9e-bfc53538962f","type":"numbered_list","properties":{"title":[["副本机制",[["b"]]],["：Kafka的每条消息都会在多个副本上进行存储，这样即使其中某个副本发生故障，也能从其他副本中读取到数据，保证数据的可靠性。"]]},"created_time":1712560648632,"last_edited_time":1712560648637,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"1456be54-5b0f-4d74-9e6d-bc9588dff4e2":{"value":{"id":"1456be54-5b0f-4d74-9e6d-bc9588dff4e2","type":"numbered_list","properties":{"title":[["持久化",[["b"]]],["：Kafka的消息会被写入硬盘，保证了即使在Kafka服务器宕机的情况下，数据也不会丢失。"]]},"created_time":1712560648632,"last_edited_time":1712560648637,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"9455e271-ba3a-4c7b-9008-2f8a846a7876":{"value":{"id":"9455e271-ba3a-4c7b-9008-2f8a846a7876","type":"numbered_list","properties":{"title":[["消息确认机制",[["b"]]],["：Kafka提供了消息确认机制，当消息被成功写入副本后，生产者会收到一个ACK确认，这样可以确保消息已经成功提交。"]]},"created_time":1712560648632,"last_edited_time":1712560648637,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"7d9a1253-4ca8-471f-b830-2f32456ff5c5":{"value":{"id":"7d9a1253-4ca8-471f-b830-2f32456ff5c5","type":"text","properties":{"title":[["Kafka为什么快呢？"]]},"created_time":1712560648632,"last_edited_time":1712560648637,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"f4299ad8-b560-40e9-becd-583ee22a163a":{"value":{"id":"f4299ad8-b560-40e9-becd-583ee22a163a","type":"numbered_list","properties":{"title":[["零拷贝技术",[["b"]]],["：Kafka使用了零拷贝技术，可以减少系统调用的次数，大大提高了数据读写的效率。"]]},"created_time":1712560648632,"last_edited_time":1712560648637,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"6d611ac6-7817-44c4-872f-91939752f346":{"value":{"id":"6d611ac6-7817-44c4-872f-91939752f346","type":"numbered_list","properties":{"title":[["批处理",[["b"]]],["：Kafka可以将多条消息打包在一起进行处理，这样可以减少网络请求的次数，提高了处理效率。"]]},"created_time":1712560648632,"last_edited_time":1712560648637,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"861ddcc1-518c-40dd-9aec-4b1653dd9b2f":{"value":{"id":"861ddcc1-518c-40dd-9aec-4b1653dd9b2f","type":"numbered_list","properties":{"title":[["顺序读写",[["b"]]],["：Kafka的消息是顺序写入的，而且大部分读操作也是顺序的，这样在磁盘进行IO操作时，可以大大提高效率。"]]},"created_time":1712560648632,"last_edited_time":1712560648637,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"4fe06e0a-988f-45eb-8ae6-7d74bb4c6f48":{"value":{"id":"4fe06e0a-988f-45eb-8ae6-7d74bb4c6f48","type":"text","properties":{"title":[["Kafka的重平衡是什么？"]]},"created_time":1712560648632,"last_edited_time":1712560648637,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"f9a28f5b-20ee-45b1-bbeb-882f1d18598a":{"value":{"id":"f9a28f5b-20ee-45b1-bbeb-882f1d18598a","type":"text","properties":{"title":[["重平衡（Rebalance）是Kafka的一种机制，它可以在消费者的数量发生变化时（例如新消费者加入，或者旧消费者退出），动态地将Topic的Partition分配给消费者，保证系统的负载均衡。这是Kafka保证高可用和负载均衡的"]]},"created_time":1712560648632,"last_edited_time":1712560648637,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"1d2e562e-e2ff-422f-a5dd-1d3f9d6e372b":{"value":{"id":"1d2e562e-e2ff-422f-a5dd-1d3f9d6e372b","type":"divider","created_time":1712560957515,"last_edited_time":1712560957516,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"3544d2b5-f23e-4f41-a2bc-4be91c31ab61":{"value":{"id":"3544d2b5-f23e-4f41-a2bc-4be91c31ab61","type":"text","created_time":1712560959263,"last_edited_time":1712560959263,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"adf42e64-ea16-4c32-8bbc-cfe3428a10c2":{"value":{"id":"adf42e64-ea16-4c32-8bbc-cfe3428a10c2","type":"quote","properties":{"title":[["那么意味着kafka是cp的，假如集群有5个节点，我们打开confirm机制，即A消息在send的时候必须要有3个以上的节点落库才能cofirm是吧。如果是这样的给我用java代码写出他的底层实现，并且把rebalance的底层实现用java代码给我"]]},"created_time":1712560960356,"last_edited_time":1712560971716,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"7a0fc2f4-69a5-466a-bb84-d67440dab4c5":{"value":{"id":"7a0fc2f4-69a5-466a-bb84-d67440dab4c5","type":"text","properties":{"title":[["首先，Kafka 是 AP 的，不是 CP 的。Kafka 的设计目标是高吞吐量和数据持久化，而不是强一致性。"]]},"created_time":1712560980486,"last_edited_time":1712560980491,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"87f05ca5-494a-4d30-8967-4cdea837b9c6":{"value":{"id":"87f05ca5-494a-4d30-8967-4cdea837b9c6","type":"text","properties":{"title":[["其次，Kafka 的确认机制有三种级别："]]},"created_time":1712560980487,"last_edited_time":1712560980491,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"dca20905-e5ed-4fd0-bc94-bad04a521c54":{"value":{"id":"dca20905-e5ed-4fd0-bc94-bad04a521c54","type":"bulleted_list","properties":{"title":[["acks=0",[["c"]]],["：生产者不等待来自 broker 的确认。"]]},"created_time":1712560980487,"last_edited_time":1712560980491,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"079003e7-3003-4205-bb70-47ee6de6c3a9":{"value":{"id":"079003e7-3003-4205-bb70-47ee6de6c3a9","type":"bulleted_list","properties":{"title":[["acks=1",[["c"]]],["：只等待 leader 的确认，不等待 follower 的确认。如果 leader 在确认后立即崩溃，消息将会丢失。"]]},"created_time":1712560980487,"last_edited_time":1712560980491,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"a5117771-720a-45c3-bce2-1ea60bfaadaf":{"value":{"id":"a5117771-720a-45c3-bce2-1ea60bfaadaf","type":"bulleted_list","properties":{"title":[["acks=all",[["c"]]],["：等待所有的副本都确认。只要有一个副本存活，消息就不会丢失。"]]},"created_time":1712560980487,"last_edited_time":1712560980491,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"f7ac0b7c-4e02-4d27-9211-fe35d2c7af0a":{"value":{"id":"f7ac0b7c-4e02-4d27-9211-fe35d2c7af0a","type":"text","properties":{"title":[["对于你说的“至少有 3 个节点确认”，你可能是指将 Kafka 的 "],["min.insync.replicas",[["c"]]],[" 配置项设置为 3，这样，一个消息至少需要被 3 个副本确认才会被认为是已提交，进而生产者才会收到 ack。"]]},"created_time":1712560980487,"last_edited_time":1712560980491,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"85b6dc8b-22e0-450a-bfd1-101302f4d1a4":{"value":{"id":"85b6dc8b-22e0-450a-bfd1-101302f4d1a4","type":"text","properties":{"title":[["下面是一个使用 Kafka 生产者的 Java 代码示例："]]},"created_time":1712560980487,"last_edited_time":1712560980491,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"ddbc08d5-afdd-4ce4-afec-6e3fb8328106":{"value":{"id":"ddbc08d5-afdd-4ce4-afec-6e3fb8328106","type":"code","properties":{"title":[["import org.apache.kafka.clients.producer.*;\n\nimport java.util.Properties;\n\npublic class ProducerExample {\n    public static void main(String[] args) {\n        Properties props = new Properties();\n        props.put(\"bootstrap.servers\", \"localhost:9092\");\n        props.put(\"acks\", \"all\"); // 等待所有副本确认\n        props.put(\"key.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\");\n        props.put(\"value.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\");\n\n        Producer\u003cString, String\u003e producer = new KafkaProducer\u003c\u003e(props);\n        for(int i = 0; i \u003c 100; i++) {\n            producer.send(new ProducerRecord\u003cString, String\u003e(\"my-topic\", Integer.toString(i), Integer.toString(i)),\n                          new Callback() {\n                              public void onCompletion(RecordMetadata metadata, Exception e) {\n                                  if(e != null) {\n                                      e.printStackTrace();\n                                  } else {\n                                      System.out.println(\"The offset of the record we just sent is: \" + metadata.offset());\n                                  }\n                              }\n                          });\n        }\n        producer.close();\n    }\n}\n"]],"language":[["Java"]]},"format":{"code_wrap":true},"created_time":1712560980487,"last_edited_time":1712560980491,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"75f6c685-0009-4133-b82b-1b4f09052f42":{"value":{"id":"75f6c685-0009-4133-b82b-1b4f09052f42","type":"text","properties":{"title":[["至于 Kafka 的 Rebalance 机制，这是由 Kafka 的消费者组协调器（Group Coordinator）和消费者组成员（Group Member）共同完成的一个过程，涉及到的逻辑比较复杂，涉及到 Kafka 的消费者 API、协调器、网络协议等多个方面，很难用一个简单的 Java 代码示例来展示。在使用 Kafka 消费者 API 的时候，Rebalance 是自动进行的，你不需要自己去实现这个过程。如果你想要了解更多关于 Rebalance 的底层实现，我建议你阅读 Kafka 的源代码和相关文档。"]]},"created_time":1712560980487,"last_edited_time":1712560980491,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"6383b863-63cd-447d-92e6-5b4a93aa078c":{"value":{"id":"6383b863-63cd-447d-92e6-5b4a93aa078c","type":"divider","created_time":1712561139954,"last_edited_time":1712561139955,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"c4247cc4-0a69-41d1-af74-e76ed7389b1b":{"value":{"id":"c4247cc4-0a69-41d1-af74-e76ed7389b1b","type":"text","created_time":1712561140272,"last_edited_time":1712561140272,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"3919e1a2-4dc6-40bb-a618-5bae4f8619b8":{"value":{"id":"3919e1a2-4dc6-40bb-a618-5bae4f8619b8","type":"quote","properties":{"title":[["acks=all就表示cp，acks=0就表示ap是吧。还有零拷贝技术是啥，为什么说kafka的消息为顺序读写，rabbitmq不是顺序读写吗，他为啥不设计为顺序读写"]]},"created_time":1712561141725,"last_edited_time":1712561147028,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"3017d86d-af6e-491d-911d-05897b109865":{"value":{"id":"3017d86d-af6e-491d-911d-05897b109865","type":"text","properties":{"title":[["首先，关于 CAP 理论，它描述的是一个分布式系统在面对分区容忍性（P）、一致性（C）和可用性（A）这三种特性时，最多只能满足其中的两项。Kafka 的 "],["acks",[["c"]]],[" 参数的设置并不能直接决定 Kafka 是 CP 还是 AP。事实上，Kafka 的设计更偏向于 AP，因为 Kafka 允许在一定程度上牺牲一致性（例如，当部分副本失效时，仍然允许读写）。"]]},"created_time":1712561151410,"last_edited_time":1712561151412,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"a0870cce-2487-4359-a5bc-1e24e23497b7":{"value":{"id":"a0870cce-2487-4359-a5bc-1e24e23497b7","type":"text","properties":{"title":[["零拷贝技术是指在进行数据传输时，不通过 CPU，直接从内存或者磁盘读取数据并发送到网络，或者从网络接收数据并写入内存或者磁盘，从而提高数据传输的效率，并减少 CPU 的使用。"]]},"created_time":1712561151410,"last_edited_time":1712561151412,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"fd0ebc6d-e5bc-4f9f-beea-4eeea24b199c":{"value":{"id":"fd0ebc6d-e5bc-4f9f-beea-4eeea24b199c","type":"text","properties":{"title":[["Kafka 的消息是顺序读写的，这是因为 Kafka 的数据结构是日志（Log），每条消息都被追加到日志的尾部，消费者按顺序从日志中读取数据，这样可以充分利用磁盘的顺序读写特性，提高数据读写的效率。"]]},"created_time":1712561151410,"last_edited_time":1712561151412,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"81b95175-76c1-417c-8c94-007a9208277d":{"value":{"id":"81b95175-76c1-417c-8c94-007a9208277d","type":"text","properties":{"title":[["至于 RabbitMQ，它是一个基于 AMQP 协议的消息队列，其设计目标主要是实现可靠的消息传输和路由，而不是高吞吐量。RabbitMQ 的消息并非总是顺序读写的，例如，在处理消息确认、消息路由等操作时，可能需要进行随机访问。此外，RabbitMQ 中的消息可以被多个消费者并发消费，这也使得消息的读取并非总是顺序的。"]]},"created_time":1712561151410,"last_edited_time":1712561151412,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"61a67d4b-1bc3-4056-8904-d05f0eef3c66":{"value":{"id":"61a67d4b-1bc3-4056-8904-d05f0eef3c66","type":"divider","created_time":1712561156375,"last_edited_time":1712561156376,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"2e8129a2-e97f-4632-a4fc-12443036ef71":{"value":{"id":"2e8129a2-e97f-4632-a4fc-12443036ef71","type":"sub_sub_header","properties":{"title":[["总结"]]},"format":{"copied_from_pointer":{"id":"9abd68a0-fd30-4736-abc4-1349afa7f49e","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556310965,"last_edited_time":1712556553114,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"9abd68a0-fd30-4736-abc4-1349afa7f49e"}},"7a77d366-db86-41b5-a144-dc34cf4e6a83":{"value":{"id":"7a77d366-db86-41b5-a144-dc34cf4e6a83","type":"bulleted_list","properties":{"title":[["零拷贝技术指的是CPU占用为0"]]},"format":{"copied_from_pointer":{"id":"1b5bb1c9-7d56-4061-9785-917f8158fee0","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556310965,"last_edited_time":1712561201857,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"1b5bb1c9-7d56-4061-9785-917f8158fee0"}},"7fac6471-5ec1-4e67-8387-30e92c6fc053":{"value":{"id":"7fac6471-5ec1-4e67-8387-30e92c6fc053","type":"bulleted_list","properties":{"title":[["rebalance就是自动负载均衡嘛"]]},"created_time":1712561202353,"last_edited_time":1712561236293,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"e38bf574-3b9c-4aab-a187-9f0257962b65":{"value":{"id":"e38bf574-3b9c-4aab-a187-9f0257962b65","type":"bulleted_list","properties":{"title":[["kafka可以指定ack服务器的数目来动态调节可用性和一致性"]]},"created_time":1712561236408,"last_edited_time":1712561267435,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"6b25396e-283d-4038-a956-9ae71b8ebf82":{"value":{"id":"6b25396e-283d-4038-a956-9ae71b8ebf82","type":"bulleted_list","properties":{"title":[["还有就是kafka的数据结构是顺序存储,为了满足rabbitMQ的高级特性没有办法设计顺序存储的数据结构"]]},"created_time":1712561274914,"last_edited_time":1712561457579,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"1945ff1b-f605-450a-83c0-ac0a3b286184":{"value":{"id":"1945ff1b-f605-450a-83c0-ac0a3b286184","type":"text","created_time":1712556389666,"last_edited_time":1712556389666,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"c96bcf4d-23f4-4998-81ec-80c85df71b91":{"value":{"id":"c96bcf4d-23f4-4998-81ec-80c85df71b91","type":"sub_header","properties":{"title":[["6.SpringCloud"]]},"created_time":1712556389801,"last_edited_time":1712556720532,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"d85ef88a-350b-4e56-b8a7-5e9f2f01cf4a":{"value":{"id":"d85ef88a-350b-4e56-b8a7-5e9f2f01cf4a","type":"sub_sub_header","properties":{"title":[["GPT问答"]]},"format":{"copied_from_pointer":{"id":"02309e5e-08c3-4749-858a-8fa7c80d0dab","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556393724,"last_edited_time":1712556393727,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"02309e5e-08c3-4749-858a-8fa7c80d0dab"}},"962cb662-c38b-4438-b3a4-df15d28b90f6":{"value":{"id":"962cb662-c38b-4438-b3a4-df15d28b90f6","type":"quote","properties":{"title":[["我用的是SpringCloudAlibaba这一套，给我详细介绍下gateway,seata,openfeign,nacos,sentinel等组件"]]},"format":{"copied_from_pointer":{"id":"f804b57a-103a-4a96-8a5c-6fccdcf2a9c7","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556393724,"last_edited_time":1712566605370,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"f804b57a-103a-4a96-8a5c-6fccdcf2a9c7"}},"f32fa49e-4cf8-43de-a1a3-7f22588a18bb":{"value":{"id":"f32fa49e-4cf8-43de-a1a3-7f22588a18bb","type":"text","properties":{"title":[["Spring Cloud Alibaba是Spring Cloud与阿里巴巴中间件团队的深度合作的一个项目，主要是将阿里巴巴微服务解决方案与Spring Cloud技术体系无缝集成。这一套技术栈包括了Nacos、Sentinel、Seata、RocketMQ、Dubbo、SkyWalking等组件。"]]},"created_time":1712566614959,"last_edited_time":1712566614963,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"0a3a5067-4a7c-4044-82d9-fa8cd828e3d4":{"value":{"id":"0a3a5067-4a7c-4044-82d9-fa8cd828e3d4","type":"numbered_list","properties":{"title":[["Gateway",[["b"]]],["\nSpring Cloud Gateway是Spring Cloud官方推出的二代网关框架，目的在于替代Zuul。它是基于Netty服务器的异步非阻塞模型开发的，因此在性能上相较Zuul有很大的提升。Gateway提供了路由转发、过滤器、限流、熔断等网关基本特性。"]]},"created_time":1712566614959,"last_edited_time":1712566614963,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"48166259-1d2f-4ce3-927c-33061da94f03":{"value":{"id":"48166259-1d2f-4ce3-927c-33061da94f03","type":"numbered_list","properties":{"title":[["Seata",[["b"]]],["\nSeata（Simple Extensible Autonomous Transaction Architecture）是一种简单、易扩展、自治的事务解决方案。Seata 是阿里巴巴开源的一款分布式事务解决方案，提供高性能和简单易用的分布式事务服务。"]]},"created_time":1712566614959,"last_edited_time":1712566614963,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"bd849e8b-ff5b-493d-98b0-e3a5a9bd6a8e":{"value":{"id":"bd849e8b-ff5b-493d-98b0-e3a5a9bd6a8e","type":"numbered_list","properties":{"title":[["OpenFeign",[["b"]]],["\nSpring Cloud OpenFeign是一种声明式的WebService客户端。使用Feign能使编写HTTP客户端变得更加简单。它的一个优点是通过注解可以自动化地创建HTTP请求。"]]},"created_time":1712566614959,"last_edited_time":1712566614963,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"13171ab9-3e39-4a7a-85c2-08d10e92698f":{"value":{"id":"13171ab9-3e39-4a7a-85c2-08d10e92698f","type":"numbered_list","properties":{"title":[["Nacos",[["b"]]],["\nNacos（Dynamic Naming and Configuration Service）是阿里巴巴开源的一款更易于构建云原生应用的动态服务发现、配置管理和服务管理平台。Nacos能够帮助您发现、配置和管理微服务。Nacos 提供了一套简单易用的特性集，帮助您快速实现动态服务发现、服务配置、服务元数据和流量管理。"]]},"created_time":1712566614960,"last_edited_time":1712566614963,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"9cc800e8-289c-472d-ac58-022feda832c7":{"value":{"id":"9cc800e8-289c-472d-ac58-022feda832c7","type":"numbered_list","properties":{"title":[["Sentinel",[["b"]]],["\nSentinel 是阿里巴巴开源的一款流量控制组件，主要用于防止服务雪崩和服务保护。它含有流量控制、熔断降级、系统负载保护等多种控制手段，可以在系统压力过大的情况下进行自动的保护和降级。"]]},"created_time":1712566614960,"last_edited_time":1712566614963,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"47e82160-ecbc-46bc-ac91-f39f0cff236b":{"value":{"id":"47e82160-ecbc-46bc-ac91-f39f0cff236b","type":"text","properties":{"title":[["以上就是这些组件的基本介绍，他们在微服务架构中都扮演了非常重要的角色，帮助开发者更好地构建和维护复杂的微服务系统。"]]},"created_time":1712566614960,"last_edited_time":1712566614963,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"ed9d4efb-59bf-4e29-a0fe-eafef875dd2b":{"value":{"id":"ed9d4efb-59bf-4e29-a0fe-eafef875dd2b","type":"divider","format":{"copied_from_pointer":{"id":"502bf2e0-9d35-4d47-b565-ae4a9d69e944","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556393724,"last_edited_time":1712556393727,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"502bf2e0-9d35-4d47-b565-ae4a9d69e944"}},"d7bd43ee-d8e8-43cb-8a74-983a002c2342":{"value":{"id":"d7bd43ee-d8e8-43cb-8a74-983a002c2342","type":"text","format":{"copied_from_pointer":{"id":"2e8129a2-e97f-4632-a4fc-12443036ef71","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712567235498,"last_edited_time":1712567235498,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"b91fd63b-5e0f-4e82-9e21-b30d2e189152":{"value":{"id":"b91fd63b-5e0f-4e82-9e21-b30d2e189152","type":"quote","properties":{"title":[["geteway是在网关入口层面做的限流熔断，sentinel是在服务调用方面做的限流熔断吗。我在feign里面写的降级策略是配合熔断用的是不是。还有熔断的意义在哪里，服务都挂了，都出生产事故了"]]},"created_time":1712567236666,"last_edited_time":1712567242139,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"43a2f8e0-1635-43be-97be-05f8806b6735":{"value":{"id":"43a2f8e0-1635-43be-97be-05f8806b6735","type":"numbered_list","properties":{"title":[["Gateway和Sentinel在限流熔断中的角色",[["b"]]],["：\nGateway 主要在调用链的入口处进行限流熔断，主要用于流量整形和保护下游服务。而 Sentinel 则可用于微服务内部的每一次服务调用，包括服务间的调用以及与外部系统的交互。"]]},"created_time":1712567247944,"last_edited_time":1712567247947,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"b733b4d6-6546-4f92-94c2-495c28098053":{"value":{"id":"b733b4d6-6546-4f92-94c2-495c28098053","type":"numbered_list","properties":{"title":[["Feign的降级策略",[["b"]]],["：\n是的，你在 Feign 里面配置的降级策略是用于配合熔断的。当服务调用失败或超时时，熔断器会跳闸，调用方会执行降级策略，而不再等待服务的响应。这样可以快速响应用户，避免服务长时间阻塞。"]]},"created_time":1712567247944,"last_edited_time":1712567247947,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"e2c9ce68-f03b-411a-9bd2-9ead8a71f125":{"value":{"id":"e2c9ce68-f03b-411a-9bd2-9ead8a71f125","type":"numbered_list","properties":{"title":[["熔断的意义",[["b"]]],["：\n熔断的目的不仅仅是为了响应服务挂掉的情况。更重要的是，当服务出现延迟或者错误率上升时，通过"],["熔断机制，可以防止这种情况继续恶化",[["b"]]],["，形成雪崩效应。简单来说，熔断器的作用就像是电路中的保险丝，当检测到过多的服务调用失败，熔断器会跳闸，阻止进一步的服务调用，从而保护整个系统的稳定性。"]]},"content":["c5ee8965-8e16-4251-9c5d-c7536ffa7be2"],"created_time":1712567247944,"last_edited_time":1712592742984,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"c5ee8965-8e16-4251-9c5d-c7536ffa7be2":{"value":{"id":"c5ee8965-8e16-4251-9c5d-c7536ffa7be2","type":"text","properties":{"title":[["熔断之后，服务可能会自我恢复，或者通过人工干预恢复。在这个过程中，熔断器可以通过“半开”状态，尝试放行部分服务调用，如果这些调用成功，那么熔断器会自动闭合，恢复服务调用。这样，既可以快速响应服务问题，又可以保护系统的稳定性，避免因为一个服务的问题影响到整个系统。"]]},"created_time":1712567247944,"last_edited_time":1712567247947,"parent_id":"e2c9ce68-f03b-411a-9bd2-9ead8a71f125","parent_table":"block","alive":true}},"718a42a7-4cea-4cde-8301-8cb5e90102fa":{"value":{"id":"718a42a7-4cea-4cde-8301-8cb5e90102fa","type":"divider","created_time":1712567700779,"last_edited_time":1712567700781,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"45417877-fae7-4b1a-a5ba-50d952910861":{"value":{"id":"45417877-fae7-4b1a-a5ba-50d952910861","type":"text","created_time":1712567702944,"last_edited_time":1712567702944,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"e416bcdd-6b48-4318-a3a5-562b1358d5a7":{"value":{"id":"e416bcdd-6b48-4318-a3a5-562b1358d5a7","type":"quote","properties":{"title":[["你说seata是简单、易扩展、自治的事务解决方案。说出理由，自治是什么意思。再给我一个java代码的例子"]]},"created_time":1712567710221,"last_edited_time":1712567712988,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"9f825b51-974d-4a57-b489-d88f03c7a43a":{"value":{"id":"9f825b51-974d-4a57-b489-d88f03c7a43a","type":"text","properties":{"title":[["Seata的特性",[["b"]]],["："]]},"created_time":1712567724960,"last_edited_time":1712567724964,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"e6b65893-e042-416e-8cdf-b6fed61e9a45":{"value":{"id":"e6b65893-e042-416e-8cdf-b6fed61e9a45","type":"bulleted_list","properties":{"title":[["简单",[["b"]]],["：Seata提供了简单易用的API和注解，使得开发者可以很容易地在业务代码中使用Seata来进行分布式事务控制。同时，Seata支持Spring Cloud、Dubbo和Motan等多种微服务框架。"]]},"created_time":1712567724961,"last_edited_time":1712567724964,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"6d3bc565-c3ca-4f60-840f-5c3eba79e119":{"value":{"id":"6d3bc565-c3ca-4f60-840f-5c3eba79e119","type":"bulleted_list","properties":{"title":[["易扩展",[["b"]]],["：Seata采用模块化的设计，使得各个模块可以单独升级和扩展，而且Seata提供了丰富的SPI扩展点，开发者可以通过实现SPI接口来定制自己的扩展模块。"]]},"created_time":1712567724961,"last_edited_time":1712567724964,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"117b0e27-b2d7-4315-968a-094fee850a1f":{"value":{"id":"117b0e27-b2d7-4315-968a-094fee850a1f","type":"bulleted_list","properties":{"title":[["自治",[["b"]]],["：在Seata中，每个服务参与者都能够自主决定其本地事务的提交或回滚，而全局事务的提交或回滚则由全局事务协调者来决定。这种模式下，服务参与者只需要关注自身的业务逻辑，而不需要关注其他服务参与者的状态和行为，从而实现了自治。"]]},"created_time":1712567724961,"last_edited_time":1712567724964,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"79b0ecb1-5769-4e5b-8847-2c641a7b377f":{"value":{"id":"79b0ecb1-5769-4e5b-8847-2c641a7b377f","type":"text","properties":{"title":[["Seata的Java代码示例",[["b"]]],["："]]},"created_time":1712567724961,"last_edited_time":1712567724964,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"1d3127c9-2a09-4f0a-845f-b3eaf9b12bd9":{"value":{"id":"1d3127c9-2a09-4f0a-845f-b3eaf9b12bd9","type":"code","properties":{"title":[["// 引入Seata的全局事务注解\nimport io.seata.spring.annotation.GlobalTransactional;\n\n@Service\npublic class BusinessService {\n\n    @Autowired\n    private OrderService orderService;\n\n    @Autowired\n    private StorageService storageService;\n\n    @Autowired\n    private AccountService accountService;\n\n    /**\n     * 减库存，下订单，扣余额，全局事务控制\n     */\n    @GlobalTransactional // 开启全局事务\n    public void purchase(String userId, String commodityCode, int orderCount) {\n        // 扣减库存\n        storageService.deduct(commodityCode, orderCount);\n\n        // 创建订单\n        orderService.create(userId, commodityCode, orderCount);\n\n        // 扣减账户余额\n        int orderMoney = calculate(commodityCode, orderCount);\n        accountService.debit(userId, orderMoney);\n    }\n}\n"]],"language":[["Java"]]},"format":{"code_wrap":true},"created_time":1712567724961,"last_edited_time":1712567724964,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"8a5d4af5-a99b-4f40-af9e-76684d38765e":{"value":{"id":"8a5d4af5-a99b-4f40-af9e-76684d38765e","type":"text","properties":{"title":[["在以上代码中，"],["@GlobalTransactional",[["c"]]],["注解表示该方法需要进行全局事务控制。当方法执行时，Seata会自动开启一个全局事务，这个全局事务会包含所有的本地事务。如果所有的本地事务都执行成功，那么Seata会提交全局事务，否则Seata会回滚全局事务，从而保证所有本地事务的一致性。"]]},"created_time":1712567724961,"last_edited_time":1712567724964,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"dc52d713-7845-495e-85fe-fb0feb9c67b7":{"value":{"id":"dc52d713-7845-495e-85fe-fb0feb9c67b7","type":"divider","created_time":1712596089872,"last_edited_time":1712596089873,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"3b53d0e0-8126-4164-b655-8c45bd2984f9":{"value":{"id":"3b53d0e0-8126-4164-b655-8c45bd2984f9","type":"text","created_time":1712596089895,"last_edited_time":1712596089895,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"c8d1cb6f-2905-4968-a04b-afbe302affc7":{"value":{"id":"c8d1cb6f-2905-4968-a04b-afbe302affc7","type":"quote","properties":{"title":[["我无法理解自治这个概念，在我思想中，全局事务就该是这样的，本地事务只管自己，全局协调者发现任何1个事务失败就马上会滚，全部成功才成功。还有其他分布式事务解决方案不是这样的吗"]]},"created_time":1712567994615,"last_edited_time":1712567999897,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"73e4bd9d-053b-4dc6-bebd-73a95113dbc4":{"value":{"id":"73e4bd9d-053b-4dc6-bebd-73a95113dbc4","type":"text","properties":{"title":[["你理解的没有错，\"自治\"在这个上下文中的确是指的服务参与者（或者说是本地事务参与者）只需要关注自己的业务逻辑，而不需要关注其他服务参与者的状态和行为。这是大部分分布式事务解决方案的基本思路，包括两阶段提交（2PC）、三阶段提交（3PC）、TCC（Try-Confirm-Cancel）等。"]]},"created_time":1712568006302,"last_edited_time":1712568006305,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"4d8d2022-d8b4-4815-92f4-e15848a1d846":{"value":{"id":"4d8d2022-d8b4-4815-92f4-e15848a1d846","type":"text","properties":{"title":[["\"自治\"这个词在这里更多的是强调的一种设计理念，即服务的自治性，服务应该尽可能地去除对外部的依赖，使得"],["每个服务都能够独立完成自己的任务",[["b"]]],["，这样可以提高服务的可用性和可维护性。"]]},"created_time":1712568006302,"last_edited_time":1712568166965,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"8b93f5f7-7123-405d-8dab-ecb7c31e6e31":{"value":{"id":"8b93f5f7-7123-405d-8dab-ecb7c31e6e31","type":"text","properties":{"title":[["至于其他的分布式事务解决方案，确实也是类似的思路，但在具体的实现上可能会有所不同。例如，2PC和3PC虽然都是基于协调者和参与者的模式，但在事务提交过程中的具体协议是不同的；TCC则是通过业务逻辑来确保事务的最终一致性，与2PC和3PC的预提交机制有所不同。"]]},"created_time":1712568006302,"last_edited_time":1712568006305,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"f5bfcd3d-0e72-426f-aab1-16a1b9e2a999":{"value":{"id":"f5bfcd3d-0e72-426f-aab1-16a1b9e2a999","type":"text","properties":{"title":[["这也是为什么Seata会强调自己的\"自治\"特性，因为在Seata的设计中，服务参与者不仅仅是事务的执行者，还需承担回滚日志的记录和存储，这样可以在出现问题时由本地事务参与者自己完成事务的回滚，而不需要依赖于全局事务协调者或者其他服务。"]]},"created_time":1712568006302,"last_edited_time":1712568006305,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"fb1ccdf2-c4a8-4532-8278-9fd4163a97c2":{"value":{"id":"fb1ccdf2-c4a8-4532-8278-9fd4163a97c2","type":"divider","created_time":1712568034467,"last_edited_time":1712568034468,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"24dfb7b3-a799-4e55-aae4-9023737ebe80":{"value":{"id":"24dfb7b3-a799-4e55-aae4-9023737ebe80","type":"text","created_time":1712568131980,"last_edited_time":1712568131980,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"25110e28-f012-4a67-b11d-c2dd4575be29":{"value":{"id":"25110e28-f012-4a67-b11d-c2dd4575be29","type":"quote","properties":{"title":[["给我讲解下2PC，3PC，TCC，并给我代码例子"]]},"created_time":1712568133457,"last_edited_time":1712568142181,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"6934f9ce-191d-4ce5-942a-77a127fec3be":{"value":{"id":"6934f9ce-191d-4ce5-942a-77a127fec3be","type":"text","properties":{"title":[["2PC（Two-Phase Commit）",[["b"]]]]},"created_time":1712568146530,"last_edited_time":1712568146540,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"2b403179-1a6a-4aac-aa17-2b66a613eb81":{"value":{"id":"2b403179-1a6a-4aac-aa17-2b66a613eb81","type":"text","properties":{"title":[["2PC是一种强一致性的分布式事务协议，它分为两个阶段：预提交阶段和提交阶段。"]]},"created_time":1712568146530,"last_edited_time":1712568146540,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"dd7e9e63-9d72-4921-a188-09dcb450ed72":{"value":{"id":"dd7e9e63-9d72-4921-a188-09dcb450ed72","type":"bulleted_list","properties":{"title":[["预提交阶段：协调者向所有参与者发送事务内容，询问是否可以提交事务，并开始等待所有参与者的响应。"]]},"created_time":1712568146530,"last_edited_time":1712568146540,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"52fee632-7f3b-4822-8869-3d4d9efeaf4f":{"value":{"id":"52fee632-7f3b-4822-8869-3d4d9efeaf4f","type":"bulleted_list","properties":{"title":[["提交阶段：如果协调者收到所有参与者都同意提交事务的消息，那么就向所有参与者发送提交事务的请求，事务被正式提交。"]]},"created_time":1712568146530,"last_edited_time":1712568146540,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"2ee590ab-3c01-4921-849c-1df256e6b694":{"value":{"id":"2ee590ab-3c01-4921-849c-1df256e6b694","type":"text","properties":{"title":[["2PC协议的主要问题是同步阻塞问题和单点问题。如果有任何一个节点在第二阶段未返回确认信息，那么协调者会一直阻塞等待。如果协调者在第二阶段崩溃，那么所有参与者会一直阻塞等待。"]]},"created_time":1712568146530,"last_edited_time":1712568146540,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"ad8bd99e-80cf-4d5b-8510-bafd1ed7ec2e":{"value":{"id":"ad8bd99e-80cf-4d5b-8510-bafd1ed7ec2e","type":"text","properties":{"title":[["3PC（Three-Phase Commit）",[["b"]]]]},"created_time":1712568146530,"last_edited_time":1712568146540,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"41be8556-7f91-437a-ab77-b9e776129c21":{"value":{"id":"41be8556-7f91-437a-ab77-b9e776129c21","type":"text","properties":{"title":[["3PC是在2PC的基础上进行改进的协议，它增加了超时机制和可查询状态，分为CanCommit、PreCommit、doCommit三个阶段。"]]},"created_time":1712568146530,"last_edited_time":1712568146540,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"3fe8d752-1a3d-4442-82bc-75f3806f198b":{"value":{"id":"3fe8d752-1a3d-4442-82bc-75f3806f198b","type":"bulleted_list","properties":{"title":[["CanCommit阶段：事务询问阶段，协调者向所有参与者发送CanCommit请求，询问是否可以执行事务提交操作。"]]},"created_time":1712568146530,"last_edited_time":1712568146540,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"f9b1b730-e6c6-49ac-ba8d-24bf02e45a47":{"value":{"id":"f9b1b730-e6c6-49ac-ba8d-24bf02e45a47","type":"bulleted_list","properties":{"title":[["PreCommit阶段：事务预提交阶段，协调者向所有参与者发送PreCommit请求，开始执行事务操作。"]]},"created_time":1712568146530,"last_edited_time":1712568146540,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"e8f8a167-7c4d-4588-8b83-0ab7d1048e59":{"value":{"id":"e8f8a167-7c4d-4588-8b83-0ab7d1048e59","type":"bulleted_list","properties":{"title":[["doCommit阶段：事务正式提交阶段，协调者向所有参与者发送doCommit请求，完成事务提交。"]]},"created_time":1712568146530,"last_edited_time":1712568146540,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"27274856-82e7-4b78-9bdc-8d8ed30625dd":{"value":{"id":"27274856-82e7-4b78-9bdc-8d8ed30625dd","type":"text","properties":{"title":[["3PC协议解决了2PC的同步阻塞问题，但是在网络分区的情况下，仍可能导致数据不一致。"]]},"created_time":1712568146531,"last_edited_time":1712568146540,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"6ecc4296-2619-4578-8e40-609a814d0de7":{"value":{"id":"6ecc4296-2619-4578-8e40-609a814d0de7","type":"text","properties":{"title":[["TCC（Try-Confirm-Cancel）",[["b"]]]]},"created_time":1712568146531,"last_edited_time":1712568146540,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"a4084185-870f-42c7-8e6c-8c9e4b87a671":{"value":{"id":"a4084185-870f-42c7-8e6c-8c9e4b87a671","type":"text","properties":{"title":[["TCC是一种基于业务逻辑的分布式事务协议，它分为Try、Confirm和Cancel三个阶段。"]]},"created_time":1712568146531,"last_edited_time":1712568146540,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"64669192-a93a-44d3-b393-29c22c1d3fdc":{"value":{"id":"64669192-a93a-44d3-b393-29c22c1d3fdc","type":"bulleted_list","properties":{"title":[["Try阶段：尝试执行业务，写预备日志。"]]},"created_time":1712568146531,"last_edited_time":1712568146540,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"2a403baf-e553-4fc7-b3b9-1d7dde765b61":{"value":{"id":"2a403baf-e553-4fc7-b3b9-1d7dde765b61","type":"bulleted_list","properties":{"title":[["Confirm阶段：确认执行业务，根据预备日志完成业务操作。"]]},"created_time":1712568146531,"last_edited_time":1712568146540,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"a286ebf3-c50c-4358-ae51-2a2a2a16643b":{"value":{"id":"a286ebf3-c50c-4358-ae51-2a2a2a16643b","type":"bulleted_list","properties":{"title":[["Cancel阶段：取消执行业务，根据预备日志撤销在Try阶段执行的业务操作。"]]},"created_time":1712568146531,"last_edited_time":1712568146540,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"3f918c65-f4c0-480e-9126-9d0fd0b40262":{"value":{"id":"3f918c65-f4c0-480e-9126-9d0fd0b40262","type":"text","properties":{"title":[["TCC协议适合于业务逻辑强一致性要求不高，但需要长时间运行的场景。"]]},"created_time":1712568146531,"last_edited_time":1712568146540,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"80f1c4e4-2fba-4806-8df2-5f694e924e00":{"value":{"id":"80f1c4e4-2fba-4806-8df2-5f694e924e00","type":"text","properties":{"title":[["由于这三种协议都涉及到分布式系统的底层通信和协调机制，因此在实际的Java代码中不容易直接实现。在实际应用中，我们通常会使用像Seata这样的分布式事务中间件来处理分布式事务，这些中间件内部已经实现了相应的协议。"]]},"created_time":1712568146531,"last_edited_time":1712568146540,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"52016cbd-b135-4472-942b-3b6a8521ff95":{"value":{"id":"52016cbd-b135-4472-942b-3b6a8521ff95","type":"text","properties":{"title":[["例如，Seata的AT模式就是基于2PC协议的，而TCC模式则是基于TCC协议的。在Seata中使用AT或者TCC模式，只需要在业务方法上加上"],["@GlobalTransactional",[["c"]]],["注解即可，Seata会自动进行分布式事务的协调和控制，开发者只需要关注业务逻辑。"]]},"created_time":1712568146531,"last_edited_time":1712568146540,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"a8ca918b-81d6-45da-a1e2-38b200536f30":{"value":{"id":"a8ca918b-81d6-45da-a1e2-38b200536f30","type":"divider","created_time":1712569246261,"last_edited_time":1712569246263,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"3a47ceb0-d923-4bbd-af65-702f1dc0f219":{"value":{"id":"3a47ceb0-d923-4bbd-af65-702f1dc0f219","type":"text","created_time":1712569246893,"last_edited_time":1712569246893,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"6cf4cf2d-c501-43fa-acce-dbee44be5429":{"value":{"id":"6cf4cf2d-c501-43fa-acce-dbee44be5429","type":"quote","properties":{"title":[["协调者只是告知是否可以提交，参与者才是真正提交事务的。2PC加一个超时机制不就完了吗，为啥要引入3PC？2PC的预提交阶段是在事务执行后最后commit的时候才去问协调者，3PC的CanCommit也是啊。后面PreCommit开始执行事务是什么意思？为什么3PC可以解决同步阻塞的问题，所有事务不都等着提交吗。还有为啥会数据不一致？"]]},"created_time":1712569248186,"last_edited_time":1712569252619,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"c69da88b-94f9-4294-9057-278e67df3198":{"value":{"id":"c69da88b-94f9-4294-9057-278e67df3198","type":"text","properties":{"title":[["2PC和3PC之间的区别确实可以看作是对超时机制的不同处理。但是，需要注意的是，单纯的超时机制可能无法满足所有场景。比如，在2PC中，一旦"],["协调者宕机",[["b"]]],["，参与者在没有收到协调者的最终决定之前，会一直处于等待状态，这就导致了阻塞。即使设置了超时，参与者也无法决定究竟是提交还是回滚事务，因为它们无法确定协调者的最终决定。"]]},"created_time":1712569267899,"last_edited_time":1712569325180,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"787be75f-ddd4-4011-ab2d-0dbd140a8792":{"value":{"id":"787be75f-ddd4-4011-ab2d-0dbd140a8792","type":"text","properties":{"title":[["为了解决这个问题，3PC引入了第三个阶段。在CanCommit阶段，协调者询问参与者是否可以提交，参与者回复Yes或No后，会进入等待状态。此时参与者已经准备好提交，但并未真正提交。然后在PreCommit阶段，协调者会发出预提交请求，参与者收到请求后会执行事务操作并将状态切换为PreCommit，然后回复ACK。在最后的doCommit阶段，一旦协调者收到所有参与者的ACK，就会发出正式提交，所有参与者在收到doCommit请求后，才会正式提交事务。"]]},"created_time":1712569267899,"last_edited_time":1712569267903,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"4a3bb805-8893-49f5-86a9-df810fdd5d4c":{"value":{"id":"4a3bb805-8893-49f5-86a9-df810fdd5d4c","type":"text","properties":{"title":[["这个设计的好处是，参与者在等待协调者的doCommit请求时，如果超时了，那么可以直接提交事务，而不用一直阻塞等待。因为如果参与者已经收到了PreCommit请求，那么说明协调者已经决定要提交事务（因为协调者在发出PreCommit请求之前，已经收到了所有参与者的Yes响应）。所以即使后续协调者宕机了，参与者也可以自己做出决定，不会一直阻塞。这也是3PC能够解决2PC同步阻塞问题的原因。"]]},"created_time":1712569267899,"last_edited_time":1712569267903,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"9c919695-0e1a-48ba-930d-ce3ba56d25e8":{"value":{"id":"9c919695-0e1a-48ba-930d-ce3ba56d25e8","type":"text","properties":{"title":[["至于可能导致数据不一致的问题，主要是因为在某些情况下，如网络分区，协调者和部分参与者可能无法通信。假设在PreCommit阶段，协调者发出了PreCommit请求，但只有部分参与者收到了这个请求并回复了ACK，而其他由于网络问题未收到请求的参与者可能仍处于初始状态。这时，如果协调者和收到PreCommit的参与者之间的网络恢复了，协调者可能会以为所有参与者都已经准备好提交，从而发出doCommit请求，导致只有部分参与者提交了事务，造成数据不一致。"]]},"created_time":1712569267899,"last_edited_time":1712569267903,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"61707885-7623-4de5-83e5-9138401f14c3":{"value":{"id":"61707885-7623-4de5-83e5-9138401f14c3","type":"text","created_time":1712591801616,"last_edited_time":1712591801616,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"327e92ea-2f1d-4a43-a8fd-e92c1e658647":{"value":{"id":"327e92ea-2f1d-4a43-a8fd-e92c1e658647","type":"quote","properties":{"title":[["2PC会有一直阻塞等待的风险，3PC有数据不一致的缺点，TCC你也说会导致数据不一致。那在金融系统要求强一致性的服务该怎么办呢"]]},"created_time":1712591803472,"last_edited_time":1712591808119,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"00b1ae27-2fd7-4cd2-bd13-cefc2f64e17b":{"value":{"id":"00b1ae27-2fd7-4cd2-bd13-cefc2f64e17b","type":"text","properties":{"title":[["对于金融系统这种强一致性要求非常高的场景，通常会采取其他的一些技术手段和架构设计来解决分布式事务问题。"]]},"created_time":1712591838655,"last_edited_time":1712591838659,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"a1ea2fc0-a045-43b8-9ac8-587e0ff7e616":{"value":{"id":"a1ea2fc0-a045-43b8-9ac8-587e0ff7e616","type":"numbered_list","properties":{"title":[["单体架构/垂直划分",[["b"]]],["：在一些非常关键的业务场景，如支付、转账等，可能会采用单体架构或者进行垂直的业务划分，将整个业务流程放在一个服务或者一个数据库中，这样就可以使用传统的ACID事务来保证一致性。"]]},"created_time":1712591838655,"last_edited_time":1712591838659,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"1a9f9684-b654-4cb7-823d-1e226f399d79":{"value":{"id":"1a9f9684-b654-4cb7-823d-1e226f399d79","type":"numbered_list","properties":{"title":[["最终一致性",[["b"]]],["：在一些不需要即时强一致性的场景，可以采用最终一致性的方式，通过消息队列、补偿事务等方式，在一定时间范围内达到数据一致性。例如，银行的"],["对账系统",[["b"]]],["就是一个典型的最终一致性应用。"]]},"created_time":1712591838656,"last_edited_time":1712591866418,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"63276715-3dc1-4e19-be44-996b52e7695c":{"value":{"id":"63276715-3dc1-4e19-be44-996b52e7695c","type":"numbered_list","properties":{"title":[["分布式锁/悲观锁",[["b"]]],["：在并发量不是特别高，对性能要求不是特别高的场景，可以使用分布式锁或者悲观锁来保证一致性。但是这种方式可能会影响系统的性能和可用性。"]]},"created_time":1712591838656,"last_edited_time":1712591838659,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"0ad28190-328c-447b-9107-64bc7fcbdb2d":{"value":{"id":"0ad28190-328c-447b-9107-64bc7fcbdb2d","type":"numbered_list","properties":{"title":[["Saga模式",[["b"]]],["：Saga模式是一种长事务的解决方案，它将一个长事务拆分为多个本地事务，并通过事件驱动的方式来协调这些本地事务。如果某个本地事务失败，Saga会执行相应的补偿事务来保证数据的一致性。"]]},"created_time":1712591838656,"last_edited_time":1712591838659,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"3974a1bb-cf31-4f1e-b631-3a0fb934ceff":{"value":{"id":"3974a1bb-cf31-4f1e-b631-3a0fb934ceff","type":"text","properties":{"title":[["需要注意的是，不同的业务场景需要选择不同的方案，没有一种方案可以解决所有的问题，需要根据具体的业务需求和系统条件来选择最合适的方案。"]]},"created_time":1712591838656,"last_edited_time":1712591838659,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"1b4b8568-8c76-4faf-a1d6-8fa8a938dd97":{"value":{"id":"1b4b8568-8c76-4faf-a1d6-8fa8a938dd97","type":"divider","created_time":1712591927463,"last_edited_time":1712591927464,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"4c84eb93-a6b3-42ba-822c-a2dc9186b6c2":{"value":{"id":"4c84eb93-a6b3-42ba-822c-a2dc9186b6c2","type":"text","created_time":1712591927490,"last_edited_time":1712591929968,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"3f5df400-5167-4203-91d8-33e2722ccbfc":{"value":{"id":"3f5df400-5167-4203-91d8-33e2722ccbfc","type":"quote","properties":{"title":[["现在2PC和3PC我大概懂了，TCC模式我还是不明白"]]},"created_time":1712591933293,"last_edited_time":1712592177042,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"5b6c6b03-0801-4ddc-a359-217438f11ef1":{"value":{"id":"5b6c6b03-0801-4ddc-a359-217438f11ef1","type":"text","properties":{"title":[["TCC (Try-Confirm-Cancel) 是一种两阶段型的补偿型事务模式，它主要用于处理分布式系统中的业务逻辑，以保证分布式事务在各个服务间的一致性。"]]},"created_time":1712592149246,"last_edited_time":1712592149260,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"2069a0e2-4075-4f93-9884-9827ffc4efd4":{"value":{"id":"2069a0e2-4075-4f93-9884-9827ffc4efd4","type":"text","properties":{"title":[["TCC的每个阶段解释如下："]]},"created_time":1712592149246,"last_edited_time":1712592149260,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"37a34f20-526e-4e14-aa46-54bd9f9a5dec":{"value":{"id":"37a34f20-526e-4e14-aa46-54bd9f9a5dec","type":"bulleted_list","properties":{"title":[["Try 阶段：尝试执行业务，执行所有业务检查，以及预留必要的业务资源。"]]},"created_time":1712592149246,"last_edited_time":1712592149260,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"751971aa-d8b2-4988-8b97-71b0e053c4ac":{"value":{"id":"751971aa-d8b2-4988-8b97-71b0e053c4ac","type":"bulleted_list","properties":{"title":[["Confirm 阶段：真正执行业务，不做任何业务检查，只使用Try阶段预留的业务资源。如果确认操作失败，只能人工干预处理。"]]},"created_time":1712592149246,"last_edited_time":1712592149260,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"56254ec1-5be1-4101-bf88-46ed83c065cb":{"value":{"id":"56254ec1-5be1-4101-bf88-46ed83c065cb","type":"bulleted_list","properties":{"title":[["Cancel 阶段：在业务执行失败时，取消执行业务，释放在Try阶段预留的业务资源。"]]},"created_time":1712592149246,"last_edited_time":1712592149260,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"0c31f2d7-c4de-42dc-974f-f69697a354ba":{"value":{"id":"0c31f2d7-c4de-42dc-974f-f69697a354ba","type":"text","properties":{"title":[["一个简单的TCC模式的例子是银行转账服务："]]},"created_time":1712592149246,"last_edited_time":1712592149260,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"2883ad42-b2c2-49d4-abf2-73c3a1f7ec3b":{"value":{"id":"2883ad42-b2c2-49d4-abf2-73c3a1f7ec3b","type":"code","properties":{"title":[["public interface TransferService {\n\n    // Try阶段\n    void tryTransfer(TransferInfo transferInfo) throws BusinessException;\n\n    // Confirm阶段\n    void confirmTransfer(TransferInfo transferInfo) throws BusinessException;\n\n    // Cancel阶段\n    void cancelTransfer(TransferInfo transferInfo) throws BusinessException;\n\n}\n"]],"language":[["Java"]]},"format":{"code_wrap":true},"created_time":1712592149255,"last_edited_time":1712592149260,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"4134a69f-f960-46bc-a919-1a6c5961a32c":{"value":{"id":"4134a69f-f960-46bc-a919-1a6c5961a32c","type":"text","properties":{"title":[["在这个例子中，tryTransfer方法会尝试执行转账操作，例如检查账户余额是否足够，预留转账金额等。如果tryTransfer成功，那么会进入confirmTransfer阶段，真正执行转账操作。如果在tryTransfer或confirmTransfer阶段发生异常，那么会调用cancelTransfer方法，取消转账操作，释放预留的转账金额。"]]},"created_time":1712592149255,"last_edited_time":1712592149260,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"679c0ac3-b61d-462f-873e-95512bf53534":{"value":{"id":"679c0ac3-b61d-462f-873e-95512bf53534","type":"text","properties":{"title":[["TCC模式的优点是业务逻辑清晰，容易理解和实现。但是也有一些缺点，例如需要为每个操作实现对应的确认操作和取消操作，这可能会增加开发的复杂性。另外，如果在Confirm阶段或Cancel阶段出现异常，可能需要人工介入处理。"]]},"created_time":1712592149255,"last_edited_time":1712592149260,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"15cbeb95-7d43-4517-bae7-502daadde547":{"value":{"id":"15cbeb95-7d43-4517-bae7-502daadde547","type":"text","properties":{"title":[["TCC模式适合于需要进行复杂业务操作、业务检查、资源预留的分布式事务场景，例如电商系统的订单创建、支付系统的资金转账等。"]]},"created_time":1712592149255,"last_edited_time":1712592149260,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"36e3c748-966b-44c5-8a8c-2e7906b1d8bc":{"value":{"id":"36e3c748-966b-44c5-8a8c-2e7906b1d8bc","type":"divider","created_time":1712592155301,"last_edited_time":1712592155303,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"33aefaa8-d562-463a-9865-b1eb2438874b":{"value":{"id":"33aefaa8-d562-463a-9865-b1eb2438874b","type":"text","created_time":1712592185679,"last_edited_time":1712592185679,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"7a8f86bf-f7d9-47df-b6a8-718ec1fac9ef":{"value":{"id":"7a8f86bf-f7d9-47df-b6a8-718ec1fac9ef","type":"quote","properties":{"title":[["2pc模式和3pc模式，其实不关心业务逻辑的，主要是关心最后commit，所以从单体事务迁移过来的时候不用做太大的代码修改。但是如果我使用TCC的话，意味着我需要重新写一遍业务逻辑是吧。我还是无法理解TCC模式的分布式事务思想体现，TCC也有协调者吗，需要多个tryTransfer都成功才能confirm是吧。如果任意节点tryTransfer不成功，或者协调者挂了也会同步阻塞是吧"]]},"created_time":1712592551304,"last_edited_time":1712592551680,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"3a99eb90-cf2b-4430-950c-aa31ca4645ae":{"value":{"id":"3a99eb90-cf2b-4430-950c-aa31ca4645ae","type":"text","properties":{"title":[["你的理解是正确的。TCC模式是需要对业务逻辑进行改造，需要为每个操作实现Try、Confirm和Cancel三个操作。它的主要思想是把一个全局事务划分为多个本地的Try、Confirm和Cancel操作，通过业务逻辑来保证全局事务的一致性。"]]},"created_time":1712592556367,"last_edited_time":1712592556370,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"610daf1e-e643-477e-bbc9-64d181d54b59":{"value":{"id":"610daf1e-e643-477e-bbc9-64d181d54b59","type":"text","properties":{"title":[["关于协调者，TCC模式一般也需要一个事务协调者来协调和控制全局事务的执行。协调者会记录每个参与者的状态，如果所有参与者的Try操作都成功，那么协调者会通知所有参与者执行Confirm操作。如果有任何一个参与者的Try操作失败，或者在一定的超时时间内没有收到参与者的响应，那么协调者会通知所有参与者执行Cancel操作。"]]},"created_time":1712592556367,"last_edited_time":1712592556370,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"43e6e2d8-91af-4046-8709-a48ab1e23e63":{"value":{"id":"43e6e2d8-91af-4046-8709-a48ab1e23e63","type":"text","properties":{"title":[["如果协调者挂了，一般会有以下处理方式："]]},"created_time":1712592556367,"last_edited_time":1712592556370,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"5f9f0901-b6e1-43bd-94e4-782fd86bd760":{"value":{"id":"5f9f0901-b6e1-43bd-94e4-782fd86bd760","type":"numbered_list","properties":{"title":[["状态恢复",[["b"]]],["：协调者挂了之后再次恢复，需要恢复其状态，这需要依赖持久化机制。协调者需要将事务的所有阶段和参与者的状态等信息持久化，挂掉后再次恢复时，可以通过这些信息恢复状态。"]]},"created_time":1712592556367,"last_edited_time":1712592556370,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"6bf427ba-1e60-498c-895f-74ab24dea6c0":{"value":{"id":"6bf427ba-1e60-498c-895f-74ab24dea6c0","type":"numbered_list","properties":{"title":[["超时处理",[["b"]]],["：为了防止长时间阻塞，TCC事务一般会设计超时机制。例如，如果在一定时间内协调者没有通知参与者进行Confirm或Cancel操作，那么参与者可以自动进行超时处理，如执行Cancel操作。"]]},"created_time":1712592556367,"last_edited_time":1712592556370,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"c9816bcb-69e1-45bb-afde-ae9d2511c0c8":{"value":{"id":"c9816bcb-69e1-45bb-afde-ae9d2511c0c8","type":"text","properties":{"title":[["至于同步阻塞问题，如果采用了超时处理机制，那么可以避免由于等待协调者导致的长时间阻塞。但是，由于TCC模式涉及到业务逻辑，业务执行的时间可能比较长，因此可能会有一定程度的阻塞。但这种阻塞一般可通过适当的系统设计和优化来缓解。"]]},"created_time":1712592556367,"last_edited_time":1712592556370,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"ba4c471e-c867-4bba-8372-1d9e42b1bbc4":{"value":{"id":"ba4c471e-c867-4bba-8372-1d9e42b1bbc4","type":"divider","created_time":1712596100546,"last_edited_time":1712596100548,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"c193321b-a43c-4abe-8028-017e19a39a4a":{"value":{"id":"c193321b-a43c-4abe-8028-017e19a39a4a","type":"text","created_time":1712596100567,"last_edited_time":1712596100567,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"51086886-1e2f-41fa-a8fc-80b03b189de5":{"value":{"id":"51086886-1e2f-41fa-a8fc-80b03b189de5","type":"quote","properties":{"title":[["前文你提到Seata提供了丰富的SPI扩展点，开发者可以通过实现SPI接口来定制自己的扩展模块，给我几个具体的例子。还有我理解SPI就是运行时的动态代理，我的理解正确吗"]]},"created_time":1712592580145,"last_edited_time":1712592721508,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"9b562033-6e23-4213-80f1-ca7c3aa9021b":{"value":{"id":"9b562033-6e23-4213-80f1-ca7c3aa9021b","type":"text","properties":{"title":[["Seata 的 SPI 扩展点主要有以下几个例子："]]},"created_time":1712592714675,"last_edited_time":1712592714679,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"43ec7bd2-97cd-45e0-b9b1-be0d13c2098b":{"value":{"id":"43ec7bd2-97cd-45e0-b9b1-be0d13c2098b","type":"numbered_list","properties":{"title":[["ResourceManager：负责管理一类资源（例如数据库连接）的逻辑，用户可以根据自己的需求来实现这个接口。"]]},"created_time":1712592714675,"last_edited_time":1712592714679,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"8cc78461-688e-4ce8-90ae-e9d06a3fa2d0":{"value":{"id":"8cc78461-688e-4ce8-90ae-e9d06a3fa2d0","type":"numbered_list","properties":{"title":[["TransactionManager：负责事务的生命周期管理，包括开始事务、提交事务和回滚事务等。"]]},"created_time":1712592714675,"last_edited_time":1712592714679,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"e85ba214-079b-4106-bf6e-8c9cc04eda1a":{"value":{"id":"e85ba214-079b-4106-bf6e-8c9cc04eda1a","type":"numbered_list","properties":{"title":[["LockManager：负责锁的管理，包括获取锁、释放锁等。"]]},"created_time":1712592714675,"last_edited_time":1712592714679,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"8a2cdc35-7af5-4b9f-abf4-4c1ad8f8cb7a":{"value":{"id":"8a2cdc35-7af5-4b9f-abf4-4c1ad8f8cb7a","type":"numbered_list","properties":{"title":[["Store：负责事务日志的存储，用户可以根据自己的需求来实现这个接口，例如实现基于文件的存储、基于数据库的存储、基于分布式存储系统的存储等。"]]},"created_time":1712592714675,"last_edited_time":1712592714679,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"3194faf0-5f20-4e64-9bd7-33ce3a00490a":{"value":{"id":"3194faf0-5f20-4e64-9bd7-33ce3a00490a","type":"text","properties":{"title":[["开发者可以通过实现以上这些接口，来根据自己的需求定制自己的扩展。"]]},"created_time":1712592714675,"last_edited_time":1712592714679,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"0d691344-0287-41db-a4dc-6efc90121b26":{"value":{"id":"0d691344-0287-41db-a4dc-6efc90121b26","type":"text","properties":{"title":[["对于你的第二个问题，SPI (Service Provider Interface) 并不是运行时的动态代理。SPI 是一种服务发现机制。它通过在类路径下的 META-INF/services 目录中查找文件，然后加载文件所指定的类，这是一种运行时动态加载的机制。这与动态代理是两个不同的概念，动态代理主要是用来在运行时动态地创建一个接口的实现类。"]]},"created_time":1712592714675,"last_edited_time":1712592714679,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"990c119d-5e64-4248-bc7d-5c193e2d7173":{"value":{"id":"990c119d-5e64-4248-bc7d-5c193e2d7173","type":"divider","created_time":1712593314791,"last_edited_time":1712593314792,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"caa2e594-3ded-44df-aed3-ccae00e00bff":{"value":{"id":"caa2e594-3ded-44df-aed3-ccae00e00bff","type":"text","created_time":1712593314819,"last_edited_time":1712593314819,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"d8e91a74-f393-4541-85de-b0d9994b8590":{"value":{"id":"d8e91a74-f393-4541-85de-b0d9994b8590","type":"sub_sub_header","properties":{"title":[["总结"]]},"format":{"copied_from_pointer":{"id":"2e8129a2-e97f-4632-a4fc-12443036ef71","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556393724,"last_edited_time":1712556555736,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"2e8129a2-e97f-4632-a4fc-12443036ef71"}},"1dfb1717-e797-4dfa-8bc8-7576babf8a4c":{"value":{"id":"1dfb1717-e797-4dfa-8bc8-7576babf8a4c","type":"bulleted_list","properties":{"title":[["熔断是为了防止情况继续恶化甚至雪崩，如果代码健壮，熔断后还可以自治，自恢复"]]},"format":{"copied_from_pointer":{"id":"7a77d366-db86-41b5-a144-dc34cf4e6a83","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556393725,"last_edited_time":1712592785817,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"7a77d366-db86-41b5-a144-dc34cf4e6a83"}},"60783dcb-447c-48fc-b679-53f61d23744a":{"value":{"id":"60783dcb-447c-48fc-b679-53f61d23744a","type":"bulleted_list","properties":{"title":[["2PC，3PC，TCC仅仅是协议/思想，seata可以自由切换，支持3PC？"]]},"created_time":1712592781858,"last_edited_time":1712592877955,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"a42aa0d6-da55-4e18-a76e-c80fee9aa7a4":{"value":{"id":"a42aa0d6-da55-4e18-a76e-c80fee9aa7a4","type":"bulleted_list","properties":{"title":[["2PC有协调者崩溃造成同步等待的情况，没有超时概念，因为无法知道其他节点收到什么样的命令"]]},"created_time":1712592878316,"last_edited_time":1712592942776,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"a5a5fdaf-7afd-4e35-a57a-995e3aa65416":{"value":{"id":"a5a5fdaf-7afd-4e35-a57a-995e3aa65416","type":"bulleted_list","properties":{"title":[["3PC在二阶段prepare的时候就可以提交了，有可能造成数据不一致，比如A节点收到了prepare_cmd，B节点没收到或者超时收到prepare_cmd。就会造成数据不一致，但是总体而言解决了同步等待的问题，还有can_cmd从一定程度上规避了风险了，can_cmd都确认了其实后两步都很快。do_cmd只是做及时确认，由于有超时机制，其实默认60s就do了"]]},"created_time":1712592943082,"last_edited_time":1712593174832,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"2532841f-e3ec-46de-9139-e66fce35b43b":{"value":{"id":"2532841f-e3ec-46de-9139-e66fce35b43b","type":"bulleted_list","properties":{"title":[["TCC很烦的是要改代码，太恶心了。"]]},"created_time":1712593175051,"last_edited_time":1712593192745,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"0be83ed9-fdf0-4331-9ae0-d806fed28b34":{"value":{"id":"0be83ed9-fdf0-4331-9ae0-d806fed28b34","type":"bulleted_list","properties":{"title":[["一致性问题到最后都是追寻最终一致性，银行对账系统存在说明大家都不放心数据一致性问题，都在想方设法的保证最终一致性"]]},"created_time":1712593192992,"last_edited_time":1712593256618,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"1707fe6b-6b11-433e-a1bb-f672dab6a492":{"value":{"id":"1707fe6b-6b11-433e-a1bb-f672dab6a492","type":"text","created_time":1712593307667,"last_edited_time":1712593308359,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"2e452753-191d-40b2-8615-088e30e75c05":{"value":{"id":"2e452753-191d-40b2-8615-088e30e75c05","type":"text","created_time":1712556389954,"last_edited_time":1712556389954,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"065eeccd-fa3d-4cf5-954f-208414f1dd91":{"value":{"id":"065eeccd-fa3d-4cf5-954f-208414f1dd91","type":"sub_header","properties":{"title":[["7.事务隔离级别MVCC三个日志文件"]]},"created_time":1712556410493,"last_edited_time":1712556723035,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"427d4469-ee94-49f4-9583-fe087a99d192":{"value":{"id":"427d4469-ee94-49f4-9583-fe087a99d192","type":"sub_sub_header","properties":{"title":[["GPT问答"]]},"format":{"copied_from_pointer":{"id":"d85ef88a-350b-4e56-b8a7-5e9f2f01cf4a","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556413057,"last_edited_time":1712556413060,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"d85ef88a-350b-4e56-b8a7-5e9f2f01cf4a"}},"1becf461-3302-494a-8f73-dfc596c59193":{"value":{"id":"1becf461-3302-494a-8f73-dfc596c59193","type":"quote","properties":{"title":[["mysql事务隔离级别有哪些，分别解决了什么问题。MVCC机制是什么"]]},"format":{"copied_from_pointer":{"id":"962cb662-c38b-4438-b3a4-df15d28b90f6","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556413057,"last_edited_time":1712593327149,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"962cb662-c38b-4438-b3a4-df15d28b90f6"}},"2723fa6b-23e7-4815-936c-12f8b19010f3":{"value":{"id":"2723fa6b-23e7-4815-936c-12f8b19010f3","type":"text","properties":{"title":[["MySQL事务隔离级别有四种，分别为："]]},"created_time":1712593370293,"last_edited_time":1712593370300,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"ffda016d-a6e7-44be-a6af-9ece8a4d2a23":{"value":{"id":"ffda016d-a6e7-44be-a6af-9ece8a4d2a23","type":"numbered_list","properties":{"title":[["读未提交（Read Uncommitted）：这是最低的事务隔离级别，它允许事务读取尚未提交的改变。在这个级别，可能会出现脏读（Dirty Read）、不可重复读（Nonrepeatable Read）和幻读（Phantom Read）的情况。"]]},"created_time":1712593370294,"last_edited_time":1712593370300,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"e598b28d-835a-4d58-a42b-82461b32f6bb":{"value":{"id":"e598b28d-835a-4d58-a42b-82461b32f6bb","type":"numbered_list","properties":{"title":[["读已提交（Read Committed）：这是大多数DBMS（数据库管理系统）的默认隔离级别（但不是MySQL默认的）。它不允许脏读，但可能会出现不可重复读和幻读的情况。"]]},"created_time":1712593370295,"last_edited_time":1712593370300,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"ea92814f-36ce-4304-8034-36e2c44c93f6":{"value":{"id":"ea92814f-36ce-4304-8034-36e2c44c93f6","type":"numbered_list","properties":{"title":[["可重复读（Repeatable Read）：这是MySQL的默认隔离级别。它确保同一事务的多次读取结果是一致的。但是，它仍然可能出现幻读的情况。"]]},"created_time":1712593370295,"last_edited_time":1712593370300,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"5a9d70c6-99d0-4352-bdb8-16791c1842b0":{"value":{"id":"5a9d70c6-99d0-4352-bdb8-16791c1842b0","type":"numbered_list","properties":{"title":[["串行化（Serializable）：这是最高的隔离级别。它完全阻止了脏读、不可重复读和幻读。但是，这种隔离级别通常对性能有影响，因为它在读取时会阻止其他事务进行写入。"]]},"created_time":1712593370295,"last_edited_time":1712593370300,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"84e00d77-484c-4359-b1af-dde2f737f35d":{"value":{"id":"84e00d77-484c-4359-b1af-dde2f737f35d","type":"text","properties":{"title":[["解决的问题："]]},"created_time":1712593370295,"last_edited_time":1712593370300,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"cd62eeef-748c-4be8-b2cd-8da35a903164":{"value":{"id":"cd62eeef-748c-4be8-b2cd-8da35a903164","type":"bulleted_list","properties":{"title":[["脏读：某个事务已更新一份数据，另一个事务在此时读取了同一份数据，由于某些原因，前一个RollBack了操作，那么后一个事务获取的数据就会是不正确的。"]]},"created_time":1712593370295,"last_edited_time":1712593370300,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"7e0a27ac-b471-4178-bd51-ea8d15dc6469":{"value":{"id":"7e0a27ac-b471-4178-bd51-ea8d15dc6469","type":"bulleted_list","properties":{"title":[["不可重复读：在一个事务内，多次读同一数据。在这个事务还没有结束时，另一个事务也访问了该数据。那么，在第一个事务中的两次读数据之间，由于第二个事务的修改，那么第一个事务两次读到的数据可能是不一样的。 这就是不可重复读。"]]},"created_time":1712593370295,"last_edited_time":1712593370300,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"a5fb770c-2029-4108-823c-42d958eeb6b1":{"value":{"id":"a5fb770c-2029-4108-823c-42d958eeb6b1","type":"bulleted_list","properties":{"title":[["幻读：一个事务按照某种搜索条件获取了某些值，而这时另一个事务却插入了一些满足该搜索条件的新值，第一个事务再次使用同一搜索条件获取值，会发现多了一些原本不存在的记录，就像发生了幻觉一样，这就叫幻读。"]]},"created_time":1712593370295,"last_edited_time":1712593370300,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"2e55e855-2762-4667-bc2b-5b48115efcad":{"value":{"id":"2e55e855-2762-4667-bc2b-5b48115efcad","type":"text","properties":{"title":[["MVCC，即多版本并发控制（Multi-Version Concurrency Control）。它是一种并发控制的方法。当多个用户访问同一份数据时，每个用户都会看到自己的一份数据快照，而这份数据快照是在事务开始时创建的。这样，用户就不会看到其他用户在事务期间所做的修改。MVCC既可以实现读已提交和可重复读隔离级别，又可以通过在每行记录上保存两个隐藏的列来实现，一个用来记录该行的创建时间（或者说是版本号），一个用来记录该行的过期时间（或者说是版本号）。"]]},"created_time":1712593370295,"last_edited_time":1712593370300,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"b56e8256-87ec-40bd-b09f-cdb1d402ce53":{"value":{"id":"b56e8256-87ec-40bd-b09f-cdb1d402ce53","type":"divider","format":{"copied_from_pointer":{"id":"ed9d4efb-59bf-4e29-a0fe-eafef875dd2b","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556413057,"last_edited_time":1712556413060,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"ed9d4efb-59bf-4e29-a0fe-eafef875dd2b"}},"2bb428fa-2753-4e8a-9df2-15593379b9a7":{"value":{"id":"2bb428fa-2753-4e8a-9df2-15593379b9a7","type":"text","format":{"copied_from_pointer":{"id":"d8e91a74-f393-4541-85de-b0d9994b8590","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712593330826,"last_edited_time":1712593330826,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"0b3bd01e-b4fd-4b97-8a8d-16f92ab17fb6":{"value":{"id":"0b3bd01e-b4fd-4b97-8a8d-16f92ab17fb6","type":"quote","properties":{"title":[["只有for update加锁读才是当前读，其余都是快照读。MVCC引入目的，就是解决不可重复读的问题。但是如果在RR模式下，使用select * from xx for update 才会出现幻读，快照读是不会产生幻读的"]]},"created_time":1712593334049,"last_edited_time":1712593542620,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"faebcb8f-b5a2-4126-94a6-74d6bffdf43b":{"value":{"id":"faebcb8f-b5a2-4126-94a6-74d6bffdf43b","type":"text","properties":{"title":[["是的，你说的对。MVCC的目标主要是解决“不可重复读”问题，并且在大多数情况下，它可以防止“幻读”问题。"]]},"created_time":1712593547607,"last_edited_time":1712593547610,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"75079c74-3939-4a9c-9e6f-6dcc010671b1":{"value":{"id":"75079c74-3939-4a9c-9e6f-6dcc010671b1","type":"text","properties":{"title":[["在MySQL中，只有"],["SELECT...FOR UPDATE",[["c"]]],["才是当前读，它会对选定的行加锁。其余的查询都是快照读，它们工作在一个快照版本上，不会阻塞其他事务。"]]},"created_time":1712593547607,"last_edited_time":1712593547610,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"42afb93b-82bd-435c-85e4-098c8f66fed9":{"value":{"id":"42afb93b-82bd-435c-85e4-098c8f66fed9","type":"text","properties":{"title":[["在可重复读（Repeatable Read）隔离级别下，快照读确实不会产生幻读，因为同一事务的所有快照读都是基于相同的快照版本。但在同一事务中，如果你使用"],["SELECT...FOR UPDATE",[["c"]]],["（即当前读），那么由于此时会锁定被选中的行，如果此时有其他事务插入了满足该搜索条件的新行，当你再次执行相同的"],["SELECT...FOR UPDATE",[["c"]]],["语句时，你会看到这些新插入的行，这就可能导致幻读。"]]},"created_time":1712593547607,"last_edited_time":1712593547610,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"a0edc27e-d223-4501-bd58-a7c375da5edf":{"value":{"id":"a0edc27e-d223-4501-bd58-a7c375da5edf","type":"text","properties":{"title":[["为了解决这个问题，一种可能的解决方案是在事务开始时就将所有可能会访问的行都锁定，但这可能会导致性能问题。在实践中，如果需要防止幻读，通常会使用更高的隔离级别，如串行化（Serializable）。"]]},"created_time":1712593547607,"last_edited_time":1712593547610,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"ae37d0c4-d4fc-41a1-89e7-478a080019ae":{"value":{"id":"ae37d0c4-d4fc-41a1-89e7-478a080019ae","type":"divider","created_time":1712593610411,"last_edited_time":1712593610412,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"52aef311-2398-4309-bc49-c4f966fa1f45":{"value":{"id":"52aef311-2398-4309-bc49-c4f966fa1f45","type":"text","created_time":1712593590034,"last_edited_time":1712593590034,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"3c60c16e-c7a4-4ff1-a021-ef96f4d2e28f":{"value":{"id":"3c60c16e-c7a4-4ff1-a021-ef96f4d2e28f","type":"quote","properties":{"title":[["mysql在innodb引擎里面的三大日志文件是啥，分别有啥用"]]},"created_time":1712593593467,"last_edited_time":1712593597184,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"15e6c3d3-453c-4aed-8a1f-fe517631ae0d":{"value":{"id":"15e6c3d3-453c-4aed-8a1f-fe517631ae0d","type":"text","properties":{"title":[["MySQL的InnoDB存储引擎有三大重要的日志文件："]]},"created_time":1712593608008,"last_edited_time":1712593608012,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"c516fdd3-b3b6-47b0-8ea0-72723230c1c0":{"value":{"id":"c516fdd3-b3b6-47b0-8ea0-72723230c1c0","type":"numbered_list","properties":{"title":[["重做日志（Redo Log）：重做日志是InnoDB存储引擎层实现的一种日志，主要用于确保事务的原子性和持久性。在事务进行中，首先会把数据的修改写入到重做日志中，并刷新到磁盘，然后再修改内存中的数据。如果此时系统崩溃，那么在重启数据库后，InnoDB引擎可以通过重做日志重做（redo）数据的修改，从而保证数据的一致性。"]]},"created_time":1712593608008,"last_edited_time":1712593608012,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"cedea19a-39e4-414b-90d8-d430810d6431":{"value":{"id":"cedea19a-39e4-414b-90d8-d430810d6431","type":"numbered_list","properties":{"title":[["回滚日志（Undo Log）：回滚日志是InnoDB存储引擎层实现的一种日志，主要用于在事务失败或取消时，撤销（undo）已经进行的修改，确保事务的一致性。同时，回滚日志也用于实现多版本并发控制（MVCC），提供了从旧版本数据到新版本数据的视图。"]]},"created_time":1712593608008,"last_edited_time":1712593608012,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"f3607935-3534-47d8-9a67-6bd991bcc74d":{"value":{"id":"f3607935-3534-47d8-9a67-6bd991bcc74d","type":"numbered_list","properties":{"title":[["二进制日志（Binary Log）：二进制日志是MySQL服务器层实现的一种日志，记录了所有修改数据的SQL语句。主要用于实现MySQL的复制功能（将主服务器上的数据复制到从服务器），以及数据的恢复。需要注意的是，二进制日志和InnoDB的重做日志不同，二进制日志记录的是SQL语句级别的修改，而重做日志记录的是数据页级别的修改。"]]},"created_time":1712593608008,"last_edited_time":1712593608012,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"ce613549-c399-42e2-b6f4-d40fc9f1c3a7":{"value":{"id":"ce613549-c399-42e2-b6f4-d40fc9f1c3a7","type":"text","properties":{"title":[["这三种日志都是为了实现ACID（原子性、一致性、隔离性、持久性）事务特性，以及数据库的高可用性和数据的恢复。"]]},"created_time":1712593608009,"last_edited_time":1712593608012,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"9955cfbd-4850-4ce7-a7bd-fc8299fd0619":{"value":{"id":"9955cfbd-4850-4ce7-a7bd-fc8299fd0619","type":"sub_sub_header","properties":{"title":[["总结"]]},"format":{"copied_from_pointer":{"id":"d8e91a74-f393-4541-85de-b0d9994b8590","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556413057,"last_edited_time":1712556558148,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"d8e91a74-f393-4541-85de-b0d9994b8590"}},"98717c97-3877-4265-a90b-b0e54c956b95":{"value":{"id":"98717c97-3877-4265-a90b-b0e54c956b95","type":"bulleted_list","properties":{"title":[["acid和4个隔离级别都是老生常谈问题"]]},"format":{"copied_from_pointer":{"id":"1dfb1717-e797-4dfa-8bc8-7576babf8a4c","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556413057,"last_edited_time":1712593667561,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"1dfb1717-e797-4dfa-8bc8-7576babf8a4c"}},"00e0f457-b594-4314-a725-5cf0eb171fb1":{"value":{"id":"00e0f457-b594-4314-a725-5cf0eb171fb1","type":"bulleted_list","properties":{"title":[["当前对于MVCC底层和XS行表锁，gap，next-key，意向锁不是很清楚，极客时间的mysql45讲再深入研究"]]},"created_time":1712593669146,"last_edited_time":1712593756778,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"12d42d70-85cd-410d-a2a3-28ab6f8591ae":{"value":{"id":"12d42d70-85cd-410d-a2a3-28ab6f8591ae","type":"sub_header","properties":{"title":[["8.操作系统中的阻塞异步BIONIOAIO"]]},"created_time":1712556452413,"last_edited_time":1712556725001,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"471e2e8b-2905-49ef-8eec-0c69adf417c2":{"value":{"id":"471e2e8b-2905-49ef-8eec-0c69adf417c2","type":"sub_sub_header","properties":{"title":[["GPT问答"]]},"format":{"copied_from_pointer":{"id":"427d4469-ee94-49f4-9583-fe087a99d192","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556454775,"last_edited_time":1712556454777,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"427d4469-ee94-49f4-9583-fe087a99d192"}},"6800a277-744f-47b6-bbce-80d55edef89e":{"value":{"id":"6800a277-744f-47b6-bbce-80d55edef89e","type":"quote","properties":{"title":[["操作系统中的阻塞，非阻塞，异步，同步，BIO，NIO，AIO，给我解释下"]]},"format":{"copied_from_pointer":{"id":"1becf461-3302-494a-8f73-dfc596c59193","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556454775,"last_edited_time":1712593823236,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"1becf461-3302-494a-8f73-dfc596c59193"}},"e0eeec95-ae50-49ff-b8fc-2e1d99a1ee82":{"value":{"id":"e0eeec95-ae50-49ff-b8fc-2e1d99a1ee82","type":"text","properties":{"title":[["这些术语都是用来描述输入/输出 (I/O) 模型的，下面是每个术语的简单解释："]]},"created_time":1712594035850,"last_edited_time":1712594035856,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"41779ac5-4ab7-44ff-9ec1-ec0e552b26b8":{"value":{"id":"41779ac5-4ab7-44ff-9ec1-ec0e552b26b8","type":"numbered_list","properties":{"title":[["阻塞（Blocking）：阻塞调用是指调用结果返回之前，当前线程会被挂起。调用线程只有在得到结果之后才会返回。"]]},"created_time":1712594035850,"last_edited_time":1712594035856,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"44b4e904-beda-48d7-adbd-9fd5c07c9a45":{"value":{"id":"44b4e904-beda-48d7-adbd-9fd5c07c9a45","type":"numbered_list","properties":{"title":[["非阻塞（Non-blocking）：非阻塞调用指在不能立刻得到结果之前，该调用不会阻塞当前线程。"]]},"created_time":1712594035850,"last_edited_time":1712594035856,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"3719e695-ca2a-46c6-8581-ccddf01dd42a":{"value":{"id":"3719e695-ca2a-46c6-8581-ccddf01dd42a","type":"numbered_list","properties":{"title":[["同步（Synchronous）：同步意味着在一个操作完成之前，请求者必须等待。无论操作是阻塞的还是非阻塞的，只要是同步的，那么请求者都需要等待操作的完成。"]]},"created_time":1712594035851,"last_edited_time":1712594035856,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"f5748415-9a54-4ec1-a39e-70b07c43a2d3":{"value":{"id":"f5748415-9a54-4ec1-a39e-70b07c43a2d3","type":"numbered_list","properties":{"title":[["异步（Asynchronous）：异步意味着请求者在发出请求后就可以进行其他操作，不需要等待操作的完成。当操作完成时，通常会通过回调（callback），事件，通知等机制来通知请求者。"]]},"created_time":1712594035851,"last_edited_time":1712594035856,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"a3d78ec6-0f34-4e65-ac1c-8991f373c006":{"value":{"id":"a3d78ec6-0f34-4e65-ac1c-8991f373c006","type":"numbered_list","properties":{"title":[["BIO（Blocking I/O）：这是一个阻塞的同步I/O模型。在这个模型中，当一个I/O操作在进行时，调用者必须等待其完成。"]]},"created_time":1712594035851,"last_edited_time":1712594035856,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"d6e00fa4-d290-4908-8a5b-1e44bdcedb9a":{"value":{"id":"d6e00fa4-d290-4908-8a5b-1e44bdcedb9a","type":"numbered_list","properties":{"title":[["NIO（Non-blocking I/O）：这是一个非阻塞的同步I/O模型。在这个模型中，调用者可以在I/O操作完成前进行其他任务，但仍需要定期检查I/O操作是否完成。"]]},"created_time":1712594035851,"last_edited_time":1712594035856,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"90930151-7c67-4de3-9c46-793dc08f662f":{"value":{"id":"90930151-7c67-4de3-9c46-793dc08f662f","type":"numbered_list","properties":{"title":[["AIO（Asynchronous I/O）：这是一个非阻塞的异步I/O模型。在这个模型中，调用者完全不需要关心I/O操作，当操作完成时，系统会自动通知调用者。"]]},"created_time":1712594035851,"last_edited_time":1712594035856,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"82c86df4-4397-4f8d-bf29-0e191a49b912":{"value":{"id":"82c86df4-4397-4f8d-bf29-0e191a49b912","type":"text","properties":{"title":[["在理解这些术语的时候，要注意阻塞/非阻塞和同步/异步之间的区别。阻塞/非阻塞描述的是程序在等待调用结果（可能是I/O操作）时的状态，而同步/异步描述的是程序在发出调用请求后的行为。"]]},"created_time":1712594035851,"last_edited_time":1712594035856,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"e3648d0a-8f62-4525-828a-aa38ab6bea3f":{"value":{"id":"e3648d0a-8f62-4525-828a-aa38ab6bea3f","type":"divider","format":{"copied_from_pointer":{"id":"b56e8256-87ec-40bd-b09f-cdb1d402ce53","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556454775,"last_edited_time":1712556454777,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"b56e8256-87ec-40bd-b09f-cdb1d402ce53"}},"ad8f091b-438c-481b-bd2a-46c00310d6af":{"value":{"id":"ad8f091b-438c-481b-bd2a-46c00310d6af","type":"text","format":{"copied_from_pointer":{"id":"9955cfbd-4850-4ce7-a7bd-fc8299fd0619","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712594043572,"last_edited_time":1712594043572,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"d746ed99-61e4-42cf-8832-80680a2f5988":{"value":{"id":"d746ed99-61e4-42cf-8832-80680a2f5988","type":"quote","properties":{"title":[["3大io模型就是对于是否阻塞和的是否同步的具体实践。给我写出3大io模型的java例子。"]]},"created_time":1712594045318,"last_edited_time":1712594108285,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"c92967e3-ab81-4ce6-9c75-678738bbc7d1":{"value":{"id":"c92967e3-ab81-4ce6-9c75-678738bbc7d1","type":"text","properties":{"title":[["好的，以下是针对 Java 的 BIO, NIO和 AIO 的简单示例。"]]},"created_time":1712594265695,"last_edited_time":1712594265700,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"7a15eca8-ddf4-44bb-aec6-e5ab1bdd99c5":{"value":{"id":"7a15eca8-ddf4-44bb-aec6-e5ab1bdd99c5","type":"numbered_list","properties":{"title":[["BIO (Blocking I/O)",[["b"]]]]},"created_time":1712594265695,"last_edited_time":1712594265700,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"faf949fd-61b3-4c5a-8ef0-03d42cd909cf":{"value":{"id":"faf949fd-61b3-4c5a-8ef0-03d42cd909cf","type":"code","properties":{"title":[["// Server example\nServerSocket serverSocket = new ServerSocket(8888);\nwhile (true) {\n    Socket socket = serverSocket.accept(); // blocked until a connection is made\n    DataInputStream in = new DataInputStream(socket.getInputStream());\n    System.out.println(in.readUTF()); // blocked until all bytes are read\n    socket.close();\n}\n\n// Client example\nSocket socket = new Socket(\"localhost\", 8888);\nDataOutputStream out = new DataOutputStream(socket.getOutputStream());\nout.writeUTF(\"Hello Server\"); // blocked until all bytes are written\nsocket.close();\n"]],"language":[["Java"]]},"format":{"code_wrap":true},"created_time":1712594265695,"last_edited_time":1712594265700,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"907eaab2-2a8e-405e-b92c-9383795fd26c":{"value":{"id":"907eaab2-2a8e-405e-b92c-9383795fd26c","type":"numbered_list","properties":{"title":[["NIO (Non-blocking I/O)",[["b"]]]]},"created_time":1712594265695,"last_edited_time":1712594265700,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"5a5537cd-512e-47f6-803e-33c3e1869b71":{"value":{"id":"5a5537cd-512e-47f6-803e-33c3e1869b71","type":"code","properties":{"title":[["// Server example\nServerSocketChannel serverSocketChannel = ServerSocketChannel.open();\nserverSocketChannel.socket().bind(new InetSocketAddress(8888));\nserverSocketChannel.configureBlocking(false); // non-blocking mode\nwhile (true) {\n    SocketChannel socketChannel = serverSocketChannel.accept();\n    if (socketChannel != null) {\n        // do something with socketChannel...\n    }\n}\n\n// Client example\nSocketChannel socketChannel = SocketChannel.open();\nsocketChannel.configureBlocking(false); // non-blocking mode\nsocketChannel.connect(new InetSocketAddress(\"localhost\", 8888));\nwhile (!socketChannel.finishConnect()) {\n    // do something else...\n}\n"]],"language":[["Java"]]},"format":{"code_wrap":true},"created_time":1712594265695,"last_edited_time":1712594265700,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"5912ce03-87b1-4532-9eca-1ec30c4f8a45":{"value":{"id":"5912ce03-87b1-4532-9eca-1ec30c4f8a45","type":"numbered_list","properties":{"title":[["AIO (Asynchronous I/O)",[["b"]]]]},"created_time":1712594265696,"last_edited_time":1712594265700,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"27026dfd-1bfc-4a90-8a52-072ab21ec7af":{"value":{"id":"27026dfd-1bfc-4a90-8a52-072ab21ec7af","type":"code","properties":{"title":[["// Server example\nAsynchronousServerSocketChannel serverSocketChannel = AsynchronousServerSocketChannel.open().bind(new InetSocketAddress(8888));\nserverSocketChannel.accept(null, new CompletionHandler\u003cAsynchronousSocketChannel, Void\u003e() {\n    public void completed(AsynchronousSocketChannel socketChannel, Void attachment) {\n        // do something with socketChannel...\n        serverSocketChannel.accept(null, this); // accept the next connection\n    }\n\n    public void failed(Throwable throwable, Void attachment) {\n        throwable.printStackTrace();\n    }\n});\n\n// Client example\nAsynchronousSocketChannel socketChannel = AsynchronousSocketChannel.open();\nsocketChannel.connect(new InetSocketAddress(\"localhost\", 8888), null, new CompletionHandler\u003cVoid, Void\u003e() {\n    public void completed(Void result, Void attachment) {\n        // do something on successful connection...\n    }\n\n    public void failed(Throwable throwable, Void attachment) {\n        throwable.printStackTrace();\n    }\n});\n"]],"language":[["Java"]]},"format":{"code_wrap":true},"created_time":1712594265696,"last_edited_time":1712594265700,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"9265e4e3-9a53-4787-a6bb-704190f54122":{"value":{"id":"9265e4e3-9a53-4787-a6bb-704190f54122","type":"text","properties":{"title":[["以上代码仅供示例，可能还需要进一步的错误处理和资源管理。"]]},"created_time":1712594265696,"last_edited_time":1712594265700,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"00d4479f-81cb-48af-bc7f-89e84970d19e":{"value":{"id":"00d4479f-81cb-48af-bc7f-89e84970d19e","type":"divider","created_time":1712594270884,"last_edited_time":1712594270885,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"501d0801-cbe6-436a-a070-a3135f667555":{"value":{"id":"501d0801-cbe6-436a-a070-a3135f667555","type":"text","created_time":1712594271246,"last_edited_time":1712594271246,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"cadb7d65-b3f4-4cde-9067-b0d7692ff1c1":{"value":{"id":"cadb7d65-b3f4-4cde-9067-b0d7692ff1c1","type":"quote","properties":{"title":[["再给我写一个异步阻塞的例子"]]},"created_time":1712594272593,"last_edited_time":1712594279585,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"746610d1-41b6-4b75-8059-42feabb87562":{"value":{"id":"746610d1-41b6-4b75-8059-42feabb87562","type":"text","properties":{"title":[["在 Java 中，异步阻塞这个概念并不常见，因为异步通常都意味着非阻塞。但是可以通过使用 Future 来模拟异步阻塞的行为。具体来说，我们可以启动一个新的线程来执行任务（异步），然后在主线程中调用 Future.get() 方法来等待结果（阻塞）。下面是一个简单的示例："]]},"created_time":1712594295277,"last_edited_time":1712594295281,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"27a5e7b0-8bb8-4e48-b340-cc5e400cd3ac":{"value":{"id":"27a5e7b0-8bb8-4e48-b340-cc5e400cd3ac","type":"code","properties":{"title":[["import java.util.concurrent.*;\n\npublic class AsyncBlockingExample {\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\n        ExecutorService executorService = Executors.newSingleThreadExecutor();\n\n        Future\u003cString\u003e future = executorService.submit(() -\u003e {\n            // Simulate long running task\n            try {\n                Thread.sleep(2000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            return \"Hello, World!\";\n        });\n\n        // Do something else here...\n\n        // Wait for the task to finish (block)\n        String result = future.get();\n\n        System.out.println(result);\n\n        executorService.shutdown();\n    }\n}\n"]],"language":[["Java"]]},"format":{"code_wrap":true},"created_time":1712594295277,"last_edited_time":1712594295281,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"6473a9c8-e013-486e-a3bb-1ed6e272948b":{"value":{"id":"6473a9c8-e013-486e-a3bb-1ed6e272948b","type":"text","properties":{"title":[["在这个例子中，我们首先创建一个 ExecutorService，它是一个可以管理多线程的服务。然后我们提交一个任务到 ExecutorService，这个任务在一个新的线程中异步执行。主线程继续执行其他任务，然后在需要结果的时候调用 Future.get() 方法来等待结果。如果在这个时候任务还没有完成，那么 Future.get() 方法会阻塞，直到任务完成为止。"]]},"created_time":1712594295277,"last_edited_time":1712594295281,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"36015b95-8686-4982-a7fa-575f3f5b5f4d":{"value":{"id":"36015b95-8686-4982-a7fa-575f3f5b5f4d","type":"divider","created_time":1712594332584,"last_edited_time":1712594332586,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"ceaf9c24-c2c8-4f8d-9f98-c975b6a7ad76":{"value":{"id":"ceaf9c24-c2c8-4f8d-9f98-c975b6a7ad76","type":"text","created_time":1712594918567,"last_edited_time":1712594918567,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"98c6e6a3-290d-47f1-94f5-f79afdedc1bd":{"value":{"id":"98c6e6a3-290d-47f1-94f5-f79afdedc1bd","type":"quote","properties":{"title":[["再用烧水后喝水给我解释BIO，NIO，AIO。异步阻塞一起解释"]]},"created_time":1712594926392,"last_edited_time":1712594929427,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"a302cb8a-aab9-4b4a-81a3-4f804903b6a7":{"value":{"id":"a302cb8a-aab9-4b4a-81a3-4f804903b6a7","type":"text","properties":{"title":[["好的，我们可以把烧水喝水的过程类比为 I/O 操作。"]]},"created_time":1712594936322,"last_edited_time":1712594936327,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"5030f909-9491-4faa-bf03-43aa0377e2ca":{"value":{"id":"5030f909-9491-4faa-bf03-43aa0377e2ca","type":"numbered_list","properties":{"title":[["BIO（Blocking I/O）",[["b"]]],["：你把水壶放在炉子上，然后就站在那里，什么也不做，直到水烧开。这就是阻塞，你正在等待 I/O 操作（烧水）的完成。这就像是你在等待一个网络请求的响应，直到它完成，你才能继续。"]]},"created_time":1712594936322,"last_edited_time":1712594936327,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"7b8f8ee3-c184-470b-b5ac-994dc7b08117":{"value":{"id":"7b8f8ee3-c184-470b-b5ac-994dc7b08117","type":"numbered_list","properties":{"title":[["NIO（Non-blocking I/O）",[["b"]]],["：你把水壶放在炉子上，然后你去做其他事情（比如读书）。但是每过一段时间你都得回来检查一下水是否烧开。这就是非阻塞，你并没有阻塞在 I/O 操作上，而是在等待 I/O 操作时做其他事情。但是你需要不断地检查 I/O 操作是否完成。"]]},"created_time":1712594936322,"last_edited_time":1712594936327,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"dfb96d40-f9a5-42fd-bf6c-97ae0f410899":{"value":{"id":"dfb96d40-f9a5-42fd-bf6c-97ae0f410899","type":"numbered_list","properties":{"title":[["AIO（Asynchronous I/O）",[["b"]]],["：你把水壶放在炉子上，然后你去做其他事情。你的水壶很聪明，当水烧开的时候，它会响铃通知你。这就是异步，你不需要去检查 I/O 操作是否完成，因为当它完成的时候，你会得到通知。"]]},"created_time":1712594936323,"last_edited_time":1712594936327,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"854248e3-f012-4f56-bce7-4ecc81887fe0":{"value":{"id":"854248e3-f012-4f56-bce7-4ecc81887fe0","type":"numbered_list","properties":{"title":[["异步阻塞",[["b"]]],["：这个概念在实际中并不常见，但是为了解释，我们可以这样想象：你把水壶放在炉子上，然后你去做其他事情。你的水壶很聪明，当水烧开的时候，它会响铃通知你。但是你在做其他事情的时候，每完成一项任务，你都会去看看水壶是否响铃。这就是异步阻塞，你在等待 I/O 操作的同时做其他事情，但是你要不断地检查是否有通知。"]]},"created_time":1712594936323,"last_edited_time":1712594936327,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"723782b0-b99f-4268-bf5d-4a80838aa0cb":{"value":{"id":"723782b0-b99f-4268-bf5d-4a80838aa0cb","type":"text","properties":{"title":[["以上就是 BIO，NIO，AIO 以及异步阻塞的解释。希望这个类比可以帮助你理解这些概念。"]]},"created_time":1712594936323,"last_edited_time":1712594936327,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"93798a96-651f-4c53-8e4f-fe95eb18029b":{"value":{"id":"93798a96-651f-4c53-8e4f-fe95eb18029b","type":"sub_sub_header","properties":{"title":[["总结"]]},"format":{"copied_from_pointer":{"id":"9955cfbd-4850-4ce7-a7bd-fc8299fd0619","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556454775,"last_edited_time":1712556560502,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"9955cfbd-4850-4ce7-a7bd-fc8299fd0619"}},"dc0bcb1b-b278-48e8-bf28-546af8288389":{"value":{"id":"dc0bcb1b-b278-48e8-bf28-546af8288389","type":"bulleted_list","properties":{"title":[["基本上理解异步阻塞的例子，就差不多了"]]},"format":{"copied_from_pointer":{"id":"98717c97-3877-4265-a90b-b0e54c956b95","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556454775,"last_edited_time":1712594317204,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"98717c97-3877-4265-a90b-b0e54c956b95"}},"9608e593-f9b8-484c-be6e-0a8d0fd9fca6":{"value":{"id":"9608e593-f9b8-484c-be6e-0a8d0fd9fca6","type":"bulleted_list","properties":{"title":[["阻塞就意味着等待"]]},"created_time":1712594620920,"last_edited_time":1712594914908,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"26792acc-7d13-438c-ad28-f82c7af4efbc":{"value":{"id":"26792acc-7d13-438c-ad28-f82c7af4efbc","type":"text","created_time":1712556452523,"last_edited_time":1712556452523,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"9c2f6448-3dfd-4228-a8c0-48f5799b2cf4":{"value":{"id":"9c2f6448-3dfd-4228-a8c0-48f5799b2cf4","type":"sub_header","properties":{"title":[["9.Redis跟MySQL缓存一致性"]]},"created_time":1712556311416,"last_edited_time":1712556728168,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"55c4dd0a-8dea-4699-ae95-926bd9cab471":{"value":{"id":"55c4dd0a-8dea-4699-ae95-926bd9cab471","type":"sub_sub_header","properties":{"title":[["GPT问答"]]},"format":{"copied_from_pointer":{"id":"471e2e8b-2905-49ef-8eec-0c69adf417c2","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556494579,"last_edited_time":1712556494582,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"471e2e8b-2905-49ef-8eec-0c69adf417c2"}},"91e31a11-07f1-4df3-9c0c-d32bcf7227cc":{"value":{"id":"91e31a11-07f1-4df3-9c0c-d32bcf7227cc","type":"quote","properties":{"title":[["Redis跟MySQL缓存一致性问题，目前业界常用的方案是哪些"]]},"format":{"copied_from_pointer":{"id":"6800a277-744f-47b6-bbce-80d55edef89e","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556494579,"last_edited_time":1712595489277,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"6800a277-744f-47b6-bbce-80d55edef89e"}},"33bc32d8-ea4c-4041-b237-c150724db36e":{"value":{"id":"33bc32d8-ea4c-4041-b237-c150724db36e","type":"text","properties":{"title":[["在构建高并发、高性能的互联网应用时，缓存是不可或缺的一部分。然而，引入缓存后，缓存与数据库的数据一致性问题就会出现。Redis 作为一种非常流行的缓存解决方案，同 MySQL 数据库的一致性问题也是业界面临的重要挑战。"]]},"created_time":1712595494935,"last_edited_time":1712595494942,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"6fb2fd9b-2595-45d7-9e41-9108999e4d99":{"value":{"id":"6fb2fd9b-2595-45d7-9e41-9108999e4d99","type":"text","properties":{"title":[["以下是一些常见的解决方案："]]},"created_time":1712595494936,"last_edited_time":1712595494942,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"8e19783b-6a0c-46db-b3c1-1b62c6c39ca3":{"value":{"id":"8e19783b-6a0c-46db-b3c1-1b62c6c39ca3","type":"text","properties":{"title":[["1. 缓存穿透：",[["b"]]]]},"created_time":1712595494936,"last_edited_time":1712595494942,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"b620e8b7-858f-4362-87fa-f2f8c933c7a4":{"value":{"id":"b620e8b7-858f-4362-87fa-f2f8c933c7a4","type":"text","properties":{"title":[["缓存穿透是指查询一个数据库中不存在的数据，结果缓存没有命中，然后去数据库查询，数据库也没有，这样就形成了缓存穿透。解决方案是对于查找的字段做一个空值的缓存。这样即使数据库没有，缓存也会命中，从而避免了对数据库的查询。"]]},"created_time":1712595494936,"last_edited_time":1712595494942,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"53fee745-cd9b-49f6-8be3-32cd08204a0d":{"value":{"id":"53fee745-cd9b-49f6-8be3-32cd08204a0d","type":"text","properties":{"title":[["2. 缓存击穿：",[["b"]]]]},"created_time":1712595494936,"last_edited_time":1712595494942,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"ae2842c8-73d8-40d2-b348-a7af2d76b055":{"value":{"id":"ae2842c8-73d8-40d2-b348-a7af2d76b055","type":"text","properties":{"title":[["缓存击穿是指访问一个热点数据，当该数据过期的瞬间，大量的请求就会穿破缓存，直接请求数据库，造成数据库的压力。解决方案是设置热点数据永不过期，或者在代码层面，使用互斥锁或者分布式锁，保证缓存的单线程（进程）写，避免大量并发线程对数据库进行访问。"]]},"created_time":1712595494936,"last_edited_time":1712595494942,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"966d6414-add4-49e7-9c3d-468832755819":{"value":{"id":"966d6414-add4-49e7-9c3d-468832755819","type":"text","properties":{"title":[["3. 缓存雪崩：",[["b"]]]]},"created_time":1712595494936,"last_edited_time":1712595494942,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"fdaebb18-427d-4fb8-99ad-619b164b58df":{"value":{"id":"fdaebb18-427d-4fb8-99ad-619b164b58df","type":"text","properties":{"title":[["缓存雪崩是指缓存中大量的数据同时过期，导致大量的请求直接打到数据库，从而导致数据库压力过大。解决方案是对缓存的过期时间进行随机，避免同一时间大量的数据过期，请求打到数据库。"]]},"created_time":1712595494936,"last_edited_time":1712595494942,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"f96465f5-7a8b-4d1c-9bb0-74b535a1b628":{"value":{"id":"f96465f5-7a8b-4d1c-9bb0-74b535a1b628","type":"text","properties":{"title":[["4. 读写一致性：",[["b"]]]]},"created_time":1712595494936,"last_edited_time":1712595494942,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"71edb051-4fb4-462d-8532-c2a3ffffcfb5":{"value":{"id":"71edb051-4fb4-462d-8532-c2a3ffffcfb5","type":"text","properties":{"title":[["这是比较常见的一种场景，即读取数据后，立即写入缓存。但是，如果写入缓存失败，会导致下次读取的时候，读到的是旧数据。解决方案是使用\"先删除缓存，再更新数据库\"的原则。"]]},"created_time":1712595494936,"last_edited_time":1712595494942,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"d6974531-d3b3-4cfd-9198-b8454fb2c249":{"value":{"id":"d6974531-d3b3-4cfd-9198-b8454fb2c249","type":"text","properties":{"title":[["5. 双写不一致：",[["b"]]]]},"created_time":1712595494936,"last_edited_time":1712595494942,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"ed7a22d4-4fb4-4a8a-9380-9f05f4b15404":{"value":{"id":"ed7a22d4-4fb4-4a8a-9380-9f05f4b15404","type":"text","properties":{"title":[["双写不一致是指应用先将数据写入数据库，然后再写入缓存，这期间数据可能会出现不一致的情况。解决方案是使用消息队列，将需要写入的数据写入消息队列，然后由消费端去更新数据库和缓存，保证了顺序性。"]]},"created_time":1712595494936,"last_edited_time":1712595494942,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"d3aba15b-095d-416d-badb-aa7f0aa79eeb":{"value":{"id":"d3aba15b-095d-416d-badb-aa7f0aa79eeb","type":"text","properties":{"title":[["以上这些方法并不能保证完全的一致性，只能在一定程度上降低不一致的可能性。在某些对一致性要求非常高的场景下，可能需要牺牲一些性能，采取更加严格的一致性策略。"]]},"created_time":1712595494936,"last_edited_time":1712595494942,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"d3b9335c-d396-4f37-9f71-16c73430de64":{"value":{"id":"d3b9335c-d396-4f37-9f71-16c73430de64","type":"divider","format":{"copied_from_pointer":{"id":"e3648d0a-8f62-4525-828a-aa38ab6bea3f","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556494579,"last_edited_time":1712556494582,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"e3648d0a-8f62-4525-828a-aa38ab6bea3f"}},"1679a121-58c9-4910-b66b-994c2999fab2":{"value":{"id":"1679a121-58c9-4910-b66b-994c2999fab2","type":"text","format":{"copied_from_pointer":{"id":"93798a96-651f-4c53-8e4f-fe95eb18029b","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712595808705,"last_edited_time":1712595808705,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"e0aec8b1-4f7d-4383-a179-29ce91ad649d":{"value":{"id":"e0aec8b1-4f7d-4383-a179-29ce91ad649d","type":"quote","properties":{"title":[["读写一致性的解决方案，你提供的是旁路缓存的模式，但是删除缓存到数据库落库还有一段时间有可能会重新生成缓存，还需要延时双删"]]},"created_time":1712595809971,"last_edited_time":1712595823888,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"65625213-288e-476e-9d1a-67ef298b83e0":{"value":{"id":"65625213-288e-476e-9d1a-67ef298b83e0","type":"text","properties":{"title":[["你说得很对，\"先删除缓存，再更新数据库\"的原则确实存在问题，这是因为在删除缓存后，到数据库更新结束这段时间内，如果有其他线程查询这个数据，会查询不到缓存，然后去数据库查询到旧数据并将旧数据写入缓存，这样当数据库更新完成后，缓存中的数据还是旧的，这就出现了数据不一致的情况。"]]},"created_time":1712595829075,"last_edited_time":1712595829080,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"0c6fb3ad-96ad-4810-8562-a871cba5f18e":{"value":{"id":"0c6fb3ad-96ad-4810-8562-a871cba5f18e","type":"text","properties":{"title":[["目前，针对这个问题，一种比较成熟的解决方案是“延时双删”，具体步骤如下："]]},"created_time":1712595829075,"last_edited_time":1712595829080,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"a1bed919-3ddf-45b2-9510-fe8fa9d4c76f":{"value":{"id":"a1bed919-3ddf-45b2-9510-fe8fa9d4c76f","type":"numbered_list","properties":{"title":[["先删除缓存"]]},"created_time":1712595829075,"last_edited_time":1712595829080,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"9aac1b04-c473-4623-8583-63bd5814942e":{"value":{"id":"9aac1b04-c473-4623-8583-63bd5814942e","type":"numbered_list","properties":{"title":[["再更新数据库"]]},"created_time":1712595829075,"last_edited_time":1712595829080,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"59f3ab0a-7af8-4017-9409-411f7fab3467":{"value":{"id":"59f3ab0a-7af8-4017-9409-411f7fab3467","type":"numbered_list","properties":{"title":[["等待一段时间（比如100ms），再次删除缓存"]]},"created_time":1712595829076,"last_edited_time":1712595829080,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"54a10feb-eb82-4f0d-b8b2-f47380d85ca4":{"value":{"id":"54a10feb-eb82-4f0d-b8b2-f47380d85ca4","type":"text","properties":{"title":[["这种方法的基本思想是：因为可能会有其他线程在这段时间内把数据库旧数据查询出来并且写入缓存，所以通过等待一段时间后再次删除缓存，以此来保证缓存中的数据是最新的。"]]},"created_time":1712595829076,"last_edited_time":1712595829080,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"cd558360-d8c9-4e94-a9e9-5763359bcab5":{"value":{"id":"cd558360-d8c9-4e94-a9e9-5763359bcab5","type":"text","properties":{"title":[["然而，这种方案并不能完全解决问题，因为这个等待的时间并不能保证是最优的，这个时间长了可能会导致缓存利用率下降，时间短了可能会导致数据不一致。但是在实际操作中，这种方案可以在一定程度上缓解读写一致性问题。"]]},"created_time":1712595829076,"last_edited_time":1712595829080,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"178eca01-4476-47a5-9f09-71f182055321":{"value":{"id":"178eca01-4476-47a5-9f09-71f182055321","type":"divider","created_time":1712595833762,"last_edited_time":1712595833763,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"be768174-9882-4675-9ce2-3225d6b821e9":{"value":{"id":"be768174-9882-4675-9ce2-3225d6b821e9","type":"text","created_time":1712595834197,"last_edited_time":1712595834197,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"aa760448-48c4-405c-a1e0-6331b4e58ef4":{"value":{"id":"aa760448-48c4-405c-a1e0-6331b4e58ef4","type":"quote","properties":{"title":[["追求强一致性就要加锁了，性能牺牲太大"]]},"created_time":1712595836766,"last_edited_time":1712595865451,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"c15e9201-afbe-45c0-8ef2-f404b0060e97":{"value":{"id":"c15e9201-afbe-45c0-8ef2-f404b0060e97","type":"text","properties":{"title":[["是的，你的理解是正确的。在计算机科学中，一致性和性能往往是一对矛盾的存在。强一致性意味着系统的每一次读操作都将返回最新的写操作结果，这就需要在读写操作之间加锁以确保操作的顺序性，但这样做会极大地牺牲系统的性能。"]]},"created_time":1712595871344,"last_edited_time":1712595871348,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"58b0a2ca-a5b6-496b-9ae2-763a0764f01e":{"value":{"id":"58b0a2ca-a5b6-496b-9ae2-763a0764f01e","type":"text","properties":{"title":[["在实际应用中，我们往往会根据业务需求在一致性和性能之间做出权衡。对于一些对数据一致性要求非常高的业务，我们可能会选择牺牲一部分性能来确保数据的强一致性。反之，对于一些对性能要求非常高，而对数据一致性要求相对较低的业务，我们可能会选择牺牲一部分数据一致性来提高系统的性能。"]]},"created_time":1712595871344,"last_edited_time":1712595871348,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"cfc62533-db26-4ff1-bf5a-370ba47259d2":{"value":{"id":"cfc62533-db26-4ff1-bf5a-370ba47259d2","type":"text","properties":{"title":[["另外，对于缓存一致性问题，除了上述的一些解决方案，还有一些其他的技术可以帮助我们，如读写分离、分布式锁等。这些技术在不同的业务场景下有着不同的应用，可以根据具体的业务需求选择合适的方案。"]]},"created_time":1712595871344,"last_edited_time":1712595871348,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"09b7a032-42a4-4f07-a749-a178b90432c7":{"value":{"id":"09b7a032-42a4-4f07-a749-a178b90432c7","type":"sub_sub_header","properties":{"title":[["总结"]]},"format":{"copied_from_pointer":{"id":"93798a96-651f-4c53-8e4f-fe95eb18029b","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556494579,"last_edited_time":1712556565414,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"93798a96-651f-4c53-8e4f-fe95eb18029b"}},"e6def999-3fef-48a6-a0c7-6e423ff0fcef":{"value":{"id":"e6def999-3fef-48a6-a0c7-6e423ff0fcef","type":"bulleted_list","properties":{"title":[["缓存击穿可以用双重检查锁"]]},"format":{"copied_from_pointer":{"id":"dc0bcb1b-b278-48e8-bf28-546af8288389","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556494580,"last_edited_time":1712595536913,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"dc0bcb1b-b278-48e8-bf28-546af8288389"}},"3c95889d-8816-49af-be7e-87fa60cca209":{"value":{"id":"3c95889d-8816-49af-be7e-87fa60cca209","type":"bulleted_list","properties":{"title":[["旁路缓存+延时双删"]]},"created_time":1712595537080,"last_edited_time":1712595885707,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"e989ef8e-ba36-4492-8bf7-c800ea215133":{"value":{"id":"e989ef8e-ba36-4492-8bf7-c800ea215133","type":"bulleted_list","properties":{"title":[["上面方案还是很小几率不一致，就需要加锁了。这个要业务容忍程度"]]},"created_time":1712595888712,"last_edited_time":1712595930408,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"2b30fdea-aaf6-4f18-b21f-3d0d6444da73":{"value":{"id":"2b30fdea-aaf6-4f18-b21f-3d0d6444da73","type":"text","format":{"copied_from_pointer":{"id":"e9457161-c188-4226-a1fa-76324a0ab93e","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556510791,"last_edited_time":1712556510791,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"a4a15b3a-2715-4e44-8c7b-8b6abbb59152":{"value":{"id":"a4a15b3a-2715-4e44-8c7b-8b6abbb59152","type":"sub_header","properties":{"title":[["10.Dubbo底层理解"]]},"format":{"copied_from_pointer":{"id":"e9457161-c188-4226-a1fa-76324a0ab93e","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556240312,"last_edited_time":1712556730406,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"e9457161-c188-4226-a1fa-76324a0ab93e"}},"10d6f3e2-726a-4f7c-8f2c-d78b5a0bd9e3":{"value":{"id":"10d6f3e2-726a-4f7c-8f2c-d78b5a0bd9e3","type":"sub_sub_header","properties":{"title":[["GPT问答"]]},"format":{"copied_from_pointer":{"id":"55c4dd0a-8dea-4699-ae95-926bd9cab471","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556511132,"last_edited_time":1712594525284,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"55c4dd0a-8dea-4699-ae95-926bd9cab471"}},"1de1c413-de15-483c-a600-8ecb0798aa07":{"value":{"id":"1de1c413-de15-483c-a600-8ecb0798aa07","type":"quote","properties":{"title":[["谈谈你对Dubbo底层理解"]]},"format":{"copied_from_pointer":{"id":"91e31a11-07f1-4df3-9c0c-d32bcf7227cc","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556511132,"last_edited_time":1712595155137,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"91e31a11-07f1-4df3-9c0c-d32bcf7227cc"}},"47d28b5a-3335-4ca5-93ea-fb6f7ad2ae15":{"value":{"id":"47d28b5a-3335-4ca5-93ea-fb6f7ad2ae15","type":"text","properties":{"title":[["Dubbo是一种高性能的Java RPC框架，它使用了许多高级技术和设计模式来实现其性能和可扩展性。"]]},"created_time":1712595179099,"last_edited_time":1712595179104,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"660dd60b-81f9-48a7-85a6-fa38ad3cdf58":{"value":{"id":"660dd60b-81f9-48a7-85a6-fa38ad3cdf58","type":"numbered_list","properties":{"title":[["服务提供者和消费者模型",[["b"]]],["：Dubbo使用了服务提供者和消费者模型。服务提供者提供服务并注册到注册中心，服务消费者从注册中心订阅服务并发起调用请求。这种模型使得服务的提供者和消费者可以在不知道对方的情况下进行通信。"]]},"created_time":1712595179099,"last_edited_time":1712595179104,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"4d53bb8a-ba19-4874-ba44-e308227b8170":{"value":{"id":"4d53bb8a-ba19-4874-ba44-e308227b8170","type":"numbered_list","properties":{"title":[["负载均衡",[["b"]]],["：Dubbo内部实现了多种负载均衡算法，如随机、轮询、最少活跃调用、一致性Hash等。当服务消费者从多个服务提供者中选择一台进行调用时，会根据负载均衡策略进行选择。"]]},"created_time":1712595179099,"last_edited_time":1712595179104,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"1d06df64-fa33-47db-9dd1-7d21670175f8":{"value":{"id":"1d06df64-fa33-47db-9dd1-7d21670175f8","type":"numbered_list","properties":{"title":[["服务路由和过滤",[["b"]]],["：Dubbo支持自定义路由规则和过滤器，可以对服务调用进行灵活的控制。例如，可以根据服务提供者的IP或者服务消费者的应用名进行路由，或者在服务调用前后进行特定的处理。"]]},"created_time":1712595179099,"last_edited_time":1712595179104,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"bf2aebe2-92f8-4556-a0ec-ec01bd2e16ef":{"value":{"id":"bf2aebe2-92f8-4556-a0ec-ec01bd2e16ef","type":"numbered_list","properties":{"title":[["异步通信",[["b"]]],["：Dubbo支持异步调用，消费者无需同步等待服务调用的结果，可以提高系统的并发处理能力。"]]},"created_time":1712595179099,"last_edited_time":1712595179104,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"3fa6de04-3680-44ff-8148-57a55db46d87":{"value":{"id":"3fa6de04-3680-44ff-8148-57a55db46d87","type":"numbered_list","properties":{"title":[["协议和序列化",[["b"]]],["：Dubbo支持多种协议（如Dubbo、HTTP、Thrift等）和序列化方式（如Hessian、Java、Kryo、FST等），可以根据实际需求进行选择。"]]},"created_time":1712595179099,"last_edited_time":1712595179104,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"9a29da8c-c945-4f42-9577-3fdcd38af933":{"value":{"id":"9a29da8c-c945-4f42-9577-3fdcd38af933","type":"text","properties":{"title":[["底层实现层面，Dubbo主要是基于Netty来实现网络通信，利用Java的NIO（非阻塞IO）来处理高并发的网络请求。同时Dubbo也使用了线程池来并发处理服务调用，提高系统的吞吐量。"]]},"created_time":1712595179099,"last_edited_time":1712595179104,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"89264c00-5407-49b3-8525-812994752253":{"value":{"id":"89264c00-5407-49b3-8525-812994752253","type":"text","properties":{"title":[["以上是我对Dubbo的一些理解，如果你有任何问题或者想要深入了解某个部分，欢迎随时向我提问。"]]},"created_time":1712595179099,"last_edited_time":1712595179104,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"7fbae67b-78d1-40d1-a68c-fd984e349cca":{"value":{"id":"7fbae67b-78d1-40d1-a68c-fd984e349cca","type":"divider","format":{"copied_from_pointer":{"id":"d3b9335c-d396-4f37-9f71-16c73430de64","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556511132,"last_edited_time":1712556511134,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"d3b9335c-d396-4f37-9f71-16c73430de64"}},"a7455e62-6660-482e-ba23-e534b11c3008":{"value":{"id":"a7455e62-6660-482e-ba23-e534b11c3008","type":"sub_sub_header","properties":{"title":[["总结"]]},"format":{"copied_from_pointer":{"id":"09b7a032-42a4-4f07-a749-a178b90432c7","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556511132,"last_edited_time":1712556568014,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"09b7a032-42a4-4f07-a749-a178b90432c7"}},"fa769d98-f4f3-4506-874a-e14e3ae3d5e9":{"value":{"id":"fa769d98-f4f3-4506-874a-e14e3ae3d5e9","type":"bulleted_list","properties":{"title":[["01-贝壳中说了dubbo的对比springcloud"]]},"format":{"copied_from_pointer":{"id":"e6def999-3fef-48a6-a0c7-6e423ff0fcef","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556511132,"last_edited_time":1712595206394,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"e6def999-3fef-48a6-a0c7-6e423ff0fcef"}},"39bd2e2d-27ac-4362-9791-ddd9a5469d1f":{"value":{"id":"39bd2e2d-27ac-4362-9791-ddd9a5469d1f","type":"bulleted_list","properties":{"title":[["底层用的netty，NIO模型，线程池模型，这个太底层了，要细聊还是要看代码"]]},"format":{"copied_from_pointer":{"id":"1d79ce45-1106-4ab6-b13f-642ba2b2c52a","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712594506172,"last_edited_time":1712595247303,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"1d79ce45-1106-4ab6-b13f-642ba2b2c52a"}},"996704a5-d3f2-4c14-8574-d8078b218b30":{"value":{"id":"996704a5-d3f2-4c14-8574-d8078b218b30","type":"sub_header","properties":{"title":[["11.DDD的理解"]]},"created_time":1712556511221,"last_edited_time":1712556734811,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"7a9b4c33-20e3-458c-9bb3-9b4210ede657":{"value":{"id":"7a9b4c33-20e3-458c-9bb3-9b4210ede657","type":"sub_sub_header","properties":{"title":[["GPT问答"]]},"format":{"copied_from_pointer":{"id":"10d6f3e2-726a-4f7c-8f2c-d78b5a0bd9e3","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556525317,"last_edited_time":1712556525321,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"10d6f3e2-726a-4f7c-8f2c-d78b5a0bd9e3"}},"13699824-a525-4ff0-9edf-4d3111824bac":{"value":{"id":"13699824-a525-4ff0-9edf-4d3111824bac","type":"quote","properties":{"title":[["谈谈你对DDD的理解"]]},"format":{"copied_from_pointer":{"id":"1de1c413-de15-483c-a600-8ecb0798aa07","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556525318,"last_edited_time":1712594993862,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"1de1c413-de15-483c-a600-8ecb0798aa07"}},"f0ff9bed-ae72-4e84-9ce9-0a6f976b6160":{"value":{"id":"f0ff9bed-ae72-4e84-9ce9-0a6f976b6160","type":"text","properties":{"title":[["领域驱动设计（Domain-Driven Design，简称DDD）是一种软件开发方法论，由Eric Evans在他的书《领域驱动设计：软件核心复杂性对策》中首次提出。DDD的主要目标是在复杂的设计和模型中找到和实现业务领域的连续性。"]]},"created_time":1712595003579,"last_edited_time":1712595003585,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"88dc58a8-b5c7-4f50-a9e3-a3839b637ccb":{"value":{"id":"88dc58a8-b5c7-4f50-a9e3-a3839b637ccb","type":"text","properties":{"title":[["DDD主要包含以下几个核心概念："]]},"created_time":1712595003579,"last_edited_time":1712595003585,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"bb432472-934d-4a8e-8933-996db5b994b5":{"value":{"id":"bb432472-934d-4a8e-8933-996db5b994b5","type":"bulleted_list","properties":{"title":[["领域（Domain）",[["b"]]],["： 这是一个问题区域，我们需要在这个区域中找到解决方案。"]]},"created_time":1712595003579,"last_edited_time":1712595003585,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"db0bd158-c878-4687-b13d-654a9de18cd1":{"value":{"id":"db0bd158-c878-4687-b13d-654a9de18cd1","type":"bulleted_list","properties":{"title":[["子域（Subdomain）",[["b"]]],["： 一个大的领域可以分为几个子域，每个子域都是独立的，可以单独处理和开发。"]]},"created_time":1712595003579,"last_edited_time":1712595003585,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"bad1ac53-c6cb-4c06-8af8-bebbe9c6cb18":{"value":{"id":"bad1ac53-c6cb-4c06-8af8-bebbe9c6cb18","type":"bulleted_list","properties":{"title":[["限界上下文（Bounded Context）",[["b"]]],["： 这是一个显式定义的边界，它限定了特定的语义上下文，其中的模型只在这个上下文中有意义。"]]},"created_time":1712595003579,"last_edited_time":1712595003585,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"58db0c21-fad6-4157-8f10-62714e1d4e50":{"value":{"id":"58db0c21-fad6-4157-8f10-62714e1d4e50","type":"bulleted_list","properties":{"title":[["领域模型（Domain Model）",[["b"]]],["： 这是一个模型，它封装了特定领域的知识和业务规则。"]]},"created_time":1712595003579,"last_edited_time":1712595003585,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"46424f60-b8b7-43fd-8197-fb7ac6b3ecb8":{"value":{"id":"46424f60-b8b7-43fd-8197-fb7ac6b3ecb8","type":"bulleted_list","properties":{"title":[["实体（Entity）",[["b"]]],["： 在领域模型中有唯一标识的对象。"]]},"created_time":1712595003579,"last_edited_time":1712595003585,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"af1983de-6ec6-4309-8d5f-098f070885f7":{"value":{"id":"af1983de-6ec6-4309-8d5f-098f070885f7","type":"bulleted_list","properties":{"title":[["值对象（Value Object）",[["b"]]],["： 在领域模型中没有唯一标识的对象。"]]},"created_time":1712595003579,"last_edited_time":1712595003585,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"d2e4efba-43c1-4c89-8024-694a7ac12630":{"value":{"id":"d2e4efba-43c1-4c89-8024-694a7ac12630","type":"bulleted_list","properties":{"title":[["聚合（Aggregate）",[["b"]]],["： 一组具有一致性边界的关联对象，由一个根实体（Aggregate Root）来管理。"]]},"created_time":1712595003579,"last_edited_time":1712595003585,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"9fa90bd2-4c6d-42e9-8f9a-9abc269f6736":{"value":{"id":"9fa90bd2-4c6d-42e9-8f9a-9abc269f6736","type":"bulleted_list","properties":{"title":[["领域服务（Domain Service）",[["b"]]],["： 当领域模型的某些操作无法归类到实体或值对象上时，可以定义为领域服务。"]]},"created_time":1712595003579,"last_edited_time":1712595003585,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"176a8c64-8b0e-4893-ad7f-9c6d3d1eaa07":{"value":{"id":"176a8c64-8b0e-4893-ad7f-9c6d3d1eaa07","type":"bulleted_list","properties":{"title":[["领域事件（Domain Event）",[["b"]]],["： 表示领域中重要的事件，它会影响领域的状态。"]]},"created_time":1712595003579,"last_edited_time":1712595003585,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"d74e77bb-6737-4403-ab2d-befd9af03c09":{"value":{"id":"d74e77bb-6737-4403-ab2d-befd9af03c09","type":"bulleted_list","properties":{"title":[["仓库（Repository）",[["b"]]],["： 提供对聚合的存储和检索。"]]},"created_time":1712595003579,"last_edited_time":1712595003585,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"e085e9eb-7f5b-4660-80c6-b615e2baddc4":{"value":{"id":"e085e9eb-7f5b-4660-80c6-b615e2baddc4","type":"text","properties":{"title":[["DDD强调的是，我们应该尽可能地理解业务领域，并且在设计和代码中反映这个理解。这样可以使得软件更加符合业务需求，更易于维护和演进。"]]},"created_time":1712595003579,"last_edited_time":1712595003585,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true}},"5c3d6abd-cddc-4cfb-9a1b-43312e37885f":{"value":{"id":"5c3d6abd-cddc-4cfb-9a1b-43312e37885f","type":"divider","format":{"copied_from_pointer":{"id":"7fbae67b-78d1-40d1-a68c-fd984e349cca","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556525318,"last_edited_time":1712556525321,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"7fbae67b-78d1-40d1-a68c-fd984e349cca"}},"e9b2019d-85bf-4f22-9603-39e9fb391ef3":{"value":{"id":"e9b2019d-85bf-4f22-9603-39e9fb391ef3","type":"sub_sub_header","properties":{"title":[["总结"]]},"format":{"copied_from_pointer":{"id":"a7455e62-6660-482e-ba23-e534b11c3008","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556525318,"last_edited_time":1712556570583,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"a7455e62-6660-482e-ba23-e534b11c3008"}},"47fadf5e-1a5c-4954-9e18-f4ec413f9bf7":{"value":{"id":"47fadf5e-1a5c-4954-9e18-f4ec413f9bf7","type":"bulleted_list","properties":{"title":[["我其实很反感,因为需求和需求设计不可能一开始就合理，考虑到各种设计模式，熟悉的controller到service到mapper的方式，考虑到不同开发的编码习惯，很烦"]]},"format":{"copied_from_pointer":{"id":"fa769d98-f4f3-4506-874a-e14e3ae3d5e9","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556525318,"last_edited_time":1712595114455,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"fa769d98-f4f3-4506-874a-e14e3ae3d5e9"}},"858e6e83-fdcb-430e-a312-4fba35c62f16":{"value":{"id":"858e6e83-fdcb-430e-a312-4fba35c62f16","type":"text","format":{"copied_from_pointer":{"id":"c976bdb2-060f-4660-a219-b720114eeb0f","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556240313,"last_edited_time":1712556534741,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"c976bdb2-060f-4660-a219-b720114eeb0f"}},"0a7ed53b-47d7-436e-abe8-868de3d4ebbe":{"value":{"id":"0a7ed53b-47d7-436e-abe8-868de3d4ebbe","type":"header","properties":{"title":[["写到最后"]]},"format":{"copied_from_pointer":{"id":"5cde9219-8710-4037-9848-8a1f37dc9ff6","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556018463,"last_edited_time":1712556018463,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"5cde9219-8710-4037-9848-8a1f37dc9ff6"}},"ea6dacc9-d3d2-4d8e-a3ea-56db91ea8842":{"value":{"id":"ea6dacc9-d3d2-4d8e-a3ea-56db91ea8842","type":"column_list","content":["7d27a0d2-8b75-4c60-8046-d473435cb46a","033f6446-49e6-454b-827d-d02c1160070b","31553aec-99ed-4d5f-891a-f806a1fd2df0"],"format":{"copied_from_pointer":{"id":"60dbcaaf-f103-4bb0-9be1-817671709d79","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556018463,"last_edited_time":1712556018463,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"60dbcaaf-f103-4bb0-9be1-817671709d79"}},"5ee0d17e-46ce-4124-aa38-895caf65081b":{"value":{"id":"5ee0d17e-46ce-4124-aa38-895caf65081b","type":"text","format":{"copied_from_pointer":{"id":"d23c967c-579a-4a00-81be-5b5255a47a8a","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556018464,"last_edited_time":1712556018464,"parent_id":"9a78ba09-76ce-4344-bad5-f6d60dc0680e","parent_table":"block","alive":true,"copied_from":"d23c967c-579a-4a00-81be-5b5255a47a8a"}},"7d27a0d2-8b75-4c60-8046-d473435cb46a":{"value":{"id":"7d27a0d2-8b75-4c60-8046-d473435cb46a","type":"column","content":["379e9415-56f0-4144-85e7-8a5daccc2b14"],"format":{"column_ratio":0.25,"copied_from_pointer":{"id":"235500f7-fd62-4fe9-b6d2-b67bac3f464d","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556018464,"last_edited_time":1712556018464,"parent_id":"ea6dacc9-d3d2-4d8e-a3ea-56db91ea8842","parent_table":"block","alive":true,"copied_from":"235500f7-fd62-4fe9-b6d2-b67bac3f464d"}},"033f6446-49e6-454b-827d-d02c1160070b":{"value":{"id":"033f6446-49e6-454b-827d-d02c1160070b","type":"column","content":["475694ef-f5fa-4efe-8340-1b11e1b229d6","0f7f43d4-b57d-4f66-b4ee-d6980c3d8a38"],"format":{"column_ratio":0.34601449275362306,"copied_from_pointer":{"id":"0439e06e-c3f8-4170-ba05-29b7ff61d8a0","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556018464,"last_edited_time":1712556018464,"parent_id":"ea6dacc9-d3d2-4d8e-a3ea-56db91ea8842","parent_table":"block","alive":true,"copied_from":"0439e06e-c3f8-4170-ba05-29b7ff61d8a0"}},"31553aec-99ed-4d5f-891a-f806a1fd2df0":{"value":{"id":"31553aec-99ed-4d5f-891a-f806a1fd2df0","type":"column","content":["da3535f7-49a6-4cea-b1c7-451a0f3b899e"],"format":{"column_ratio":0.4039855072463767,"copied_from_pointer":{"id":"2db937b6-5aae-440c-a285-8be50e3b5e55","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556018464,"last_edited_time":1712556018464,"parent_id":"ea6dacc9-d3d2-4d8e-a3ea-56db91ea8842","parent_table":"block","alive":true,"copied_from":"2db937b6-5aae-440c-a285-8be50e3b5e55"}},"379e9415-56f0-4144-85e7-8a5daccc2b14":{"value":{"id":"379e9415-56f0-4144-85e7-8a5daccc2b14","type":"image","properties":{"size":[["980.0KB"]],"title":[["favicon.png"]],"source":[["https://prod-files-secure.s3.us-west-2.amazonaws.com/eb3e1328-8f32-4ff5-8d18-8ea80020e175/e74a26b9-10d9-49f3-9ea7-bcb2a1438bd7/favicon.png"]]},"format":{"block_width":144,"display_source":"https://prod-files-secure.s3.us-west-2.amazonaws.com/eb3e1328-8f32-4ff5-8d18-8ea80020e175/e74a26b9-10d9-49f3-9ea7-bcb2a1438bd7/favicon.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":1,"copied_from_pointer":{"id":"97938c4a-3571-4bef-b055-178812ea72c6","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"block_preserve_scale":true},"created_time":1712556018464,"last_edited_time":1712556018464,"parent_id":"7d27a0d2-8b75-4c60-8046-d473435cb46a","parent_table":"block","alive":true,"copied_from":"97938c4a-3571-4bef-b055-178812ea72c6","file_ids":["e74a26b9-10d9-49f3-9ea7-bcb2a1438bd7"]}},"475694ef-f5fa-4efe-8340-1b11e1b229d6":{"value":{"id":"475694ef-f5fa-4efe-8340-1b11e1b229d6","type":"text","properties":{"title":[["\n",[["i"]]],["        是在往前走就好",[["i"],["b"]]],["\n        ",[["i"]]],["bothsavage.github.io",[["a","https://bothsavage.github.io/archive"],["i"]]],["\n",[["i"]]]]},"format":{"copied_from_pointer":{"id":"01338c9e-9395-42fa-858b-73431aab37fa","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556018464,"last_edited_time":1712556018464,"parent_id":"033f6446-49e6-454b-827d-d02c1160070b","parent_table":"block","alive":true,"copied_from":"01338c9e-9395-42fa-858b-73431aab37fa"}},"0f7f43d4-b57d-4f66-b4ee-d6980c3d8a38":{"value":{"id":"0f7f43d4-b57d-4f66-b4ee-d6980c3d8a38","type":"text","format":{"copied_from_pointer":{"id":"5e9529ea-6019-4fc2-84b6-796d696ac4fd","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"}},"created_time":1712556018464,"last_edited_time":1712556018464,"parent_id":"033f6446-49e6-454b-827d-d02c1160070b","parent_table":"block","alive":true,"copied_from":"5e9529ea-6019-4fc2-84b6-796d696ac4fd"}},"da3535f7-49a6-4cea-b1c7-451a0f3b899e":{"value":{"id":"da3535f7-49a6-4cea-b1c7-451a0f3b899e","type":"image","properties":{"size":[["85.8KB"]],"title":[["Untitled"]],"source":[["https://prod-files-secure.s3.us-west-2.amazonaws.com/eb3e1328-8f32-4ff5-8d18-8ea80020e175/3436ffe0-3684-445a-824f-2fd9fa5ad2a6/Untitled.png"]]},"format":{"block_width":288,"block_height":315,"display_source":"https://prod-files-secure.s3.us-west-2.amazonaws.com/eb3e1328-8f32-4ff5-8d18-8ea80020e175/3436ffe0-3684-445a-824f-2fd9fa5ad2a6/Untitled.png","block_full_width":false,"block_page_width":true,"block_aspect_ratio":0.525,"copied_from_pointer":{"id":"4ac99a1d-7b5a-4420-a756-a9131f055bd0","table":"block","spaceId":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"block_preserve_scale":true},"created_time":1712556018464,"last_edited_time":1712556018464,"parent_id":"31553aec-99ed-4d5f-891a-f806a1fd2df0","parent_table":"block","alive":true,"copied_from":"4ac99a1d-7b5a-4420-a756-a9131f055bd0","file_ids":["3436ffe0-3684-445a-824f-2fd9fa5ad2a6"]}}},"collection":{"3c6ddc29-47df-43f6-a375-de1c3a9cf466":{"value":{"id":"3c6ddc29-47df-43f6-a375-de1c3a9cf466","version":21,"name":[["Both Savage"]],"description":[["一个NotionNext搭建的博客"]],"schema":{"@NcA":{"name":"password","type":"text"},"Dj]h":{"name":"icon","type":"text"},"NX\\Q":{"name":"date","type":"date","date_format":"YYYY/MM/DD"},"`gQ~":{"name":"type","type":"select","options":[{"id":"5aff2f95-fd1e-489b-8840-bf10bc9519cb","color":"purple","value":"Post"},{"id":"374d2bc6-a144-4832-8ca4-474aaae0ea1f","color":"orange","value":"Page"},{"id":"95b7fea5-98b3-476e-892f-79e8f36d0633","color":"brown","value":"Notice"},{"id":"2287395b-9f64-4852-b46f-ff3df4b4acef","color":"yellow","value":"Menu"},{"id":"50fefd65-c28e-4806-9183-aa12995f11f3","color":"pink","value":"SubMenu"},{"id":"b945f57d-dbcc-4603-9fab-5cfe447aad1b","color":"red","value":"CONFIG"}]},"bB{M":{"name":"category","type":"select","options":[{"id":"a4dcd33a-34a7-4c33-b9c2-92d3a5248f06","color":"pink","value":"知行合一"},{"id":"8282ff59-f160-40c3-ab7e-6e970a0a64d5","color":"purple","value":"技术分享"},{"id":"edd604ab-fda7-4d9b-964a-e7de536c05a0","color":"orange","value":"心情随笔"},{"id":"9b3140e8-d1e6-414f-b86f-04f85b811596","color":"red","value":"未发布"},{"id":"c466d345-55bf-4155-a77e-fcd58819a455","color":"brown","value":"准备"},{"id":"350fdef0-67f5-4e99-a661-24fd57c306be","color":"green","value":"万里长征"}]},"d]hq":{"name":"slug","type":"text"},"sD^m":{"name":"tags","type":"multi_select","options":[{"id":"d9f66761-0396-4e80-be5c-2ab6c7f8ba86","color":"red","value":"推荐"},{"id":"ee932bde-0023-446f-9bb4-17d2022121c9","color":"brown","value":"文字"},{"id":"438bae9c-df52-4fb0-8288-791c5ee8625c","color":"yellow","value":"思考"},{"id":"4ae52b3d-6ee9-4af5-9b79-0b7644adf259","color":"orange","value":"新闻"},{"id":"25b1074b-a3fa-49f5-82cd-a37d85c5666f","color":"pink","value":"工具"},{"id":"1e90f00e-8f1b-4665-8e69-92f0791bde56","color":"pink","value":"开发"},{"id":"2382b30f-9881-4a8b-ae7f-2d34979c4fb9","color":"brown","value":"建站"},{"id":"569a8035-8738-40e8-a317-d6a6375f0b35","color":"green","value":"金钱"},{"id":"b39c0d81-6d40-4474-83fe-d8f44746a2d1","color":"pink","value":"健康"},{"id":"50765df4-40d8-4098-a1b4-abf97b9ce1d2","color":"gray","value":"docker"},{"id":"114a1313-d952-45e1-8bb5-8bf0b7d3c372","color":"blue","value":"自动化"},{"id":"986f04d2-1cd1-4f47-84ba-2c692e069d93","color":"purple","value":"折腾"},{"id":"88f6276a-b475-4a62-a2b6-438606516ec8","color":"default","value":"git"},{"id":"11c42291-5274-44a7-94a3-f4af3382896b","color":"red","value":"日志"},{"id":"e89abe8e-9228-48f8-8bb0-582d8343eb91","color":"red","value":"微服务"},{"id":"c002f5d1-02d9-41b0-954e-6f6a5978b3e0","color":"purple","value":"spring"},{"id":"9fb08037-26be-4513-a5b2-ada51bcfeb9c","color":"blue","value":"skywalking"},{"id":"4db60a02-14cd-40e9-bf53-0f4c30547a4b","color":"gray","value":"运维"},{"id":"bda76598-5cfc-492c-83ec-f17afb09b0c7","color":"orange","value":"linux"},{"id":"c52cafb9-814a-4408-b23f-d195d9fb314a","color":"orange","value":"脚本"},{"id":"531ca54d-1302-4bcf-83cc-b389e9d9a35e","color":"yellow","value":"面试"}]},"wz|S":{"name":"summary","type":"text"},"title":{"name":"title","type":"title"},"f211bdc0-ee00-4186-9a7d-f68c055ec2ee":{"name":"status","type":"select","options":[{"id":"7abc61d4-b405-480d-b699-12588755fa65","color":"red","value":"Published"},{"id":"d1242312-e0a8-456d-b8f0-6e998e2c4fb2","color":"orange","value":"Invisible"},{"id":"41d5f5c6-b53c-42bc-8e0f-fc9402048480","color":"yellow","value":"Draft"}]}},"icon":"https://prod-files-secure.s3.us-west-2.amazonaws.com/eb3e1328-8f32-4ff5-8d18-8ea80020e175/c5ebdc5a-c3fd-403e-906b-17d64db6d01f/favicon.ico","cover":"/images/page-cover/nasa_robert_stewart_spacewalk_2.jpg","format":{"copied_from_pointer":{"id":"9c953404-2685-4385-a433-b3ca351ebfbb","table":"collection","spaceId":"2a229231-539e-420a-9652-17ba8be4cd18"},"property_visibility":[{"property":"`gQ~","visibility":"show"},{"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee","visibility":"show"},{"property":"NX\\Q","visibility":"show"},{"property":"d]hq","visibility":"show"},{"property":"wz|S","visibility":"show"},{"property":"sD^m","visibility":"show"},{"property":"bB{M","visibility":"show"},{"property":"Dj]h","visibility":"hide_if_empty"},{"property":"uHoD","visibility":"show"},{"property":"kiCR","visibility":"hide"}],"collection_cover_position":0.3,"collection_page_properties":[{"visible":false,"property":"`gQ~"},{"visible":false,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"visible":false,"property":"NX\\Q"},{"visible":false,"property":"d]hq"},{"visible":false,"property":"wz|S"},{"visible":false,"property":"sD^m"},{"visible":true,"property":"bB{M"},{"visible":true,"property":"Dj]h"},{"visible":true,"property":"@NcA"},{"visible":true,"property":"ckw_"}],"collection_default_template":{"template_page_id":"77f4d759-8660-4888-8d35-4214be459ba1"}},"parent_id":"87ff73a8-1273-4f5f-96c1-cd1becb07207","parent_table":"block","alive":true,"file_ids":["6cf3dc36-2f98-4f0e-9679-1bdbb1485129","5520bd92-e709-4c0d-ad58-06923f23f7e9","624d393a-62e3-4464-a1bf-1c79ecd4fbda","d52f6766-3e32-4c3d-8529-46e1f214360f","abe3a0aa-2aff-4274-81bb-c2443d4ef9e2","a2a32795-101d-46aa-a7f6-eb35b8750166","ebb540b3-6c46-422b-b2ed-f834e98fa189","c5ebdc5a-c3fd-403e-906b-17d64db6d01f"],"copied_from":"9c953404-2685-4385-a433-b3ca351ebfbb","template_pages":["77f4d759-8660-4888-8d35-4214be459ba1","fbea6284-6910-456b-9292-c62e080c9f59"],"migrated":true,"space_id":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"role":"comment_only"}},"space":{},"collection_view":{"8e40545c-4d1c-4299-8605-c04d7ab6872f":{"value":{"id":"8e40545c-4d1c-4299-8605-c04d7ab6872f","version":28,"type":"table","name":"Table","format":{"table_properties":[{"width":219,"visible":true,"property":"title"},{"width":222,"visible":true,"property":"wz|S"},{"width":100,"visible":true,"property":"`gQ~"},{"width":116,"visible":true,"property":"bB{M"},{"width":142,"visible":true,"property":"sD^m"},{"width":100,"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"width":155,"visible":true,"property":"d]hq"},{"width":111,"visible":true,"property":"NX\\Q"},{"width":100,"visible":true,"property":"@NcA"},{"width":117,"visible":true,"property":"Dj]h"}],"table_frozen_column_index":-1,"collection_view_default_template":{"template_page_id":"77f4d759-8660-4888-8d35-4214be459ba1"}},"parent_id":"87ff73a8-1273-4f5f-96c1-cd1becb07207","parent_table":"block","alive":true,"page_sort":["cc459e5b-0f15-4a0c-83db-bb6bf2001aa3","a9bfecc8-9761-4987-9aca-af79d4ebbd0c","7aa40ad8-1e69-4d56-b245-d135d3101cec","e4eefa7d-e2f2-44ed-83f6-fd6951d50900","0f9b7a0d-ad15-4ece-8a8b-948d96b50ff7","58a216ce-4d8d-4b60-906c-6097c5fd8d41","b824f35b-aee9-4a22-81c9-d44b65f99f43","ba565c08-0d2f-46cb-9fcb-5eeface44dfb","560c76dd-c69f-429b-827d-7974407bb23f","0533a861-81cc-40fa-8ab8-5be721800b86","3578fa31-ea0a-4e07-82dc-28704e0dc685","f2625c60-ca69-493b-858c-bf38979f468c","96b14e20-e592-42f6-b7d2-357f4693f18c","fe8fafec-6d1b-4fbb-8a7a-fb079a6bb8e4","9345db3a-b8bd-4e02-b296-9734958eddb6","26e8ddc4-10b4-4765-a96d-e87290556164","840f0871-b58b-428d-8a28-0861947974b4","5787bc4f-06a4-4158-a27f-6c81fb9b1efe","e1bff221-486f-42c8-9cf3-6379f83f3510","2db01777-47d0-4230-bbe8-ef65ab694707","ab0d5acb-9230-4656-9c49-1aff13aba865","98330ff5-71d2-4ea9-945a-ba76fc282e9d","c555dc5f-766e-4b6d-8adc-711dda06ca9e","f53bfc30-59bb-4890-ba28-0b045040aa5e","4fae0653-be7f-4e10-91de-344f6c6d0a6b","62779828-3770-4944-923d-0e0a307d9cfe","9a78ba09-76ce-4344-bad5-f6d60dc0680e","63830328-e0f0-477a-b327-bc4ab921f89c","4d955058-b605-46cf-b242-1535b732af30","9a11ddf0-58ae-4450-8583-5ba3e2108e0a","1b09c4fb-e51e-4b6f-96ea-d7a92ef051d9","e8fd9138-663d-415d-9684-24343fb3248f","e013510c-b3a7-4907-b4cd-118b118d30db","7e13a286-a275-4f48-b9d0-416c9b1368ce","38e3f997-dad9-46b8-99bb-d3042488821f","026c5c21-3604-4c0a-a13c-ccb9208e4815","ce6b6618-a118-4ee9-b74c-33a848d0f0ed","d3216be6-1b27-40e7-8677-7404896b7eb6","54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf","3fb907b8-6154-452a-94f7-a018ba092632","041a3743-f888-4476-b947-fff856745c02","47aba706-2cde-4eef-9fb8-0cdd0f7805c9","93032c73-435f-4a73-8087-b71ecff3a86b","973ede9c-1a10-4482-be06-324fd481d34f","163026f4-445a-4595-936d-c0df491c3776","d43cadd5-38cc-48ce-a44d-188a8215cd7d","b4a852c3-8bab-43ef-b748-8dec9d0940f9","463a12f0-d5d5-4492-bb0f-8058cea32a41","95ddf5c1-569e-4c61-a1e8-6507fe59fc97","e02c27c7-0d8f-4899-ac46-99fcbde4d8e2","bb12e5eb-3f93-4fc7-ba98-c634aeab570c","4194acae-3f4b-4c08-98b9-907a0b5bd4b9","7197aec6-6a63-4199-be46-fe41dbe963bc","5263856d-837a-4f2d-bfc6-24cbff6c946c","7d53a42d-ea99-435e-b34c-b08a4c1d5d8d","07268062-6524-4c7a-a123-1bf8f2b1dc97","7b6c5022-b0db-4dc3-a38e-47cefabe2caf","535eb3f6-3ba4-436a-bb1a-98afa49aca4a","f3550fb0-346c-4212-b57f-86433738b50b","61e7385c-af01-4fb5-a3d1-20604e42144e","2255c884-c803-463b-86ed-ac605dbdb20d","07ffc04a-9fef-4589-93f1-7999e2ac60ff","6010106b-54da-4540-8532-04f407ec4543","1ffb90ba-821d-4d16-8520-e46604a470d7","adc7c47b-6dd7-439f-9e06-6075256c91a7","29e65d89-d04e-4ee3-9a9d-2f8856ed3055","d88da7cd-eebc-4c92-b9c3-53910376ab83","7d039e15-c906-470d-b781-943032713368","e746c4ee-0327-4529-85ac-7059a10091d3","898cec8f-fd58-426a-9065-696d924d6dd6","69787376-afa9-4f5b-9230-dbfcde06209d","9e017f37-5917-4cda-afb8-92072abdbdba","8aafeb2c-85b4-4c4e-af36-3b9efacb167c","6d0e0705-57f3-4223-8745-a27295245029","dec89a30-7004-499f-a99e-05b2842cad2b","7efc83d4-2645-4578-b588-a9cffb15524a","1769e8de-bebe-4687-a28a-34c15859ed98","203f2c30-a3cd-4f70-95b3-07df9f996428","2a0b435c-6f77-4db8-be6b-831d177bd762","eac01009-c323-46fd-8339-09c282e6597e","c4b37f96-4ab0-4a0b-a16e-55bac3e32990","4ad5c69e-0dab-4d66-b548-360da7d53568","72d89744-ac04-4dd4-be8b-9d629acd7c11","32dc3358-e954-4934-9e71-cf1dfbca5b91","961e45bd-8bed-4ebc-b3d8-1f0e63736d04"],"query2":{"aggregations":[{"property":"title","aggregator":"count"}]},"space_id":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"role":"comment_only"},"818d9fe2-a27d-40ec-b827-614939109ca4":{"value":{"id":"818d9fe2-a27d-40ec-b827-614939109ca4","version":2,"type":"gallery","format":{"gallery_cover":{"type":"page_cover"},"table_properties":[{"width":100,"visible":true,"property":"`gQ~"},{"width":116,"visible":true,"property":"bB{M"},{"width":142,"visible":true,"property":"sD^m"},{"width":219,"visible":true,"property":"title"},{"width":100,"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"width":155,"visible":true,"property":"d]hq"},{"width":352,"visible":true,"property":"wz|S"},{"width":111,"visible":true,"property":"NX\\Q"},{"width":100,"visible":true,"property":"@NcA"},{"width":117,"visible":true,"property":"Dj]h"}],"collection_groups":[{"value":{"type":"select","value":"心情随笔"},"property":"bB{M"},{"value":{"type":"select","value":"技术分享"},"property":"bB{M"},{"value":{"type":"select","value":"知行合一"},"property":"bB{M"},{"value":{"type":"select","value":"未发布"},"property":"bB{M"},{"value":{"type":"select","value":"面试准备"},"property":"bB{M"},{"value":{"type":"select"},"hidden":true,"property":"bB{M"}],"gallery_properties":[{"visible":true,"property":"title"},{"visible":true,"property":"NX\\Q"},{"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"visible":false,"property":"bB{M"},{"visible":false,"property":"Dj]h"},{"visible":false,"property":"@NcA"},{"visible":false,"property":"d]hq"},{"visible":false,"property":"wz|S"},{"visible":false,"property":"sD^m"},{"visible":false,"property":"`gQ~"}],"collection_group_by":{"sort":{"type":"manual"},"type":"select","property":"bB{M"},"table_subitem_toggle_column":"title"},"parent_id":"87ff73a8-1273-4f5f-96c1-cd1becb07207","parent_table":"block","alive":true,"space_id":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"role":"comment_only"},"ad494b39-a38c-415e-9221-325f0f9be280":{"value":{"id":"ad494b39-a38c-415e-9221-325f0f9be280","version":1,"type":"board","format":{"board_columns":[{"value":{"type":"select","value":"Draft"},"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"value":{"type":"select","value":"Invisible"},"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"value":{"type":"select","value":"Published"},"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"value":{"type":"select"},"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"}],"board_columns_by":{"sort":{"type":"manual"},"type":"select","property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},"board_properties":[{"visible":true,"property":"title"},{"visible":true,"property":"bB{M"},{"visible":true,"property":"sD^m"},{"visible":true,"property":"wz|S"},{"visible":false,"property":"NX\\Q"},{"visible":false,"property":"Dj]h"},{"visible":false,"property":"@NcA"},{"visible":false,"property":"d]hq"},{"visible":false,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"visible":false,"property":"`gQ~"}],"table_properties":[{"width":100,"visible":true,"property":"`gQ~"},{"width":116,"visible":true,"property":"bB{M"},{"width":142,"visible":true,"property":"sD^m"},{"width":219,"visible":true,"property":"title"},{"width":100,"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"width":155,"visible":true,"property":"d]hq"},{"width":352,"visible":true,"property":"wz|S"},{"width":111,"visible":true,"property":"NX\\Q"},{"width":100,"visible":true,"property":"@NcA"},{"width":117,"visible":true,"property":"Dj]h"}],"table_subitem_toggle_column":"title"},"parent_id":"87ff73a8-1273-4f5f-96c1-cd1becb07207","parent_table":"block","alive":true,"space_id":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"role":"comment_only"},"58c6fb90-5030-4627-8bad-38b57c3253cd":{"value":{"id":"58c6fb90-5030-4627-8bad-38b57c3253cd","version":27,"type":"list","name":"","format":{"list_properties":[{"visible":true,"property":"NX\\Q"},{"visible":true,"property":"d]hq"},{"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"visible":true,"property":"sD^m"},{"visible":true,"property":"`gQ~"},{"visible":false,"property":"wz|S"},{"visible":false,"property":"bB{M"},{"visible":false,"property":"Dj]h"},{"visible":false,"property":"@NcA"}],"table_properties":[{"width":100,"visible":true,"property":"`gQ~"},{"width":116,"visible":true,"property":"bB{M"},{"width":142,"visible":true,"property":"sD^m"},{"width":219,"visible":true,"property":"title"},{"width":100,"visible":true,"property":"f211bdc0-ee00-4186-9a7d-f68c055ec2ee"},{"width":155,"visible":true,"property":"d]hq"},{"width":352,"visible":true,"property":"wz|S"},{"width":111,"visible":true,"property":"NX\\Q"},{"width":100,"visible":true,"property":"@NcA"},{"width":117,"visible":true,"property":"Dj]h"}],"collection_groups":[{"value":{"type":"select","value":"心情随笔"},"property":"bB{M"},{"value":{"type":"select","value":"技术分享"},"property":"bB{M"},{"value":{"type":"select","value":"知行合一"},"property":"bB{M"},{"value":{"type":"select"},"property":"bB{M"},{"value":{"type":"select","value":"未发布"},"hidden":false,"property":"bB{M"},{"value":{"type":"select","value":"准备"},"property":"bB{M"}],"collection_group_by":{"sort":{"type":"manual"},"type":"select","property":"bB{M"},"table_subitem_toggle_column":"title"},"parent_id":"87ff73a8-1273-4f5f-96c1-cd1becb07207","parent_table":"block","alive":true,"page_sort":["aac975a5-3e4f-4274-b064-aec9a24b48be","bb12e5eb-3f93-4fc7-ba98-c634aeab570c","69787376-afa9-4f5b-9230-dbfcde06209d","07268062-6524-4c7a-a123-1bf8f2b1dc97","4fae0653-be7f-4e10-91de-344f6c6d0a6b","163026f4-445a-4595-936d-c0df491c3776","973ede9c-1a10-4482-be06-324fd481d34f","47aba706-2cde-4eef-9fb8-0cdd0f7805c9","d43cadd5-38cc-48ce-a44d-188a8215cd7d","93032c73-435f-4a73-8087-b71ecff3a86b","041a3743-f888-4476-b947-fff856745c02","95ddf5c1-569e-4c61-a1e8-6507fe59fc97","463a12f0-d5d5-4492-bb0f-8058cea32a41","b4a852c3-8bab-43ef-b748-8dec9d0940f9","7d53a42d-ea99-435e-b34c-b08a4c1d5d8d","c555dc5f-766e-4b6d-8adc-711dda06ca9e","f53bfc30-59bb-4890-ba28-0b045040aa5e","5263856d-837a-4f2d-bfc6-24cbff6c946c","7b6c5022-b0db-4dc3-a38e-47cefabe2caf","d88da7cd-eebc-4c92-b9c3-53910376ab83","7d039e15-c906-470d-b781-943032713368","e746c4ee-0327-4529-85ac-7059a10091d3","29e65d89-d04e-4ee3-9a9d-2f8856ed3055","6234c1b0-c99f-4e13-892c-77dfbbb980dc","6619e16a-8a30-411e-a0d4-3fd724006c63","2e7ee7ca-e5f6-41ae-8886-cdcebbd52a5c","54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf","d3216be6-1b27-40e7-8677-7404896b7eb6","3505b511-076b-47a7-aa1a-95e702c54e6b","ce6b6618-a118-4ee9-b74c-33a848d0f0ed","f6073c5c-d5a8-464d-90e1-2b13358989d7","463a3c80-4e43-42d9-b436-1299d00df6b2","026c5c21-3604-4c0a-a13c-ccb9208e4815","38e3f997-dad9-46b8-99bb-d3042488821f","7e13a286-a275-4f48-b9d0-416c9b1368ce","c400684e-4c92-4f33-a95c-fa250a356d9b"],"space_id":"eb3e1328-8f32-4ff5-8d18-8ea80020e175"},"role":"comment_only"}},"notion_user":{},"collection_query":{},"signed_urls":{}}},"prev":{"id":"54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf","date":{"start_date":"2024-01-01"},"type":"Post","category":"知行合一","slug":"article/begin","tags":["建站","文字","推荐"],"summary":"这是示例的文章摘要，摘要内容可被用做搜索，预览。文章列表默认展示概要；若要在列表直接展示文章内容，可在blog.config.js中配置。","title":"将进酒","status":"Published","publishDate":1704067200000,"publishDay":"2024-1-1","lastEditedDate":"2024-04-06T03:31:44.998Z","lastEditedDay":"2024-4-6","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=85\u0026fm=jpg\u0026crop=entropy\u0026cs=srgb\u0026t=54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf","pageCoverThumbnail":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=50\u0026fm=webp\u0026crop=entropy\u0026cs=srgb\u0026t=54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf\u0026width=800\u0026fmt=webp","tagItems":[{"name":"建站","color":"brown"},{"name":"文字","color":"brown"},{"name":"推荐","color":"red"}],"password":""},"next":{"id":"63830328-e0f0-477a-b327-bc4ab921f89c","date":{"start_date":"2024-04-05","date_format":"relative"},"type":"Post","category":"万里长征","slug":"article/240405-LM-01","tags":["面试"],"summary":"贝壳面试题","title":"万里长征-01-贝壳","status":"Published","publishDate":1712275200000,"publishDay":"2024-4-5","lastEditedDate":"2024-04-08T06:03:22.365Z","lastEditedDay":"2024-4-8","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://source.unsplash.com/random?t=63830328-e0f0-477a-b327-bc4ab921f89c","pageCoverThumbnail":"https://source.unsplash.com/random?t=63830328-e0f0-477a-b327-bc4ab921f89c","tagItems":[{"name":"面试","color":"yellow"}],"password":""},"recommendPosts":[{"id":"63830328-e0f0-477a-b327-bc4ab921f89c","date":{"start_date":"2024-04-05","date_format":"relative"},"type":"Post","category":"万里长征","slug":"article/240405-LM-01","tags":["面试"],"summary":"贝壳面试题","title":"万里长征-01-贝壳","status":"Published","publishDate":1712275200000,"publishDay":"2024-4-5","lastEditedDate":"2024-04-08T06:03:22.365Z","lastEditedDay":"2024-4-8","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://source.unsplash.com/random?t=63830328-e0f0-477a-b327-bc4ab921f89c","pageCoverThumbnail":"https://source.unsplash.com/random?t=63830328-e0f0-477a-b327-bc4ab921f89c","tagItems":[{"name":"面试","color":"yellow"}],"password":""},{"id":"4d955058-b605-46cf-b242-1535b732af30","date":{"start_date":"2024-04-05"},"type":"Post","category":"万里长征","slug":"article/240405-LM","tags":["面试","推荐"],"summary":"常见面试题汇总","title":"万里长征","status":"Published","publishDate":1712275200000,"publishDay":"2024-4-5","lastEditedDate":"2024-04-07T09:23:11.250Z","lastEditedDay":"2024-4-7","fullWidth":false,"pageIcon":"🗒️","pageCover":"","pageCoverThumbnail":"","tagItems":[{"name":"面试","color":"yellow"},{"name":"推荐","color":"red"}],"password":""},{"id":"d3216be6-1b27-40e7-8677-7404896b7eb6","date":{"start_date":"2024-01-18"},"type":"Post","category":"心情随笔","slug":"article/example","tags":["建站","文字","推荐"],"summary":"这是示例的文章摘要，摘要内容可被用做搜索，预览。文章列表默认展示概要；若要在列表直接展示文章内容，可在blog.config.js中配置。","title":"示例文章","status":"Published","publishDate":1705536000000,"publishDay":"2024-1-18","lastEditedDate":"2024-01-19T06:18:08.580Z","lastEditedDay":"2024-1-19","fullWidth":false,"pageIcon":"🗓️","pageCover":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=85\u0026fm=jpg\u0026crop=entropy\u0026cs=srgb\u0026t=d3216be6-1b27-40e7-8677-7404896b7eb6","pageCoverThumbnail":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=50\u0026fm=webp\u0026crop=entropy\u0026cs=srgb\u0026t=d3216be6-1b27-40e7-8677-7404896b7eb6\u0026width=800\u0026fmt=webp","tagItems":[{"name":"建站","color":"brown"},{"name":"文字","color":"brown"},{"name":"推荐","color":"red"}],"password":""},{"id":"54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf","date":{"start_date":"2024-01-01"},"type":"Post","category":"知行合一","slug":"article/begin","tags":["建站","文字","推荐"],"summary":"这是示例的文章摘要，摘要内容可被用做搜索，预览。文章列表默认展示概要；若要在列表直接展示文章内容，可在blog.config.js中配置。","title":"将进酒","status":"Published","publishDate":1704067200000,"publishDay":"2024-1-1","lastEditedDate":"2024-04-06T03:31:44.998Z","lastEditedDay":"2024-4-6","fullWidth":false,"pageIcon":"🗒️","pageCover":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=85\u0026fm=jpg\u0026crop=entropy\u0026cs=srgb\u0026t=54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf","pageCoverThumbnail":"https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3\u0026q=50\u0026fm=webp\u0026crop=entropy\u0026cs=srgb\u0026t=54d97ca6-33d5-40e6-8c8b-0ad4a4e9a0bf\u0026width=800\u0026fmt=webp","tagItems":[{"name":"建站","color":"brown"},{"name":"文字","color":"brown"},{"name":"推荐","color":"red"}],"password":""}]},"__N_SSG":true},"page":"/[prefix]/[slug]","query":{"prefix":"article","slug":"240408-LM-02"},"buildId":"9OvM5nJrj-_21T8ir_xc6","runtimeConfig":{"NODE_ENV_API":"prod","THEMES":["example","fukasawa","gitbook","heo","hexo","matery","medium","nav","next","nobelium","plog","simple"]},"isFallback":false,"dynamicIds":[10635],"gsp":true,"scriptLoader":[]}</script></body></html>